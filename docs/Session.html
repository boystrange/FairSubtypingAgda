<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Session</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Symbol">{-#</a> <a id="1153" class="Keyword">OPTIONS</a> <a id="1161" class="Pragma">--guardedness</a> <a id="1175" class="Symbol">#-}</a>

<a id="1180" class="Keyword">open</a> <a id="1185" class="Keyword">import</a> <a id="1192" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="1203" class="Keyword">open</a> <a id="1208" class="Keyword">import</a> <a id="1215" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="1226" class="Keyword">open</a> <a id="1231" class="Keyword">import</a> <a id="1238" href="Data.Product.html" class="Module">Data.Product</a>
<a id="1251" class="Keyword">open</a> <a id="1256" class="Keyword">import</a> <a id="1263" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="1272" class="Keyword">open</a> <a id="1277" class="Keyword">import</a> <a id="1284" href="Data.List.html" class="Module">Data.List</a> <a id="1294" class="Keyword">using</a> <a id="1300" class="Symbol">(</a><a id="1301" href="Data.List.Base.html#10383" class="InductiveConstructor">[]</a><a id="1303" class="Symbol">;</a> <a id="1305" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1308" class="Symbol">;</a> <a id="1310" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="1314" class="Symbol">)</a>

<a id="1317" class="Keyword">open</a> <a id="1322" class="Keyword">import</a> <a id="1329" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1346" class="Keyword">open</a> <a id="1351" class="Keyword">import</a> <a id="1358" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1373" class="Keyword">using</a> <a id="1379" class="Symbol">(</a><a id="1380" href="Relation.Unary.html#4417" class="Function Operator">_∪_</a><a id="1383" class="Symbol">;</a> <a id="1385" href="Relation.Unary.html#4503" class="Function Operator">_∩_</a><a id="1388" class="Symbol">;</a> <a id="1390" href="Relation.Unary.html#3085" class="Function">Satisfiable</a><a id="1401" class="Symbol">)</a>
<a id="1403" class="Keyword">open</a> <a id="1408" class="Keyword">import</a> <a id="1415" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a> <a id="1469" class="Keyword">using</a> <a id="1475" class="Symbol">(</a><a id="1476" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#490" class="Datatype">Star</a><a id="1480" class="Symbol">;</a> <a id="1482" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#551" class="InductiveConstructor">ε</a><a id="1483" class="Symbol">;</a> <a id="1485" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#578" class="InductiveConstructor Operator">_◅_</a><a id="1488" class="Symbol">)</a>

<a id="1491" class="Keyword">open</a> <a id="1496" class="Keyword">import</a> <a id="1503" href="Common.html" class="Module">Common</a>

<a id="1511" class="Keyword">module</a> <a id="1518" href="Session.html" class="Module">Session</a> <a id="1526" class="Symbol">{</a><a id="1527" href="Session.html#1527" class="Bound">ℙ</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1534" class="Symbol">}</a> <a id="1536" class="Symbol">(</a><a id="1537" href="Session.html#1537" class="Bound">message</a> <a id="1545" class="Symbol">:</a> <a id="1547" href="Common.html#1500" class="Record">Message</a> <a id="1555" href="Session.html#1527" class="Bound">ℙ</a><a id="1556" class="Symbol">)</a>
  <a id="1560" class="Keyword">where</a>

<a id="1567" class="Keyword">open</a> <a id="1572" class="Keyword">import</a> <a id="1579" href="Trace.html" class="Module">Trace</a> <a id="1585" href="Session.html#1537" class="Bound">message</a>
<a id="1593" class="Keyword">open</a> <a id="1598" class="Keyword">import</a> <a id="1605" href="SessionType.html" class="Module">SessionType</a> <a id="1617" href="Session.html#1537" class="Bound">message</a>
<a id="1625" class="Keyword">open</a> <a id="1630" class="Keyword">import</a> <a id="1637" href="Transitions.html" class="Module">Transitions</a> <a id="1649" href="Session.html#1537" class="Bound">message</a>
<a id="1657" class="Keyword">open</a> <a id="1662" class="Keyword">import</a> <a id="1669" href="HasTrace.html" class="Module">HasTrace</a> <a id="1678" href="Session.html#1537" class="Bound">message</a>

<a id="1687" class="Keyword">data</a> <a id="Session"></a><a id="1692" href="Session.html#1692" class="Datatype">Session</a> <a id="1700" class="Symbol">:</a> <a id="1702" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1706" class="Keyword">where</a>
  <a id="Session._#_"></a><a id="1714" href="Session.html#1714" class="InductiveConstructor Operator">_#_</a>  <a id="1719" class="Symbol">:</a> <a id="1721" class="Symbol">(</a><a id="1722" href="Session.html#1722" class="Bound">T</a> <a id="1724" class="Symbol">:</a> <a id="1726" href="SessionType.html#1658" class="Datatype">SessionType</a><a id="1737" class="Symbol">)</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Session.html#1740" class="Bound">S</a> <a id="1742" class="Symbol">:</a> <a id="1744" href="SessionType.html#1658" class="Datatype">SessionType</a><a id="1755" class="Symbol">)</a> <a id="1757" class="Symbol">-&gt;</a> <a id="1760" href="Session.html#1692" class="Datatype">Session</a>

<a id="1769" class="Keyword">data</a> <a id="Reduction"></a><a id="1774" href="Session.html#1774" class="Datatype">Reduction</a> <a id="1784" class="Symbol">:</a> <a id="1786" href="Session.html#1692" class="Datatype">Session</a> <a id="1794" class="Symbol">-&gt;</a> <a id="1797" href="Session.html#1692" class="Datatype">Session</a> <a id="1805" class="Symbol">-&gt;</a> <a id="1808" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1812" class="Keyword">where</a>
  <a id="Reduction.sync"></a><a id="1820" href="Session.html#1820" class="InductiveConstructor">sync</a> <a id="1825" class="Symbol">:</a> <a id="1827" class="Symbol">∀{</a><a id="1829" href="Session.html#1829" class="Bound">α</a> <a id="1831" href="Session.html#1831" class="Bound">R</a> <a id="1833" href="Session.html#1833" class="Bound">R&#39;</a> <a id="1836" href="Session.html#1836" class="Bound">T</a> <a id="1838" href="Session.html#1838" class="Bound">T&#39;</a><a id="1840" class="Symbol">}</a> <a id="1842" class="Symbol">(</a><a id="1843" href="Session.html#1843" class="Bound">r</a> <a id="1845" class="Symbol">:</a> <a id="1847" href="Transitions.html#1577" class="Datatype">Transition</a> <a id="1858" href="Session.html#1831" class="Bound">R</a> <a id="1860" class="Symbol">(</a><a id="1861" href="Action.html#1543" class="Function">co-action</a> <a id="1871" href="Session.html#1829" class="Bound">α</a><a id="1872" class="Symbol">)</a> <a id="1874" href="Session.html#1833" class="Bound">R&#39;</a><a id="1876" class="Symbol">)</a> <a id="1878" class="Symbol">(</a><a id="1879" href="Session.html#1879" class="Bound">t</a> <a id="1881" class="Symbol">:</a> <a id="1883" href="Transitions.html#1577" class="Datatype">Transition</a> <a id="1894" href="Session.html#1836" class="Bound">T</a> <a id="1896" href="Session.html#1829" class="Bound">α</a> <a id="1898" href="Session.html#1838" class="Bound">T&#39;</a><a id="1900" class="Symbol">)</a> <a id="1902" class="Symbol">-&gt;</a> <a id="1905" href="Session.html#1774" class="Datatype">Reduction</a> <a id="1915" class="Symbol">(</a><a id="1916" href="Session.html#1831" class="Bound">R</a> <a id="1918" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="1920" href="Session.html#1836" class="Bound">T</a><a id="1921" class="Symbol">)</a> <a id="1923" class="Symbol">(</a><a id="1924" href="Session.html#1833" class="Bound">R&#39;</a> <a id="1927" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="1929" href="Session.html#1838" class="Bound">T&#39;</a><a id="1931" class="Symbol">)</a>

<a id="Reductions"></a><a id="1934" href="Session.html#1934" class="Function">Reductions</a> <a id="1945" class="Symbol">:</a> <a id="1947" href="Session.html#1692" class="Datatype">Session</a> <a id="1955" class="Symbol">-&gt;</a> <a id="1958" href="Session.html#1692" class="Datatype">Session</a> <a id="1966" class="Symbol">-&gt;</a> <a id="1969" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1973" href="Session.html#1934" class="Function">Reductions</a> <a id="1984" class="Symbol">=</a> <a id="1986" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#490" class="Datatype">Star</a> <a id="1991" href="Session.html#1774" class="Datatype">Reduction</a>

<a id="Reduce"></a><a id="2002" href="Session.html#2002" class="Function">Reduce</a> <a id="2009" class="Symbol">:</a> <a id="2011" href="Session.html#1692" class="Datatype">Session</a> <a id="2019" class="Symbol">-&gt;</a> <a id="2022" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2026" href="Session.html#2002" class="Function">Reduce</a> <a id="2033" href="Session.html#2033" class="Bound">S</a> <a id="2035" class="Symbol">=</a> <a id="2037" href="Relation.Unary.html#3085" class="Function">Satisfiable</a> <a id="2049" class="Symbol">(</a><a id="2050" href="Session.html#1774" class="Datatype">Reduction</a> <a id="2060" href="Session.html#2033" class="Bound">S</a><a id="2061" class="Symbol">)</a>

<a id="2064" class="Keyword">data</a> <a id="Success"></a><a id="2069" href="Session.html#2069" class="Datatype">Success</a> <a id="2077" class="Symbol">:</a> <a id="2079" href="Session.html#1692" class="Datatype">Session</a> <a id="2087" class="Symbol">-&gt;</a> <a id="2090" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2094" class="Keyword">where</a>
  <a id="Success.win#def"></a><a id="2102" href="Session.html#2102" class="InductiveConstructor">win#def</a> <a id="2110" class="Symbol">:</a> <a id="2112" class="Symbol">∀{</a><a id="2114" href="Session.html#2114" class="Bound">T</a> <a id="2116" href="Session.html#2116" class="Bound">S</a><a id="2117" class="Symbol">}</a> <a id="2119" class="Symbol">(</a><a id="2120" href="Session.html#2120" class="Bound">w</a> <a id="2122" class="Symbol">:</a> <a id="2124" href="SessionType.html#3086" class="Datatype">Win</a> <a id="2128" href="Session.html#2114" class="Bound">T</a><a id="2129" class="Symbol">)</a> <a id="2131" class="Symbol">(</a><a id="2132" href="Session.html#2132" class="Bound">def</a> <a id="2136" class="Symbol">:</a> <a id="2138" href="SessionType.html#1981" class="Datatype">Defined</a> <a id="2146" href="Session.html#2116" class="Bound">S</a><a id="2147" class="Symbol">)</a> <a id="2149" class="Symbol">-&gt;</a> <a id="2152" href="Session.html#2069" class="Datatype">Success</a> <a id="2160" class="Symbol">(</a><a id="2161" href="Session.html#2114" class="Bound">T</a> <a id="2163" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="2165" href="Session.html#2116" class="Bound">S</a><a id="2166" class="Symbol">)</a>

<a id="ProgressS"></a><a id="2169" href="Session.html#2169" class="Function">ProgressS</a> <a id="2179" class="Symbol">:</a> <a id="2181" href="Session.html#1692" class="Datatype">Session</a> <a id="2189" class="Symbol">-&gt;</a> <a id="2192" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2196" href="Session.html#2169" class="Function">ProgressS</a> <a id="2206" class="Symbol">=</a> <a id="2208" href="Session.html#2069" class="Datatype">Success</a> <a id="2216" href="Relation.Unary.html#4417" class="Function Operator">∪</a> <a id="2218" href="Session.html#2002" class="Function">Reduce</a>

<a id="MaySucceed"></a><a id="2226" href="Session.html#2226" class="Function">MaySucceed</a> <a id="2237" class="Symbol">:</a> <a id="2239" href="Session.html#1692" class="Datatype">Session</a> <a id="2247" class="Symbol">-&gt;</a> <a id="2250" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2254" href="Session.html#2226" class="Function">MaySucceed</a> <a id="2265" href="Session.html#2265" class="Bound">S</a> <a id="2267" class="Symbol">=</a> <a id="2269" href="Relation.Unary.html#3085" class="Function">Satisfiable</a> <a id="2281" class="Symbol">(</a><a id="2282" href="Session.html#1934" class="Function">Reductions</a> <a id="2293" href="Session.html#2265" class="Bound">S</a> <a id="2295" href="Relation.Unary.html#4503" class="Function Operator">∩</a> <a id="2297" href="Session.html#2069" class="Datatype">Success</a><a id="2304" class="Symbol">)</a>

<a id="InvariantS"></a><a id="2307" href="Session.html#2307" class="Function">InvariantS</a> <a id="2318" class="Symbol">:</a> <a id="2320" class="Symbol">(</a><a id="2321" href="Session.html#1692" class="Datatype">Session</a> <a id="2329" class="Symbol">-&gt;</a> <a id="2332" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="2335" class="Symbol">)</a> <a id="2337" class="Symbol">-&gt;</a> <a id="2340" href="Session.html#1692" class="Datatype">Session</a> <a id="2348" class="Symbol">-&gt;</a> <a id="2351" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2355" href="Session.html#2307" class="Function">InvariantS</a> <a id="2366" href="Session.html#2366" class="Bound">P</a> <a id="2368" href="Session.html#2368" class="Bound">S</a> <a id="2370" class="Symbol">=</a> <a id="2372" class="Symbol">∀{</a><a id="2374" href="Session.html#2374" class="Bound">S&#39;</a><a id="2376" class="Symbol">}</a> <a id="2378" class="Symbol">-&gt;</a> <a id="2381" href="Session.html#1934" class="Function">Reductions</a> <a id="2392" href="Session.html#2368" class="Bound">S</a> <a id="2394" href="Session.html#2374" class="Bound">S&#39;</a> <a id="2397" class="Symbol">-&gt;</a> <a id="2400" href="Session.html#2366" class="Bound">P</a> <a id="2402" href="Session.html#2374" class="Bound">S&#39;</a>

<a id="ImplyS"></a><a id="2406" href="Session.html#2406" class="Function">ImplyS</a> <a id="2413" class="Symbol">:</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Session.html#1692" class="Datatype">Session</a> <a id="2424" class="Symbol">-&gt;</a> <a id="2427" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="2430" class="Symbol">)</a> <a id="2432" class="Symbol">-&gt;</a> <a id="2435" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2447" class="Symbol">-&gt;</a> <a id="2450" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2462" class="Symbol">-&gt;</a> <a id="2465" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2469" href="Session.html#2406" class="Function">ImplyS</a> <a id="2476" href="Session.html#2476" class="Bound">P</a> <a id="2478" href="Session.html#2478" class="Bound">T</a> <a id="2480" href="Session.html#2480" class="Bound">S</a> <a id="2482" class="Symbol">=</a> <a id="2484" class="Symbol">∀{</a><a id="2486" href="Session.html#2486" class="Bound">R</a><a id="2487" class="Symbol">}</a> <a id="2489" class="Symbol">-&gt;</a> <a id="2492" href="Session.html#2476" class="Bound">P</a> <a id="2494" class="Symbol">(</a><a id="2495" href="Session.html#2486" class="Bound">R</a> <a id="2497" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="2499" href="Session.html#2478" class="Bound">T</a><a id="2500" class="Symbol">)</a> <a id="2502" class="Symbol">-&gt;</a> <a id="2505" href="Session.html#2476" class="Bound">P</a> <a id="2507" class="Symbol">(</a><a id="2508" href="Session.html#2486" class="Bound">R</a> <a id="2510" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="2512" href="Session.html#2480" class="Bound">S</a><a id="2513" class="Symbol">)</a>

<a id="ComplianceS"></a><a id="2516" href="Session.html#2516" class="Function">ComplianceS</a> <a id="2528" class="Symbol">:</a> <a id="2530" href="Session.html#1692" class="Datatype">Session</a> <a id="2538" class="Symbol">-&gt;</a> <a id="2541" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2545" href="Session.html#2516" class="Function">ComplianceS</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Session.html#2307" class="Function">InvariantS</a> <a id="2570" href="Session.html#2169" class="Function">ProgressS</a>

<a id="FairComplianceS"></a><a id="2581" href="Session.html#2581" class="Function">FairComplianceS</a> <a id="2597" class="Symbol">:</a> <a id="2599" href="Session.html#1692" class="Datatype">Session</a> <a id="2607" class="Symbol">-&gt;</a> <a id="2610" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2614" href="Session.html#2581" class="Function">FairComplianceS</a> <a id="2630" class="Symbol">=</a> <a id="2632" href="Session.html#2307" class="Function">InvariantS</a> <a id="2643" href="Session.html#2226" class="Function">MaySucceed</a>

<a id="SubtypingS"></a><a id="2655" href="Session.html#2655" class="Function">SubtypingS</a> <a id="2666" class="Symbol">:</a> <a id="2668" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2680" class="Symbol">-&gt;</a> <a id="2683" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2695" class="Symbol">-&gt;</a> <a id="2698" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2702" href="Session.html#2655" class="Function">SubtypingS</a> <a id="2713" class="Symbol">=</a> <a id="2715" href="Session.html#2406" class="Function">ImplyS</a> <a id="2722" href="Session.html#2516" class="Function">ComplianceS</a>

<a id="FairSubtypingS"></a><a id="2735" href="Session.html#2735" class="Function">FairSubtypingS</a> <a id="2750" class="Symbol">:</a> <a id="2752" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2764" class="Symbol">-&gt;</a> <a id="2767" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2779" class="Symbol">-&gt;</a> <a id="2782" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2786" href="Session.html#2735" class="Function">FairSubtypingS</a> <a id="2801" class="Symbol">=</a> <a id="2803" href="Session.html#2406" class="Function">ImplyS</a> <a id="2810" href="Session.html#2581" class="Function">FairComplianceS</a>

<a id="ConvergenceS"></a><a id="2827" href="Session.html#2827" class="Function">ConvergenceS</a> <a id="2840" class="Symbol">:</a> <a id="2842" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2854" class="Symbol">-&gt;</a> <a id="2857" href="SessionType.html#1658" class="Datatype">SessionType</a> <a id="2869" class="Symbol">-&gt;</a> <a id="2872" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2876" href="Session.html#2827" class="Function">ConvergenceS</a> <a id="2889" href="Session.html#2889" class="Bound">T</a> <a id="2891" href="Session.html#2891" class="Bound">S</a> <a id="2893" class="Symbol">=</a> <a id="2895" class="Symbol">∀{</a><a id="2897" href="Session.html#2897" class="Bound">R</a><a id="2898" class="Symbol">}</a> <a id="2900" class="Symbol">-&gt;</a> <a id="2903" href="Session.html#2581" class="Function">FairComplianceS</a> <a id="2919" class="Symbol">(</a><a id="2920" href="Session.html#2897" class="Bound">R</a> <a id="2922" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="2924" href="Session.html#2889" class="Bound">T</a><a id="2925" class="Symbol">)</a> <a id="2927" class="Symbol">-&gt;</a> <a id="2930" href="Session.html#2226" class="Function">MaySucceed</a> <a id="2941" class="Symbol">(</a><a id="2942" href="Session.html#2897" class="Bound">R</a> <a id="2944" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="2946" href="Session.html#2891" class="Bound">S</a><a id="2947" class="Symbol">)</a>

<a id="unzip-red*"></a><a id="2950" href="Session.html#2950" class="Function">unzip-red*</a> <a id="2961" class="Symbol">:</a> <a id="2963" class="Symbol">∀{</a><a id="2965" href="Session.html#2965" class="Bound">T</a> <a id="2967" href="Session.html#2967" class="Bound">T&#39;</a> <a id="2970" href="Session.html#2970" class="Bound">S</a> <a id="2972" href="Session.html#2972" class="Bound">S&#39;</a><a id="2974" class="Symbol">}</a> <a id="2976" class="Symbol">-&gt;</a> <a id="2979" href="Session.html#1934" class="Function">Reductions</a> <a id="2990" class="Symbol">(</a><a id="2991" href="Session.html#2965" class="Bound">T</a> <a id="2993" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="2995" href="Session.html#2970" class="Bound">S</a><a id="2996" class="Symbol">)</a> <a id="2998" class="Symbol">(</a><a id="2999" href="Session.html#2967" class="Bound">T&#39;</a> <a id="3002" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="3004" href="Session.html#2972" class="Bound">S&#39;</a><a id="3006" class="Symbol">)</a> <a id="3008" class="Symbol">-&gt;</a>
             <a id="3024" href="Data.Product.html#1806" class="Function">∃[</a> <a id="3027" href="Session.html#3027" class="Bound">φ</a> <a id="3029" href="Data.Product.html#1806" class="Function">]</a> <a id="3031" class="Symbol">(</a><a id="3032" href="Transitions.html#1791" class="Datatype">Transitions</a> <a id="3044" href="Session.html#2965" class="Bound">T</a> <a id="3046" class="Symbol">(</a><a id="3047" href="Trace.html#1617" class="Function">co-trace</a> <a id="3056" href="Session.html#3027" class="Bound">φ</a><a id="3057" class="Symbol">)</a> <a id="3059" href="Session.html#2967" class="Bound">T&#39;</a> <a id="3062" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3064" href="Transitions.html#1791" class="Datatype">Transitions</a> <a id="3076" href="Session.html#2970" class="Bound">S</a> <a id="3078" href="Session.html#3027" class="Bound">φ</a> <a id="3080" href="Session.html#2972" class="Bound">S&#39;</a><a id="3082" class="Symbol">)</a>
<a id="3084" href="Session.html#2950" class="Function">unzip-red*</a> <a id="3095" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#551" class="InductiveConstructor">ε</a> <a id="3097" class="Symbol">=</a> <a id="3099" class="Symbol">_</a> <a id="3101" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3103" href="Transitions.html#1856" class="InductiveConstructor">refl</a> <a id="3108" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3110" href="Transitions.html#1856" class="InductiveConstructor">refl</a>
<a id="3115" href="Session.html#2950" class="Function">unzip-red*</a> <a id="3126" class="Symbol">(</a><a id="3127" href="Session.html#1820" class="InductiveConstructor">sync</a> <a id="3132" href="Session.html#3132" class="Bound">r</a> <a id="3134" href="Session.html#3134" class="Bound">t</a> <a id="3136" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#578" class="InductiveConstructor Operator">◅</a> <a id="3138" href="Session.html#3138" class="Bound">reds</a><a id="3142" class="Symbol">)</a> <a id="3144" class="Symbol">=</a>
  <a id="3148" class="Keyword">let</a> <a id="3152" class="Symbol">_</a> <a id="3154" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3156" href="Session.html#3156" class="Bound">tr</a> <a id="3159" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3161" href="Session.html#3161" class="Bound">sr</a> <a id="3164" class="Symbol">=</a> <a id="3166" href="Session.html#2950" class="Function">unzip-red*</a> <a id="3177" href="Session.html#3138" class="Bound">reds</a> <a id="3182" class="Keyword">in</a>
  <a id="3187" class="Symbol">_</a> <a id="3189" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3191" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="3196" href="Session.html#3132" class="Bound">r</a> <a id="3198" href="Session.html#3156" class="Bound">tr</a> <a id="3201" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3203" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="3208" href="Session.html#3134" class="Bound">t</a> <a id="3210" href="Session.html#3161" class="Bound">sr</a>

<a id="zip-red*"></a><a id="3214" href="Session.html#3214" class="Function">zip-red*</a> <a id="3223" class="Symbol">:</a> <a id="3225" class="Symbol">∀{</a><a id="3227" href="Session.html#3227" class="Bound">φ</a> <a id="3229" href="Session.html#3229" class="Bound">T</a> <a id="3231" href="Session.html#3231" class="Bound">T&#39;</a> <a id="3234" href="Session.html#3234" class="Bound">S</a> <a id="3236" href="Session.html#3236" class="Bound">S&#39;</a><a id="3238" class="Symbol">}</a> <a id="3240" class="Symbol">-&gt;</a>
           <a id="3254" href="Transitions.html#1791" class="Datatype">Transitions</a> <a id="3266" href="Session.html#3229" class="Bound">T</a> <a id="3268" class="Symbol">(</a><a id="3269" href="Trace.html#1617" class="Function">co-trace</a> <a id="3278" href="Session.html#3227" class="Bound">φ</a><a id="3279" class="Symbol">)</a> <a id="3281" href="Session.html#3231" class="Bound">T&#39;</a> <a id="3284" class="Symbol">-&gt;</a>
           <a id="3298" href="Transitions.html#1791" class="Datatype">Transitions</a> <a id="3310" href="Session.html#3234" class="Bound">S</a> <a id="3312" href="Session.html#3227" class="Bound">φ</a> <a id="3314" href="Session.html#3236" class="Bound">S&#39;</a> <a id="3317" class="Symbol">-&gt;</a>
           <a id="3331" href="Session.html#1934" class="Function">Reductions</a> <a id="3342" class="Symbol">(</a><a id="3343" href="Session.html#3229" class="Bound">T</a> <a id="3345" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="3347" href="Session.html#3234" class="Bound">S</a><a id="3348" class="Symbol">)</a> <a id="3350" class="Symbol">(</a><a id="3351" href="Session.html#3231" class="Bound">T&#39;</a> <a id="3354" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="3356" href="Session.html#3236" class="Bound">S&#39;</a><a id="3358" class="Symbol">)</a>
<a id="3360" href="Session.html#3214" class="Function">zip-red*</a> <a id="3369" href="Transitions.html#1856" class="InductiveConstructor">refl</a> <a id="3374" href="Transitions.html#1856" class="InductiveConstructor">refl</a> <a id="3379" class="Symbol">=</a> <a id="3381" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#551" class="InductiveConstructor">ε</a>
<a id="3383" href="Session.html#3214" class="Function">zip-red*</a> <a id="3392" class="Symbol">(</a><a id="3393" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="3398" href="Session.html#3398" class="Bound">t</a> <a id="3400" href="Session.html#3400" class="Bound">tr</a><a id="3402" class="Symbol">)</a> <a id="3404" class="Symbol">(</a><a id="3405" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="3410" href="Session.html#3410" class="Bound">s</a> <a id="3412" href="Session.html#3412" class="Bound">sr</a><a id="3414" class="Symbol">)</a> <a id="3416" class="Symbol">=</a> <a id="3418" href="Session.html#1820" class="InductiveConstructor">sync</a> <a id="3423" href="Session.html#3398" class="Bound">t</a> <a id="3425" href="Session.html#3410" class="Bound">s</a> <a id="3427" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#578" class="InductiveConstructor Operator">◅</a> <a id="3429" href="Session.html#3214" class="Function">zip-red*</a> <a id="3438" href="Session.html#3400" class="Bound">tr</a> <a id="3441" href="Session.html#3412" class="Bound">sr</a>

<a id="zip-traces"></a><a id="3445" href="Session.html#3445" class="Function">zip-traces</a> <a id="3456" class="Symbol">:</a>
  <a id="3460" class="Symbol">∀{</a><a id="3462" href="Session.html#3462" class="Bound">R</a> <a id="3464" href="Session.html#3464" class="Bound">T</a> <a id="3466" href="Session.html#3466" class="Bound">φ</a><a id="3467" class="Symbol">}</a>
  <a id="3471" class="Symbol">(</a><a id="3472" href="Session.html#3472" class="Bound">rφ</a> <a id="3475" class="Symbol">:</a> <a id="3477" href="Session.html#3462" class="Bound">R</a> <a id="3479" href="HasTrace.html#1645" class="Function Operator">HasTrace</a> <a id="3488" class="Symbol">(</a><a id="3489" href="Trace.html#1617" class="Function">co-trace</a> <a id="3498" href="Session.html#3466" class="Bound">φ</a><a id="3499" class="Symbol">))</a>
  <a id="3504" class="Symbol">(</a><a id="3505" href="Session.html#3505" class="Bound">tφ</a> <a id="3508" class="Symbol">:</a> <a id="3510" href="Session.html#3464" class="Bound">T</a> <a id="3512" href="HasTrace.html#1645" class="Function Operator">HasTrace</a> <a id="3521" href="Session.html#3466" class="Bound">φ</a><a id="3522" class="Symbol">)</a> <a id="3524" class="Symbol">-&gt;</a>
  <a id="3529" href="Session.html#1934" class="Function">Reductions</a> <a id="3540" class="Symbol">(</a><a id="3541" href="Session.html#3462" class="Bound">R</a> <a id="3543" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="3545" href="Session.html#3464" class="Bound">T</a><a id="3546" class="Symbol">)</a> <a id="3548" class="Symbol">(</a><a id="3549" href="HasTrace.html#1743" class="Function">after</a> <a id="3555" href="Session.html#3472" class="Bound">rφ</a> <a id="3558" href="Session.html#1714" class="InductiveConstructor Operator">#</a> <a id="3560" href="HasTrace.html#1743" class="Function">after</a> <a id="3566" href="Session.html#3505" class="Bound">tφ</a><a id="3568" class="Symbol">)</a>
<a id="3570" href="Session.html#3445" class="Function">zip-traces</a> <a id="3581" class="Symbol">(_</a> <a id="3584" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3586" class="Symbol">_</a> <a id="3588" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3590" href="Session.html#3590" class="Bound">rr</a><a id="3592" class="Symbol">)</a> <a id="3594" class="Symbol">(_</a> <a id="3597" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3599" class="Symbol">_</a> <a id="3601" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3603" href="Session.html#3603" class="Bound">tr</a><a id="3605" class="Symbol">)</a> <a id="3607" class="Symbol">=</a> <a id="3609" href="Session.html#3214" class="Function">zip-red*</a> <a id="3618" href="Session.html#3590" class="Bound">rr</a> <a id="3621" href="Session.html#3603" class="Bound">tr</a>

<a id="success-not-reduce"></a><a id="3625" href="Session.html#3625" class="Function">success-not-reduce</a> <a id="3644" class="Symbol">:</a> <a id="3646" class="Symbol">∀{</a><a id="3648" href="Session.html#3648" class="Bound">S</a> <a id="3650" href="Session.html#3650" class="Bound">S&#39;</a><a id="3652" class="Symbol">}</a> <a id="3654" class="Symbol">→</a> <a id="3656" href="Session.html#2069" class="Datatype">Success</a> <a id="3664" href="Session.html#3648" class="Bound">S</a> <a id="3666" class="Symbol">→</a> <a id="3668" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="3670" class="Symbol">(</a><a id="3671" href="Session.html#1774" class="Datatype">Reduction</a> <a id="3681" href="Session.html#3648" class="Bound">S</a> <a id="3683" href="Session.html#3650" class="Bound">S&#39;</a><a id="3685" class="Symbol">)</a>
<a id="3687" href="Session.html#3625" class="Function">success-not-reduce</a> <a id="3706" class="Symbol">(</a><a id="3707" href="Session.html#2102" class="InductiveConstructor">win#def</a> <a id="3715" href="Session.html#3715" class="Bound">win</a> <a id="3719" class="Symbol">_)</a> <a id="3722" class="Symbol">(</a><a id="3723" href="Session.html#1820" class="InductiveConstructor">sync</a> <a id="3728" href="Session.html#3728" class="Bound">r</a> <a id="3730" class="Symbol">_)</a> <a id="3733" class="Symbol">=</a> <a id="3735" href="Transitions.html#3364" class="Function">win-reduces-⊥</a> <a id="3749" href="Session.html#3715" class="Bound">win</a> <a id="3753" href="Session.html#3728" class="Bound">r</a>
</pre></body></html>