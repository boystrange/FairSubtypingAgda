<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Action</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Keyword">open</a> <a id="1154" class="Keyword">import</a> <a id="1161" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1178" class="Keyword">open</a> <a id="1183" class="Keyword">import</a> <a id="1190" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1228" class="Keyword">using</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1238" class="Symbol">;</a> <a id="1240" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1244" class="Symbol">)</a>

<a id="1247" class="Keyword">open</a> <a id="1252" class="Keyword">import</a> <a id="1259" href="Common.html" class="Module">Common</a>

<a id="1267" class="Keyword">module</a> <a id="1274" href="Action.html" class="Module">Action</a> <a id="1281" class="Symbol">{</a><a id="1282" href="Action.html#1282" class="Bound">ℙ</a> <a id="1284" class="Symbol">:</a> <a id="1286" class="PrimitiveType">Set</a><a id="1289" class="Symbol">}</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Action.html#1292" class="Bound">message</a> <a id="1300" class="Symbol">:</a> <a id="1302" href="Common.html#1500" class="Record">Message</a> <a id="1310" href="Action.html#1282" class="Bound">ℙ</a><a id="1311" class="Symbol">)</a>
  <a id="1315" class="Keyword">where</a>

<a id="1322" class="Keyword">open</a> <a id="1327" href="Common.html#1500" class="Module">Message</a> <a id="1335" href="Action.html#1292" class="Bound">message</a>

<a id="1344" class="Keyword">data</a> <a id="Action"></a><a id="1349" href="Action.html#1349" class="Datatype">Action</a> <a id="1356" class="Symbol">:</a> <a id="1358" class="PrimitiveType">Set</a> <a id="1362" class="Keyword">where</a>
  <a id="Action.I"></a><a id="1370" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="Action.O"></a><a id="1372" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1374" class="Symbol">:</a> <a id="1376" href="Action.html#1282" class="Bound">ℙ</a> <a id="1378" class="Symbol">-&gt;</a> <a id="1381" href="Action.html#1349" class="Datatype">Action</a>

<a id="input-injective"></a><a id="1389" href="Action.html#1389" class="Function">input-injective</a> <a id="1405" class="Symbol">:</a> <a id="1407" class="Symbol">∀{</a><a id="1409" href="Action.html#1409" class="Bound">x</a> <a id="1411" href="Action.html#1411" class="Bound">y</a><a id="1412" class="Symbol">}</a> <a id="1414" class="Symbol">-&gt;</a> <a id="1417" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1419" href="Action.html#1409" class="Bound">x</a> <a id="1421" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1423" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1425" href="Action.html#1411" class="Bound">y</a> <a id="1427" class="Symbol">-&gt;</a> <a id="1430" href="Action.html#1409" class="Bound">x</a> <a id="1432" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1434" href="Action.html#1411" class="Bound">y</a>
<a id="1436" href="Action.html#1389" class="Function">input-injective</a> <a id="1452" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1457" class="Symbol">=</a> <a id="1459" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="output-injective"></a><a id="1465" href="Action.html#1465" class="Function">output-injective</a> <a id="1482" class="Symbol">:</a> <a id="1484" class="Symbol">∀{</a><a id="1486" href="Action.html#1486" class="Bound">x</a> <a id="1488" href="Action.html#1488" class="Bound">y</a><a id="1489" class="Symbol">}</a> <a id="1491" class="Symbol">-&gt;</a> <a id="1494" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1496" href="Action.html#1486" class="Bound">x</a> <a id="1498" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1500" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1502" href="Action.html#1488" class="Bound">y</a> <a id="1504" class="Symbol">-&gt;</a> <a id="1507" href="Action.html#1486" class="Bound">x</a> <a id="1509" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1511" href="Action.html#1488" class="Bound">y</a>
<a id="1513" href="Action.html#1465" class="Function">output-injective</a> <a id="1530" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1535" class="Symbol">=</a> <a id="1537" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="co-action"></a><a id="1543" href="Action.html#1543" class="Function">co-action</a> <a id="1553" class="Symbol">:</a> <a id="1555" href="Action.html#1349" class="Datatype">Action</a> <a id="1562" class="Symbol">-&gt;</a> <a id="1565" href="Action.html#1349" class="Datatype">Action</a>
<a id="1572" href="Action.html#1543" class="Function">co-action</a> <a id="1582" class="Symbol">(</a><a id="1583" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1585" href="Action.html#1585" class="Bound">x</a><a id="1586" class="Symbol">)</a> <a id="1588" class="Symbol">=</a> <a id="1590" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1592" href="Action.html#1585" class="Bound">x</a>
<a id="1594" href="Action.html#1543" class="Function">co-action</a> <a id="1604" class="Symbol">(</a><a id="1605" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1607" href="Action.html#1607" class="Bound">x</a><a id="1608" class="Symbol">)</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1614" href="Action.html#1607" class="Bound">x</a>

<a id="co-action-injective"></a><a id="1617" href="Action.html#1617" class="Function">co-action-injective</a> <a id="1637" class="Symbol">:</a> <a id="1639" class="Symbol">∀{</a><a id="1641" href="Action.html#1641" class="Bound">x</a> <a id="1643" href="Action.html#1643" class="Bound">y</a><a id="1644" class="Symbol">}</a> <a id="1646" class="Symbol">-&gt;</a> <a id="1649" href="Action.html#1543" class="Function">co-action</a> <a id="1659" href="Action.html#1641" class="Bound">x</a> <a id="1661" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1663" href="Action.html#1543" class="Function">co-action</a> <a id="1673" href="Action.html#1643" class="Bound">y</a> <a id="1675" class="Symbol">-&gt;</a> <a id="1678" href="Action.html#1641" class="Bound">x</a> <a id="1680" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1682" href="Action.html#1643" class="Bound">y</a>
<a id="1684" href="Action.html#1617" class="Function">co-action-injective</a> <a id="1704" class="Symbol">{</a><a id="1705" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1707" href="Action.html#1707" class="Bound">x</a><a id="1708" class="Symbol">}</a> <a id="1710" class="Symbol">{</a><a id="1711" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1713" class="DottedPattern Symbol">.</a><a id="1714" href="Action.html#1707" class="DottedPattern Bound">x</a><a id="1715" class="Symbol">}</a> <a id="1717" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1729" href="Action.html#1617" class="Function">co-action-injective</a> <a id="1749" class="Symbol">{</a><a id="1750" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1752" href="Action.html#1752" class="Bound">x</a><a id="1753" class="Symbol">}</a> <a id="1755" class="Symbol">{</a><a id="1756" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1758" class="DottedPattern Symbol">.</a><a id="1759" href="Action.html#1752" class="DottedPattern Bound">x</a><a id="1760" class="Symbol">}</a> <a id="1762" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1767" class="Symbol">=</a> <a id="1769" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="co-action-involution"></a><a id="1775" href="Action.html#1775" class="Function">co-action-involution</a> <a id="1796" class="Symbol">:</a> <a id="1798" class="Symbol">(</a><a id="1799" href="Action.html#1799" class="Bound">α</a> <a id="1801" class="Symbol">:</a> <a id="1803" href="Action.html#1349" class="Datatype">Action</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">-&gt;</a> <a id="1814" href="Action.html#1543" class="Function">co-action</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Action.html#1543" class="Function">co-action</a> <a id="1835" href="Action.html#1799" class="Bound">α</a><a id="1836" class="Symbol">)</a> <a id="1838" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1840" href="Action.html#1799" class="Bound">α</a>
<a id="1842" href="Action.html#1775" class="Function">co-action-involution</a> <a id="1863" class="Symbol">(</a><a id="1864" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1866" class="Symbol">_)</a> <a id="1869" class="Symbol">=</a> <a id="1871" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1876" href="Action.html#1775" class="Function">co-action-involution</a> <a id="1897" class="Symbol">(</a><a id="1898" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1900" class="Symbol">_)</a> <a id="1903" class="Symbol">=</a> <a id="1905" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="action-equality-dec"></a><a id="1911" href="Action.html#1911" class="Function">action-equality-dec</a> <a id="1931" class="Symbol">:</a> <a id="1933" class="Symbol">(</a><a id="1934" href="Action.html#1934" class="Bound">α</a> <a id="1936" href="Action.html#1936" class="Bound">β</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Action.html#1349" class="Datatype">Action</a><a id="1946" class="Symbol">)</a> <a id="1948" class="Symbol">-&gt;</a> <a id="1951" href="Relation.Nullary.html#1508" class="Record">Dec</a> <a id="1955" class="Symbol">(</a><a id="1956" href="Action.html#1934" class="Bound">α</a> <a id="1958" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1960" href="Action.html#1936" class="Bound">β</a><a id="1961" class="Symbol">)</a>
<a id="1963" href="Action.html#1911" class="Function">action-equality-dec</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1986" href="Action.html#1986" class="Bound">x</a><a id="1987" class="Symbol">)</a> <a id="1989" class="Symbol">(</a><a id="1990" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1992" href="Action.html#1992" class="Bound">y</a><a id="1993" class="Symbol">)</a> <a id="1995" class="Keyword">with</a> <a id="2000" href="Action.html#1986" class="Bound">x</a> <a id="2002" href="Common.html#1557" class="Field Operator">?=</a> <a id="2005" href="Action.html#1992" class="Bound">y</a>
<a id="2007" class="Symbol">...</a> <a id="2011" class="Symbol">|</a> <a id="2013" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2017" href="Action.html#2017" class="Bound">eq</a> <a id="2020" class="Keyword">rewrite</a> <a id="2028" href="Action.html#2017" class="Bound">eq</a> <a id="2031" class="Symbol">=</a> <a id="2033" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2037" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2042" class="Symbol">...</a> <a id="2046" class="Symbol">|</a> <a id="2048" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2051" href="Action.html#2051" class="Bound">neq</a> <a id="2055" class="Symbol">=</a> <a id="2057" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2060" class="Symbol">λ</a> <a id="2062" href="Action.html#2062" class="Bound">eq</a> <a id="2065" class="Symbol">-&gt;</a> <a id="2068" href="Action.html#2051" class="Bound">neq</a> <a id="2072" class="Symbol">(</a><a id="2073" href="Action.html#1389" class="Function">input-injective</a> <a id="2089" href="Action.html#2062" class="Bound">eq</a><a id="2091" class="Symbol">)</a>
<a id="2093" href="Action.html#1911" class="Function">action-equality-dec</a> <a id="2113" class="Symbol">(</a><a id="2114" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2116" href="Action.html#2116" class="Bound">x</a><a id="2117" class="Symbol">)</a> <a id="2119" class="Symbol">(</a><a id="2120" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2122" href="Action.html#2122" class="Bound">y</a><a id="2123" class="Symbol">)</a> <a id="2125" class="Symbol">=</a> <a id="2127" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2130" class="Symbol">λ</a> <a id="2132" class="Symbol">()</a>
<a id="2135" href="Action.html#1911" class="Function">action-equality-dec</a> <a id="2155" class="Symbol">(</a><a id="2156" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2158" href="Action.html#2158" class="Bound">x</a><a id="2159" class="Symbol">)</a> <a id="2161" class="Symbol">(</a><a id="2162" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2164" href="Action.html#2164" class="Bound">y</a><a id="2165" class="Symbol">)</a> <a id="2167" class="Symbol">=</a> <a id="2169" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2172" class="Symbol">λ</a> <a id="2174" class="Symbol">()</a>
<a id="2177" href="Action.html#1911" class="Function">action-equality-dec</a> <a id="2197" class="Symbol">(</a><a id="2198" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2200" href="Action.html#2200" class="Bound">x</a><a id="2201" class="Symbol">)</a> <a id="2203" class="Symbol">(</a><a id="2204" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2206" href="Action.html#2206" class="Bound">y</a><a id="2207" class="Symbol">)</a> <a id="2209" class="Keyword">with</a> <a id="2214" href="Action.html#2200" class="Bound">x</a> <a id="2216" href="Common.html#1557" class="Field Operator">?=</a> <a id="2219" href="Action.html#2206" class="Bound">y</a>
<a id="2221" class="Symbol">...</a> <a id="2225" class="Symbol">|</a> <a id="2227" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2231" href="Action.html#2231" class="Bound">eq</a> <a id="2234" class="Keyword">rewrite</a> <a id="2242" href="Action.html#2231" class="Bound">eq</a> <a id="2245" class="Symbol">=</a> <a id="2247" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2251" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2256" class="Symbol">...</a> <a id="2260" class="Symbol">|</a> <a id="2262" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2265" href="Action.html#2265" class="Bound">neq</a> <a id="2269" class="Symbol">=</a> <a id="2271" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2274" class="Symbol">λ</a> <a id="2276" href="Action.html#2276" class="Bound">eq</a> <a id="2279" class="Symbol">-&gt;</a> <a id="2282" href="Action.html#2265" class="Bound">neq</a> <a id="2286" class="Symbol">(</a><a id="2287" href="Action.html#1465" class="Function">output-injective</a> <a id="2304" href="Action.html#2276" class="Bound">eq</a><a id="2306" class="Symbol">)</a>
</pre></body></html>