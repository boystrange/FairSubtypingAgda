<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Convergence</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Keyword">open</a> <a id="1154" class="Keyword">import</a> <a id="1161" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="1172" class="Keyword">open</a> <a id="1177" class="Keyword">import</a> <a id="1184" href="Data.Product.html" class="Module">Data.Product</a>
<a id="1197" class="Keyword">open</a> <a id="1202" class="Keyword">import</a> <a id="1209" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="1218" class="Keyword">open</a> <a id="1223" class="Keyword">import</a> <a id="1230" href="Data.List.html" class="Module">Data.List</a> <a id="1240" class="Keyword">using</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="1249" class="Symbol">;</a> <a id="1251" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1254" class="Symbol">;</a> <a id="1256" href="Data.List.Base.html#9641" class="Function Operator">_∷ʳ_</a><a id="1260" class="Symbol">;</a> <a id="1262" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="1266" class="Symbol">)</a>

<a id="1269" class="Keyword">open</a> <a id="1274" class="Keyword">import</a> <a id="1281" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1298" class="Keyword">open</a> <a id="1303" class="Keyword">import</a> <a id="1310" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1348" class="Keyword">using</a> <a id="1354" class="Symbol">(</a><a id="1355" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1358" class="Symbol">;</a> <a id="1360" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1364" class="Symbol">;</a> <a id="1366" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="1371" class="Symbol">;</a> <a id="1373" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="1376" class="Symbol">)</a>
<a id="1378" class="Keyword">open</a> <a id="1383" class="Keyword">import</a> <a id="1390" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a> <a id="1444" class="Keyword">using</a> <a id="1450" class="Symbol">(</a><a id="1451" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#833" class="Function Operator">_◅◅_</a><a id="1455" class="Symbol">)</a>

<a id="1458" class="Keyword">open</a> <a id="1463" class="Keyword">import</a> <a id="1470" href="Function.Base.html" class="Module">Function.Base</a> <a id="1484" class="Keyword">using</a> <a id="1490" class="Symbol">(</a><a id="1491" href="Function.Base.html#4121" class="Function Operator">case_of_</a><a id="1499" class="Symbol">)</a>

<a id="1502" class="Keyword">open</a> <a id="1507" class="Keyword">import</a> <a id="1514" href="Common.html" class="Module">Common</a>

<a id="1522" class="Keyword">module</a> <a id="1529" href="Convergence.html" class="Module">Convergence</a> <a id="1541" class="Symbol">{</a><a id="1542" href="Convergence.html#1542" class="Bound">ℙ</a> <a id="1544" class="Symbol">:</a> <a id="1546" class="PrimitiveType">Set</a><a id="1549" class="Symbol">}</a> <a id="1551" class="Symbol">(</a><a id="1552" href="Convergence.html#1552" class="Bound">message</a> <a id="1560" class="Symbol">:</a> <a id="1562" href="Common.html#1500" class="Record">Message</a> <a id="1570" href="Convergence.html#1542" class="Bound">ℙ</a><a id="1571" class="Symbol">)</a>
  <a id="1575" class="Keyword">where</a>

<a id="1582" class="Keyword">open</a> <a id="1587" class="Keyword">import</a> <a id="1594" href="Trace.html" class="Module">Trace</a> <a id="1600" href="Convergence.html#1552" class="Bound">message</a>
<a id="1608" class="Keyword">open</a> <a id="1613" class="Keyword">import</a> <a id="1620" href="SessionType.html" class="Module">SessionType</a> <a id="1632" href="Convergence.html#1552" class="Bound">message</a>
<a id="1640" class="Keyword">open</a> <a id="1645" class="Keyword">import</a> <a id="1652" href="Transitions.html" class="Module">Transitions</a> <a id="1664" href="Convergence.html#1552" class="Bound">message</a>
<a id="1672" class="Keyword">open</a> <a id="1677" class="Keyword">import</a> <a id="1684" href="HasTrace.html" class="Module">HasTrace</a> <a id="1693" href="Convergence.html#1552" class="Bound">message</a>
<a id="1701" class="Keyword">open</a> <a id="1706" class="Keyword">import</a> <a id="1713" href="Session.html" class="Module">Session</a> <a id="1721" href="Convergence.html#1552" class="Bound">message</a>
<a id="1729" class="Keyword">open</a> <a id="1734" class="Keyword">import</a> <a id="1741" href="Subtyping.html" class="Module">Subtyping</a> <a id="1751" href="Convergence.html#1552" class="Bound">message</a>
<a id="1759" class="Keyword">open</a> <a id="1764" class="Keyword">import</a> <a id="1771" href="TraceInclusion.html" class="Module">TraceInclusion</a> <a id="1786" href="Convergence.html#1552" class="Bound">message</a>
<a id="1794" class="Keyword">open</a> <a id="1799" class="Keyword">import</a> <a id="1806" href="FairCompliance.html" class="Module">FairCompliance</a> <a id="1821" href="Convergence.html#1552" class="Bound">message</a>
<a id="1829" class="Keyword">open</a> <a id="1834" class="Keyword">import</a> <a id="1841" href="Divergence.html" class="Module">Divergence</a> <a id="1852" href="Convergence.html#1552" class="Bound">message</a>

<a id="PreConvergence"></a><a id="1861" href="Convergence.html#1861" class="Function">PreConvergence</a> <a id="1876" class="Symbol">:</a> <a id="1878" class="Symbol">(</a><a id="1879" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1891" class="Symbol">-&gt;</a> <a id="1894" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1906" class="Symbol">-&gt;</a> <a id="1909" class="PrimitiveType">Set</a><a id="1912" class="Symbol">)</a> <a id="1914" class="Symbol">-&gt;</a> <a id="1917" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1929" class="Symbol">-&gt;</a> <a id="1932" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1944" class="Symbol">-&gt;</a> <a id="1947" class="PrimitiveType">Set</a>
<a id="1951" href="Convergence.html#1861" class="Function">PreConvergence</a> <a id="1966" href="Convergence.html#1966" class="Bound">rel</a> <a id="1970" href="Convergence.html#1970" class="Bound">T</a> <a id="1972" href="Convergence.html#1972" class="Bound">S</a> <a id="1974" class="Symbol">=</a>
  <a id="1978" class="Symbol">∀{</a><a id="1980" href="Convergence.html#1980" class="Bound">φ</a><a id="1981" class="Symbol">}</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Convergence.html#1984" class="Bound">tφ</a> <a id="1987" class="Symbol">:</a> <a id="1989" href="Convergence.html#1970" class="Bound">T</a> <a id="1991" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="2000" href="Convergence.html#1980" class="Bound">φ</a><a id="2001" class="Symbol">)</a> <a id="2003" class="Symbol">(</a><a id="2004" href="Convergence.html#2004" class="Bound">sφ</a> <a id="2007" class="Symbol">:</a> <a id="2009" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2011" href="Convergence.html#1972" class="Bound">S</a> <a id="2013" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="2022" href="Convergence.html#1980" class="Bound">φ</a><a id="2023" class="Symbol">)</a> <a id="2025" class="Symbol">-&gt;</a>
  <a id="2030" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2033" href="Convergence.html#2033" class="Bound">ψ</a> <a id="2035" href="Data.Product.html#1788" class="Function">]</a> <a id="2037" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2040" href="Convergence.html#2040" class="Bound">x</a> <a id="2042" href="Data.Product.html#1788" class="Function">]</a> <a id="2044" class="Symbol">(</a><a id="2045" href="Convergence.html#2033" class="Bound">ψ</a> <a id="2047" href="Trace.html#2275" class="Datatype Operator">⊑</a> <a id="2049" href="Convergence.html#1980" class="Bound">φ</a> <a id="2051" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2053" href="Data.Product.html#1369" class="Function">∃</a> <a id="2055" class="Symbol">λ</a> <a id="2057" class="Symbol">(</a><a id="2058" href="Convergence.html#2058" class="Bound">tψ</a> <a id="2061" class="Symbol">:</a> <a id="2063" href="Convergence.html#1970" class="Bound">T</a> <a id="2065" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="2074" class="Symbol">(</a><a id="2075" href="Convergence.html#2033" class="Bound">ψ</a> <a id="2077" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="2080" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2082" href="Convergence.html#2040" class="Bound">x</a><a id="2083" class="Symbol">))</a> <a id="2086" class="Symbol">-&gt;</a>
                         <a id="2114" href="Data.Product.html#1369" class="Function">∃</a> <a id="2116" class="Symbol">λ</a> <a id="2118" class="Symbol">(</a><a id="2119" href="Convergence.html#2119" class="Bound">sψ</a> <a id="2122" class="Symbol">:</a> <a id="2124" href="Convergence.html#1972" class="Bound">S</a> <a id="2126" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="2135" class="Symbol">(</a><a id="2136" href="Convergence.html#2033" class="Bound">ψ</a> <a id="2138" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="2141" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2143" href="Convergence.html#2040" class="Bound">x</a><a id="2144" class="Symbol">))</a> <a id="2147" class="Symbol">-&gt;</a>
                         <a id="2175" href="Convergence.html#1966" class="Bound">rel</a> <a id="2179" class="Symbol">(</a><a id="2180" href="HasTrace.html#1664" class="Function">after</a> <a id="2186" href="Convergence.html#2058" class="Bound">tψ</a><a id="2188" class="Symbol">)</a> <a id="2190" class="Symbol">(</a><a id="2191" href="HasTrace.html#1664" class="Function">after</a> <a id="2197" href="Convergence.html#2119" class="Bound">sψ</a><a id="2199" class="Symbol">))</a>

<a id="2203" class="Keyword">data</a> <a id="_↓_"></a><a id="2208" href="Convergence.html#2208" class="Datatype Operator">_↓_</a> <a id="2212" class="Symbol">:</a> <a id="2214" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="2226" class="Symbol">-&gt;</a> <a id="2229" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="2241" class="Symbol">-&gt;</a> <a id="2244" class="PrimitiveType">Set</a> <a id="2248" class="Keyword">where</a>
  <a id="_↓_.converge"></a><a id="2256" href="Convergence.html#2256" class="InductiveConstructor">converge</a> <a id="2265" class="Symbol">:</a> <a id="2267" class="Symbol">∀{</a><a id="2269" href="Convergence.html#2269" class="Bound">T</a> <a id="2271" href="Convergence.html#2271" class="Bound">S</a><a id="2272" class="Symbol">}</a> <a id="2274" class="Symbol">-&gt;</a> <a id="2277" href="Convergence.html#1861" class="Function">PreConvergence</a> <a id="2292" href="Convergence.html#2208" class="Datatype Operator">_↓_</a> <a id="2296" href="Convergence.html#2269" class="Bound">T</a> <a id="2298" href="Convergence.html#2271" class="Bound">S</a> <a id="2300" class="Symbol">-&gt;</a> <a id="2303" href="Convergence.html#2269" class="Bound">T</a> <a id="2305" href="Convergence.html#2208" class="Datatype Operator">↓</a> <a id="2307" href="Convergence.html#2271" class="Bound">S</a>

<a id="Convergence"></a><a id="2310" href="Convergence.html#2310" class="Function">Convergence</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="2336" class="Symbol">-&gt;</a> <a id="2339" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="2351" class="Symbol">-&gt;</a> <a id="2354" class="PrimitiveType">Set</a>
<a id="2358" href="Convergence.html#2310" class="Function">Convergence</a> <a id="2370" class="Symbol">=</a> <a id="2372" href="Convergence.html#1861" class="Function">PreConvergence</a> <a id="2387" href="Convergence.html#2208" class="Datatype Operator">_↓_</a>

<a id="con-sound"></a><a id="2392" href="Convergence.html#2392" class="Function">con-sound</a> <a id="2402" class="Symbol">:</a> <a id="2404" class="Symbol">∀{</a><a id="2406" href="Convergence.html#2406" class="Bound">T</a> <a id="2408" href="Convergence.html#2408" class="Bound">S</a><a id="2409" class="Symbol">}</a> <a id="2411" class="Symbol">-&gt;</a> <a id="2414" href="Convergence.html#2406" class="Bound">T</a> <a id="2416" href="Convergence.html#2208" class="Datatype Operator">↓</a> <a id="2418" href="Convergence.html#2408" class="Bound">S</a> <a id="2420" class="Symbol">-&gt;</a> <a id="2423" href="Session.html#2773" class="Function">ConvergenceS</a> <a id="2436" href="Convergence.html#2406" class="Bound">T</a> <a id="2438" href="Convergence.html#2408" class="Bound">S</a>
<a id="2440" href="Convergence.html#2392" class="Function">con-sound</a> <a id="2450" class="Symbol">{</a><a id="2451" href="Convergence.html#2451" class="Bound">T</a><a id="2452" class="Symbol">}</a> <a id="2454" class="Symbol">{</a><a id="2455" href="Convergence.html#2455" class="Bound">S</a><a id="2456" class="Symbol">}</a> <a id="2458" class="Symbol">(</a><a id="2459" href="Convergence.html#2256" class="InductiveConstructor">converge</a> <a id="2468" href="Convergence.html#2468" class="Bound">C</a><a id="2469" class="Symbol">)</a> <a id="2471" class="Symbol">{</a><a id="2472" href="Convergence.html#2472" class="Bound">R</a><a id="2473" class="Symbol">}</a> <a id="2475" href="Convergence.html#2475" class="Bound">comp</a> <a id="2480" class="Keyword">with</a> <a id="2485" href="FairCompliance.html#1964" class="Function">fair-compliance-&gt;may-succeed</a> <a id="2514" href="Convergence.html#2475" class="Bound">comp</a>
<a id="2519" class="Symbol">...</a> <a id="2523" class="Symbol">|</a> <a id="2525" class="Symbol">(</a><a id="2526" href="Convergence.html#2526" class="Bound">R&#39;</a> <a id="2529" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2531" href="Convergence.html#2531" class="Bound">T&#39;</a><a id="2533" class="Symbol">)</a> <a id="2535" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2537" href="Convergence.html#2537" class="Bound">reds</a> <a id="2542" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2544" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="2552" href="Convergence.html#2552" class="Bound">w</a> <a id="2554" href="Convergence.html#2554" class="Bound">tdef</a> <a id="2559" class="Keyword">with</a> <a id="2564" href="Session.html#2896" class="Function">unzip-red*</a> <a id="2575" href="Convergence.html#2537" class="Bound">reds</a>
<a id="2580" class="Symbol">...</a> <a id="2584" class="Symbol">|</a> <a id="2586" href="Convergence.html#2586" class="Bound">φ</a> <a id="2588" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2590" href="Convergence.html#2590" class="Bound">rr</a> <a id="2593" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2595" href="Convergence.html#2595" class="Bound">tr</a> <a id="2598" class="Keyword">with</a> <a id="2603" class="Bound">S</a> <a id="2605" href="HasTrace.html#1865" class="Function Operator">HasTrace?</a> <a id="2615" href="Convergence.html#2586" class="Bound">φ</a>
<a id="2617" class="Symbol">...</a> <a id="2621" class="Symbol">|</a> <a id="2623" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Convergence.html#2628" class="Bound">S&#39;</a> <a id="2631" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2633" href="Convergence.html#2633" class="Bound">sdef</a> <a id="2638" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2640" href="Convergence.html#2640" class="Bound">sr</a><a id="2642" class="Symbol">)</a> <a id="2644" class="Symbol">=</a> <a id="2646" class="Symbol">_</a> <a id="2648" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2650" href="Session.html#3160" class="Function">zip-red*</a> <a id="2659" class="Bound">rr</a> <a id="2662" href="Convergence.html#2640" class="Bound">sr</a> <a id="2665" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2667" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="2675" class="Bound">w</a> <a id="2677" href="Convergence.html#2633" class="Bound">sdef</a>
<a id="2682" class="Symbol">...</a> <a id="2686" class="Symbol">|</a> <a id="2688" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2691" href="Convergence.html#2691" class="Bound">nsφ</a> <a id="2695" class="Keyword">with</a> <a id="2700" class="Bound">C</a> <a id="2702" class="Symbol">(_</a> <a id="2705" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2707" class="Bound">tdef</a> <a id="2712" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2714" class="Bound">tr</a><a id="2716" class="Symbol">)</a> <a id="2718" href="Convergence.html#2691" class="Bound">nsφ</a>
<a id="2722" class="Symbol">...</a> <a id="2726" class="Symbol">|</a> <a id="2728" class="Symbol">(</a><a id="2729" href="Convergence.html#2729" class="Bound">ψ</a> <a id="2731" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2733" href="Convergence.html#2733" class="Bound">x</a> <a id="2735" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2737" href="Convergence.html#2737" class="Bound">prefix</a> <a id="2744" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2746" href="Convergence.html#2746" class="Bound">tψx</a> <a id="2750" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2752" href="Convergence.html#2752" class="Bound">sψx</a> <a id="2756" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2758" href="Convergence.html#2758" class="Bound">con</a><a id="2761" class="Symbol">)</a>
  <a id="2765" class="Keyword">with</a> <a id="2770" href="HasTrace.html#4715" class="Function">⊑-has-co-trace</a> <a id="2785" href="Convergence.html#2737" class="Bound">prefix</a> <a id="2792" class="Symbol">(_</a> <a id="2795" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2797" href="SessionType.html#3312" class="Function">win-&gt;defined</a> <a id="2810" class="Bound">w</a> <a id="2812" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2814" class="Bound">rr</a><a id="2816" class="Symbol">)</a> <a id="2818" class="Symbol">|</a> <a id="2820" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="2835" href="Convergence.html#2752" class="Bound">sψx</a>
<a id="2839" class="Symbol">...</a> <a id="2843" class="Symbol">|</a> <a id="2845" href="Convergence.html#2845" class="Bound">rψ</a> <a id="2848" class="Symbol">|</a> <a id="2850" href="Convergence.html#2850" class="Bound">sψ</a><a id="2852" class="Symbol">@(_</a> <a id="2856" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2858" href="Convergence.html#2858" class="Bound">sdef</a> <a id="2863" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2865" class="Symbol">_)</a> <a id="2868" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2870" class="Symbol">_</a> <a id="2872" class="Keyword">with</a> <a id="2877" href="FairCompliance.html#5206" class="Function">client-wins-or-accepts-prefix</a> <a id="2907" class="Bound">comp</a> <a id="2912" href="Convergence.html#2845" class="Bound">rψ</a> <a id="2915" class="Bound">tψx</a>
<a id="2919" class="Symbol">...</a> <a id="2923" class="Symbol">|</a> <a id="2925" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2930" href="Convergence.html#2930" class="Bound">wψ</a> <a id="2933" class="Symbol">=</a> <a id="2935" class="Symbol">_</a> <a id="2937" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2939" href="Session.html#3391" class="Function">zip-traces</a> <a id="2950" class="Bound">rψ</a> <a id="2953" class="Bound">sψ</a> <a id="2956" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2958" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="2966" href="Convergence.html#2930" class="Bound">wψ</a> <a id="2969" class="Bound">sdef</a>
<a id="2974" class="Symbol">...</a> <a id="2978" class="Symbol">|</a> <a id="2980" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="2985" href="Convergence.html#2985" class="Bound">rψx</a> <a id="2989" class="Keyword">with</a> <a id="2994" href="Session.html#3391" class="Function">zip-traces</a> <a id="3005" href="Convergence.html#2985" class="Bound">rψx</a> <a id="3009" class="Bound">tψx</a>
<a id="3013" class="Symbol">...</a> <a id="3017" class="Symbol">|</a> <a id="3019" href="Convergence.html#3019" class="Bound">reds&#39;</a> <a id="3025" class="Keyword">with</a> <a id="3030" href="Convergence.html#2392" class="Function">con-sound</a> <a id="3040" class="Bound">con</a> <a id="3044" class="Symbol">(</a><a id="3045" href="FairCompliance.html#1810" class="Function">fair-compliance-red*</a> <a id="3066" class="Bound">comp</a> <a id="3071" href="Convergence.html#3019" class="Bound">reds&#39;</a><a id="3076" class="Symbol">)</a>
<a id="3078" class="Symbol">...</a> <a id="3082" class="Symbol">|</a> <a id="3084" class="Symbol">(_</a> <a id="3087" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3089" href="Convergence.html#3089" class="Bound">reds&#39;&#39;</a> <a id="3096" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3098" href="Convergence.html#3098" class="Bound">success</a><a id="3105" class="Symbol">)</a> <a id="3107" class="Symbol">=</a> <a id="3109" class="Symbol">_</a> <a id="3111" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3113" href="Session.html#3391" class="Function">zip-traces</a> <a id="3124" class="Bound">rψx</a> <a id="3128" class="Bound">sψx</a> <a id="3132" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#833" class="Function Operator">◅◅</a> <a id="3135" href="Convergence.html#3089" class="Bound">reds&#39;&#39;</a> <a id="3142" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3144" href="Convergence.html#3098" class="Bound">success</a>

<a id="inclusion-&gt;convergence"></a><a id="3153" href="Convergence.html#3153" class="Function">inclusion-&gt;convergence</a> <a id="3176" class="Symbol">:</a> <a id="3178" class="Symbol">∀{</a><a id="3180" href="Convergence.html#3180" class="Bound">T</a> <a id="3182" href="Convergence.html#3182" class="Bound">S</a><a id="3183" class="Symbol">}</a> <a id="3185" class="Symbol">-&gt;</a> <a id="3188" href="TraceInclusion.html#1662" class="Function">TraceInclusionS</a> <a id="3204" href="Convergence.html#3180" class="Bound">T</a> <a id="3206" href="Convergence.html#3182" class="Bound">S</a> <a id="3208" class="Symbol">-&gt;</a> <a id="3211" href="Convergence.html#3180" class="Bound">T</a> <a id="3213" href="Convergence.html#2208" class="Datatype Operator">↓</a> <a id="3215" href="Convergence.html#3182" class="Bound">S</a>
<a id="3217" href="Convergence.html#3153" class="Function">inclusion-&gt;convergence</a> <a id="3240" href="Convergence.html#3240" class="Bound">sub</a> <a id="3244" class="Symbol">=</a> <a id="3246" href="Convergence.html#2256" class="InductiveConstructor">converge</a> <a id="3255" class="Symbol">λ</a> <a id="3257" href="Convergence.html#3257" class="Bound">tφ</a> <a id="3260" href="Convergence.html#3260" class="Bound">nsφ</a> <a id="3264" class="Symbol">-&gt;</a> <a id="3267" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Convergence.html#3260" class="Bound">nsφ</a> <a id="3279" class="Symbol">(</a><a id="3280" href="Convergence.html#3240" class="Bound">sub</a> <a id="3284" href="Convergence.html#3257" class="Bound">tφ</a><a id="3286" class="Symbol">))</a>

<a id="not-convergence-&gt;exclusion"></a><a id="3290" href="Convergence.html#3290" class="Function">not-convergence-&gt;exclusion</a> <a id="3317" class="Symbol">:</a> <a id="3319" class="Symbol">∀{</a><a id="3321" href="Convergence.html#3321" class="Bound">T</a> <a id="3323" href="Convergence.html#3323" class="Bound">S</a><a id="3324" class="Symbol">}</a> <a id="3326" class="Symbol">-&gt;</a> <a id="3329" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="3331" href="Convergence.html#3321" class="Bound">T</a> <a id="3333" href="Convergence.html#2208" class="Datatype Operator">↓</a> <a id="3335" href="Convergence.html#3323" class="Bound">S</a> <a id="3337" class="Symbol">-&gt;</a> <a id="3340" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="3342" href="TraceInclusion.html#1662" class="Function">TraceInclusionS</a> <a id="3358" href="Convergence.html#3321" class="Bound">T</a> <a id="3360" href="Convergence.html#3323" class="Bound">S</a>
<a id="3362" href="Convergence.html#3290" class="Function">not-convergence-&gt;exclusion</a> <a id="3389" href="Convergence.html#3389" class="Bound">not</a> <a id="3393" href="Convergence.html#3393" class="Bound">sub</a> <a id="3397" class="Symbol">=</a> <a id="3399" href="Convergence.html#3389" class="Bound">not</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Convergence.html#3153" class="Function">inclusion-&gt;convergence</a> <a id="3427" href="Convergence.html#3393" class="Bound">sub</a><a id="3430" class="Symbol">)</a>

<a id="not-convergence+divergence"></a><a id="3433" href="Convergence.html#3433" class="Function">not-convergence+divergence</a> <a id="3460" class="Symbol">:</a> <a id="3462" class="Symbol">∀{</a><a id="3464" href="Convergence.html#3464" class="Bound">T</a> <a id="3466" href="Convergence.html#3466" class="Bound">S</a><a id="3467" class="Symbol">}</a> <a id="3469" class="Symbol">-&gt;</a> <a id="3472" href="Convergence.html#3464" class="Bound">T</a> <a id="3474" href="Convergence.html#2208" class="Datatype Operator">↓</a> <a id="3476" href="Convergence.html#3466" class="Bound">S</a> <a id="3478" class="Symbol">-&gt;</a> <a id="3481" href="Convergence.html#3464" class="Bound">T</a> <a id="3483" href="Divergence.html#2029" class="Record Operator">↑</a> <a id="3485" href="Convergence.html#3466" class="Bound">S</a> <a id="3487" class="Symbol">-&gt;</a> <a id="3490" href="Data.Empty.html#526" class="Datatype">⊥</a>
<a id="3492" href="Convergence.html#3433" class="Function">not-convergence+divergence</a> <a id="3519" class="Symbol">(</a><a id="3520" href="Convergence.html#2256" class="InductiveConstructor">converge</a> <a id="3529" href="Convergence.html#3529" class="Bound">F</a><a id="3530" class="Symbol">)</a> <a id="3532" href="Convergence.html#3532" class="Bound">div</a> <a id="3536" class="Symbol">=</a>
  <a id="3540" class="Keyword">let</a> <a id="3544" href="Convergence.html#3544" class="Bound">φ</a> <a id="3546" class="Symbol">=</a> <a id="3548" href="Divergence.html#2107" class="Field">_↑_.trace</a> <a id="3558" href="Convergence.html#3532" class="Bound">div</a> <a id="3562" class="Keyword">in</a>
  <a id="3567" class="Keyword">let</a> <a id="3571" href="Convergence.html#3571" class="Bound">tφ</a> <a id="3574" class="Symbol">=</a> <a id="3576" href="Divergence.html#2125" class="Field">_↑_.with-trace</a> <a id="3591" href="Convergence.html#3532" class="Bound">div</a> <a id="3595" class="Keyword">in</a>
  <a id="3600" class="Keyword">let</a> <a id="3604" href="Convergence.html#3604" class="Bound">nsφ</a> <a id="3608" class="Symbol">=</a> <a id="3610" href="Divergence.html#2159" class="Field">_↑_.without-trace</a> <a id="3628" href="Convergence.html#3532" class="Bound">div</a> <a id="3632" class="Keyword">in</a>
  <a id="3637" class="Keyword">let</a> <a id="3641" class="Symbol">_</a> <a id="3643" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3645" class="Symbol">_</a> <a id="3647" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3649" href="Convergence.html#3649" class="Bound">pre</a> <a id="3653" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3655" href="Convergence.html#3655" class="Bound">tψx</a> <a id="3659" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3661" href="Convergence.html#3661" class="Bound">sψx</a> <a id="3665" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3667" href="Convergence.html#3667" class="Bound">con&#39;</a> <a id="3672" class="Symbol">=</a> <a id="3674" href="Convergence.html#3529" class="Bound">F</a> <a id="3676" href="Convergence.html#3571" class="Bound">tφ</a> <a id="3679" href="Convergence.html#3604" class="Bound">nsφ</a> <a id="3683" class="Keyword">in</a>
  <a id="3688" class="Keyword">let</a> <a id="3692" href="Convergence.html#3692" class="Bound">div&#39;</a> <a id="3697" class="Symbol">=</a> <a id="3699" href="Divergence.html#2198" class="Field">_↑_.divergence</a> <a id="3714" href="Convergence.html#3532" class="Bound">div</a> <a id="3718" href="Convergence.html#3649" class="Bound">pre</a> <a id="3722" href="Convergence.html#3655" class="Bound">tψx</a> <a id="3726" href="Convergence.html#3661" class="Bound">sψx</a> <a id="3730" class="Keyword">in</a>
  <a id="3735" href="Convergence.html#3433" class="Function">not-convergence+divergence</a> <a id="3762" href="Convergence.html#3667" class="Bound">con&#39;</a> <a id="3767" href="Convergence.html#3692" class="Bound">div&#39;</a>
</pre></body></html>