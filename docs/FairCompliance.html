<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>FairCompliance</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Keyword">open</a> <a id="1154" class="Keyword">import</a> <a id="1161" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="1172" class="Keyword">open</a> <a id="1177" class="Keyword">import</a> <a id="1184" href="Data.Product.html" class="Module">Data.Product</a>
<a id="1197" class="Keyword">open</a> <a id="1202" class="Keyword">import</a> <a id="1209" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="1218" class="Keyword">open</a> <a id="1223" class="Keyword">import</a> <a id="1230" href="Data.List.html" class="Module">Data.List</a> <a id="1240" class="Keyword">using</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="1249" class="Symbol">;</a> <a id="1251" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="1255" class="Symbol">;</a> <a id="1257" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1260" class="Symbol">;</a> <a id="1262" href="Data.List.Base.html#9641" class="Function Operator">_∷ʳ_</a><a id="1266" class="Symbol">)</a>

<a id="1269" class="Keyword">open</a> <a id="1274" class="Keyword">import</a> <a id="1281" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1298" class="Keyword">open</a> <a id="1303" class="Keyword">import</a> <a id="1310" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="1336" class="Keyword">using</a> <a id="1342" class="Symbol">(</a><a id="1343" href="Relation.Nullary.Negation.html#929" class="Function">contraposition</a><a id="1357" class="Symbol">)</a>
<a id="1359" class="Keyword">open</a> <a id="1364" class="Keyword">import</a> <a id="1371" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1386" class="Keyword">using</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a><a id="1396" class="Symbol">)</a>
<a id="1398" class="Keyword">open</a> <a id="1403" class="Keyword">import</a> <a id="1410" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1448" class="Keyword">using</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1458" class="Symbol">;</a> <a id="1460" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="1463" class="Symbol">;</a> <a id="1465" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1469" class="Symbol">;</a> <a id="1471" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="1474" class="Symbol">;</a> <a id="1476" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="1481" class="Symbol">)</a>
<a id="1483" class="Keyword">open</a> <a id="1488" class="Keyword">import</a> <a id="1495" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a> <a id="1549" class="Keyword">using</a> <a id="1555" class="Symbol">(</a><a id="1556" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a><a id="1557" class="Symbol">;</a> <a id="1559" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">_◅_</a><a id="1562" class="Symbol">;</a> <a id="1564" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#833" class="Function Operator">_◅◅_</a><a id="1568" class="Symbol">;</a> <a id="1570" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#3332" class="Function">return</a><a id="1576" class="Symbol">)</a>

<a id="1579" class="Keyword">open</a> <a id="1584" class="Keyword">import</a> <a id="1591" href="Common.html" class="Module">Common</a>

<a id="1599" class="Keyword">module</a> <a id="1606" href="FairCompliance.html" class="Module">FairCompliance</a> <a id="1621" class="Symbol">{</a><a id="1622" href="FairCompliance.html#1622" class="Bound">ℙ</a> <a id="1624" class="Symbol">:</a> <a id="1626" class="PrimitiveType">Set</a><a id="1629" class="Symbol">}</a> <a id="1631" class="Symbol">(</a><a id="1632" href="FairCompliance.html#1632" class="Bound">message</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Common.html#1500" class="Record">Message</a> <a id="1650" href="FairCompliance.html#1622" class="Bound">ℙ</a><a id="1651" class="Symbol">)</a>
  <a id="1655" class="Keyword">where</a>

<a id="1662" class="Keyword">open</a> <a id="1667" class="Keyword">import</a> <a id="1674" href="Trace.html" class="Module">Trace</a> <a id="1680" href="FairCompliance.html#1632" class="Bound">message</a>
<a id="1688" class="Keyword">open</a> <a id="1693" class="Keyword">import</a> <a id="1700" href="Session.html" class="Module">Session</a> <a id="1708" href="FairCompliance.html#1632" class="Bound">message</a>
<a id="1716" class="Keyword">open</a> <a id="1721" class="Keyword">import</a> <a id="1728" href="SessionType.html" class="Module">SessionType</a> <a id="1740" href="FairCompliance.html#1632" class="Bound">message</a>
<a id="1748" class="Keyword">open</a> <a id="1753" class="Keyword">import</a> <a id="1760" href="Transitions.html" class="Module">Transitions</a> <a id="1772" href="FairCompliance.html#1632" class="Bound">message</a>
<a id="1780" class="Keyword">open</a> <a id="1785" class="Keyword">import</a> <a id="1792" href="HasTrace.html" class="Module">HasTrace</a> <a id="1801" href="FairCompliance.html#1632" class="Bound">message</a>

<a id="fair-compliance-red*"></a><a id="1810" href="FairCompliance.html#1810" class="Function">fair-compliance-red*</a> <a id="1831" class="Symbol">:</a> <a id="1833" class="Symbol">∀{</a><a id="1835" href="FairCompliance.html#1835" class="Bound">S</a> <a id="1837" href="FairCompliance.html#1837" class="Bound">S&#39;</a><a id="1839" class="Symbol">}</a> <a id="1841" class="Symbol">-&gt;</a> <a id="1844" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="1860" href="FairCompliance.html#1835" class="Bound">S</a> <a id="1862" class="Symbol">-&gt;</a> <a id="1865" href="Session.html#1880" class="Function">Reductions</a> <a id="1876" href="FairCompliance.html#1835" class="Bound">S</a> <a id="1878" href="FairCompliance.html#1837" class="Bound">S&#39;</a> <a id="1881" class="Symbol">-&gt;</a> <a id="1884" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="1900" href="FairCompliance.html#1837" class="Bound">S&#39;</a>
<a id="1903" href="FairCompliance.html#1810" class="Function">fair-compliance-red*</a> <a id="1924" href="FairCompliance.html#1924" class="Bound">comp</a> <a id="1929" href="FairCompliance.html#1929" class="Bound">reds</a> <a id="1934" href="FairCompliance.html#1934" class="Bound">reds&#39;</a> <a id="1940" class="Symbol">=</a> <a id="1942" href="FairCompliance.html#1924" class="Bound">comp</a> <a id="1947" class="Symbol">(</a><a id="1948" href="FairCompliance.html#1929" class="Bound">reds</a> <a id="1953" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#833" class="Function Operator">◅◅</a> <a id="1956" href="FairCompliance.html#1934" class="Bound">reds&#39;</a><a id="1961" class="Symbol">)</a>

<a id="fair-compliance-&gt;may-succeed"></a><a id="1964" href="FairCompliance.html#1964" class="Function">fair-compliance-&gt;may-succeed</a> <a id="1993" class="Symbol">:</a> <a id="1995" class="Symbol">∀{</a><a id="1997" href="FairCompliance.html#1997" class="Bound">S</a><a id="1998" class="Symbol">}</a> <a id="2000" class="Symbol">-&gt;</a> <a id="2003" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2019" href="FairCompliance.html#1997" class="Bound">S</a> <a id="2021" class="Symbol">-&gt;</a> <a id="2024" href="Session.html#2172" class="Function">MaySucceed</a> <a id="2035" href="FairCompliance.html#1997" class="Bound">S</a>
<a id="2037" href="FairCompliance.html#1964" class="Function">fair-compliance-&gt;may-succeed</a> <a id="2066" href="FairCompliance.html#2066" class="Bound">fcomp</a> <a id="2072" class="Symbol">=</a> <a id="2074" href="FairCompliance.html#2066" class="Bound">fcomp</a> <a id="2080" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>

<a id="fc-after-output"></a><a id="2083" href="FairCompliance.html#2083" class="Function">fc-after-output</a> <a id="2099" class="Symbol">:</a>
  <a id="2103" class="Symbol">∀{</a><a id="2105" href="FairCompliance.html#2105" class="Bound">f</a> <a id="2107" href="FairCompliance.html#2107" class="Bound">g</a> <a id="2109" href="FairCompliance.html#2109" class="Bound">x</a><a id="2110" class="Symbol">}</a> <a id="2112" class="Symbol">-&gt;</a>
  <a id="2117" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2133" class="Symbol">(</a><a id="2134" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="2138" href="FairCompliance.html#2105" class="Bound">f</a> <a id="2140" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2142" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="2146" href="FairCompliance.html#2107" class="Bound">g</a><a id="2147" class="Symbol">)</a> <a id="2149" class="Symbol">-&gt;</a>
  <a id="2154" href="FairCompliance.html#2109" class="Bound">x</a> <a id="2156" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2158" href="SessionType.html#2230" class="Function">dom</a> <a id="2162" href="FairCompliance.html#2105" class="Bound">f</a> <a id="2164" class="Symbol">-&gt;</a>
  <a id="2169" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2185" class="Symbol">(</a><a id="2186" href="FairCompliance.html#2105" class="Bound">f</a> <a id="2188" href="FairCompliance.html#2109" class="Bound">x</a> <a id="2190" class="Symbol">.</a><a id="2191" href="SessionType.html#1642" class="Field">force</a> <a id="2197" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2199" href="FairCompliance.html#2107" class="Bound">g</a> <a id="2201" href="FairCompliance.html#2109" class="Bound">x</a> <a id="2203" class="Symbol">.</a><a id="2204" href="SessionType.html#1642" class="Field">force</a><a id="2209" class="Symbol">)</a>
<a id="2211" href="FairCompliance.html#2083" class="Function">fc-after-output</a> <a id="2227" href="FairCompliance.html#2227" class="Bound">comp</a> <a id="2232" href="FairCompliance.html#2232" class="Bound">fx</a> <a id="2235" href="FairCompliance.html#2235" class="Bound">reds</a> <a id="2240" class="Symbol">=</a> <a id="2242" href="FairCompliance.html#2227" class="Bound">comp</a> <a id="2247" class="Symbol">(</a><a id="2248" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="2253" class="Symbol">(</a><a id="2254" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="2258" href="FairCompliance.html#2232" class="Bound">fx</a><a id="2260" class="Symbol">)</a> <a id="2262" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="2266" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="2268" href="FairCompliance.html#2235" class="Bound">reds</a><a id="2272" class="Symbol">)</a>

<a id="fc-after-input"></a><a id="2275" href="FairCompliance.html#2275" class="Function">fc-after-input</a> <a id="2290" class="Symbol">:</a>
  <a id="2294" class="Symbol">∀{</a><a id="2296" href="FairCompliance.html#2296" class="Bound">f</a> <a id="2298" href="FairCompliance.html#2298" class="Bound">g</a> <a id="2300" href="FairCompliance.html#2300" class="Bound">x</a><a id="2301" class="Symbol">}</a> <a id="2303" class="Symbol">-&gt;</a>
  <a id="2308" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2324" class="Symbol">(</a><a id="2325" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="2329" href="FairCompliance.html#2296" class="Bound">f</a> <a id="2331" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2333" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="2337" href="FairCompliance.html#2298" class="Bound">g</a><a id="2338" class="Symbol">)</a> <a id="2340" class="Symbol">-&gt;</a>
  <a id="2345" href="FairCompliance.html#2300" class="Bound">x</a> <a id="2347" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2349" href="SessionType.html#2230" class="Function">dom</a> <a id="2353" href="FairCompliance.html#2298" class="Bound">g</a> <a id="2355" class="Symbol">-&gt;</a>
  <a id="2360" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2376" class="Symbol">(</a><a id="2377" href="FairCompliance.html#2296" class="Bound">f</a> <a id="2379" href="FairCompliance.html#2300" class="Bound">x</a> <a id="2381" class="Symbol">.</a><a id="2382" href="SessionType.html#1642" class="Field">force</a> <a id="2388" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2390" href="FairCompliance.html#2298" class="Bound">g</a> <a id="2392" href="FairCompliance.html#2300" class="Bound">x</a> <a id="2394" class="Symbol">.</a><a id="2395" href="SessionType.html#1642" class="Field">force</a><a id="2400" class="Symbol">)</a>
<a id="2402" href="FairCompliance.html#2275" class="Function">fc-after-input</a> <a id="2417" href="FairCompliance.html#2417" class="Bound">comp</a> <a id="2422" href="FairCompliance.html#2422" class="Bound">gx</a> <a id="2425" href="FairCompliance.html#2425" class="Bound">reds</a> <a id="2430" class="Symbol">=</a> <a id="2432" href="FairCompliance.html#2417" class="Bound">comp</a> <a id="2437" class="Symbol">(</a><a id="2438" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="2443" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="2447" class="Symbol">(</a><a id="2448" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="2452" href="FairCompliance.html#2422" class="Bound">gx</a><a id="2454" class="Symbol">)</a> <a id="2456" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="2458" href="FairCompliance.html#2425" class="Bound">reds</a><a id="2462" class="Symbol">)</a>

<a id="fc-input"></a><a id="2465" href="FairCompliance.html#2465" class="Function">fc-input</a> <a id="2474" class="Symbol">:</a> <a id="2476" class="Symbol">∀{</a><a id="2478" href="FairCompliance.html#2478" class="Bound">R</a> <a id="2480" href="FairCompliance.html#2480" class="Bound">f</a><a id="2481" class="Symbol">}</a> <a id="2483" class="Symbol">-&gt;</a> <a id="2486" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2502" class="Symbol">(</a><a id="2503" href="FairCompliance.html#2478" class="Bound">R</a> <a id="2505" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2507" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="2511" href="FairCompliance.html#2480" class="Bound">f</a><a id="2512" class="Symbol">)</a> <a id="2514" class="Symbol">-&gt;</a>
            <a id="2529" href="SessionType.html#2979" class="Datatype">Win</a> <a id="2533" href="FairCompliance.html#2478" class="Bound">R</a> <a id="2535" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="2537" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2540" href="FairCompliance.html#2540" class="Bound">g</a> <a id="2542" href="Data.Product.html#1788" class="Function">]</a> <a id="2544" class="Symbol">(</a><a id="2545" href="FairCompliance.html#2478" class="Bound">R</a> <a id="2547" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2549" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="2553" href="FairCompliance.html#2540" class="Bound">g</a> <a id="2555" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2557" href="SessionType.html#2522" class="Function">Witness</a> <a id="2565" href="FairCompliance.html#2540" class="Bound">g</a> <a id="2567" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2569" class="Symbol">(∀{</a><a id="2572" href="FairCompliance.html#2572" class="Bound">x</a><a id="2573" class="Symbol">}</a> <a id="2575" class="Symbol">(</a><a id="2576" href="FairCompliance.html#2576" class="Bound">!x</a> <a id="2579" class="Symbol">:</a> <a id="2581" href="FairCompliance.html#2572" class="Bound">x</a> <a id="2583" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2585" href="SessionType.html#2230" class="Function">dom</a> <a id="2589" href="FairCompliance.html#2540" class="Bound">g</a><a id="2590" class="Symbol">)</a> <a id="2592" class="Symbol">-&gt;</a> <a id="2595" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="2611" class="Symbol">(</a><a id="2612" href="FairCompliance.html#2540" class="Bound">g</a> <a id="2614" href="FairCompliance.html#2572" class="Bound">x</a> <a id="2616" class="Symbol">.</a><a id="2617" href="SessionType.html#1642" class="Field">force</a> <a id="2623" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="2625" href="FairCompliance.html#2480" class="Bound">f</a> <a id="2627" href="FairCompliance.html#2572" class="Bound">x</a> <a id="2629" class="Symbol">.</a><a id="2630" href="SessionType.html#1642" class="Field">force</a><a id="2635" class="Symbol">)))</a>
<a id="2639" href="FairCompliance.html#2465" class="Function">fc-input</a> <a id="2648" class="Symbol">{</a><a id="2649" href="SessionType.html#1766" class="InductiveConstructor">nil</a><a id="2652" class="Symbol">}</a> <a id="2654" href="FairCompliance.html#2654" class="Bound">spec</a> <a id="2659" class="Keyword">with</a> <a id="2664" href="FairCompliance.html#2654" class="Bound">spec</a> <a id="2669" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="2671" class="Symbol">...</a> <a id="2675" class="Symbol">|</a> <a id="2677" class="Symbol">_</a> <a id="2679" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2681" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="2683" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2685" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="2693" class="Symbol">()</a> <a id="2696" class="Symbol">_</a>
<a id="2698" class="Symbol">...</a> <a id="2702" class="Symbol">|</a> <a id="2704" class="Symbol">_</a> <a id="2706" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2708" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="2713" class="Symbol">()</a> <a id="2716" class="Symbol">_</a> <a id="2718" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="2720" class="Symbol">_</a> <a id="2722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2724" class="Symbol">_</a>
<a id="2726" href="FairCompliance.html#2465" class="Function">fc-input</a> <a id="2735" class="Symbol">{</a><a id="2736" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="2740" class="Symbol">_}</a> <a id="2743" href="FairCompliance.html#2743" class="Bound">spec</a> <a id="2748" class="Keyword">with</a> <a id="2753" href="FairCompliance.html#2743" class="Bound">spec</a> <a id="2758" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="2760" class="Symbol">...</a> <a id="2764" class="Symbol">|</a> <a id="2766" class="Symbol">_</a> <a id="2768" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2770" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="2772" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2774" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="2782" class="Symbol">()</a> <a id="2785" class="Symbol">_</a>
<a id="2787" class="Symbol">...</a> <a id="2791" class="Symbol">|</a> <a id="2793" class="Symbol">_</a> <a id="2795" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2797" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="2802" class="Symbol">()</a> <a id="2805" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="2809" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="2811" class="Symbol">_</a> <a id="2813" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2815" class="Symbol">_</a>
<a id="2817" href="FairCompliance.html#2465" class="Function">fc-input</a> <a id="2826" class="Symbol">{</a><a id="2827" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="2831" href="FairCompliance.html#2831" class="Bound">g</a><a id="2832" class="Symbol">}</a> <a id="2834" href="FairCompliance.html#2834" class="Bound">spec</a> <a id="2839" class="Keyword">with</a> <a id="2844" href="SessionType.html#2585" class="Function">Empty?</a> <a id="2851" href="FairCompliance.html#2831" class="Bound">g</a>
<a id="2853" class="Symbol">...</a> <a id="2857" class="Symbol">|</a> <a id="2859" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2864" href="FairCompliance.html#2864" class="Bound">U</a> <a id="2866" class="Symbol">=</a> <a id="2868" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2873" class="Symbol">(</a><a id="2874" href="SessionType.html#3012" class="InductiveConstructor">out</a> <a id="2878" href="FairCompliance.html#2864" class="Bound">U</a><a id="2879" class="Symbol">)</a>
<a id="2881" class="Symbol">...</a> <a id="2885" class="Symbol">|</a> <a id="2887" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="2892" href="FairCompliance.html#2892" class="Bound">W</a> <a id="2894" class="Symbol">=</a> <a id="2896" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="2901" class="Symbol">(</a><a id="2902" class="Bound">g</a> <a id="2904" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2906" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2911" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2913" href="FairCompliance.html#2892" class="Bound">W</a> <a id="2915" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2917" class="Symbol">λ</a> <a id="2919" href="FairCompliance.html#2919" class="Bound">!x</a> <a id="2922" class="Symbol">-&gt;</a> <a id="2925" href="FairCompliance.html#1810" class="Function">fair-compliance-red*</a> <a id="2946" class="Bound">spec</a> <a id="2951" class="Symbol">(</a><a id="2952" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#3332" class="Function">return</a> <a id="2959" class="Symbol">(</a><a id="2960" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="2965" class="Symbol">(</a><a id="2966" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="2970" href="FairCompliance.html#2919" class="Bound">!x</a><a id="2972" class="Symbol">)</a> <a id="2974" href="Transitions.html#1588" class="InductiveConstructor">inp</a><a id="2977" class="Symbol">)))</a>

<a id="fc-output"></a><a id="2982" href="FairCompliance.html#2982" class="Function">fc-output</a> <a id="2992" class="Symbol">:</a> <a id="2994" class="Symbol">∀{</a><a id="2996" href="FairCompliance.html#2996" class="Bound">R</a> <a id="2998" href="FairCompliance.html#2998" class="Bound">f</a><a id="2999" class="Symbol">}</a> <a id="3001" class="Symbol">-&gt;</a> <a id="3004" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="3020" class="Symbol">(</a><a id="3021" href="FairCompliance.html#2996" class="Bound">R</a> <a id="3023" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="3025" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="3029" href="FairCompliance.html#2998" class="Bound">f</a><a id="3030" class="Symbol">)</a> <a id="3032" class="Symbol">-&gt;</a>
            <a id="3047" href="SessionType.html#2979" class="Datatype">Win</a> <a id="3051" href="FairCompliance.html#2996" class="Bound">R</a> <a id="3053" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="3055" href="Data.Product.html#1788" class="Function">∃[</a> <a id="3058" href="FairCompliance.html#3058" class="Bound">g</a> <a id="3060" href="Data.Product.html#1788" class="Function">]</a> <a id="3062" class="Symbol">(</a><a id="3063" href="FairCompliance.html#2996" class="Bound">R</a> <a id="3065" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3067" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="3071" href="FairCompliance.html#3058" class="Bound">g</a> <a id="3073" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3075" href="SessionType.html#2522" class="Function">Witness</a> <a id="3083" href="FairCompliance.html#2998" class="Bound">f</a> <a id="3085" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3087" class="Symbol">(∀{</a><a id="3090" href="FairCompliance.html#3090" class="Bound">x</a><a id="3091" class="Symbol">}</a> <a id="3093" class="Symbol">(</a><a id="3094" href="FairCompliance.html#3094" class="Bound">!x</a> <a id="3097" class="Symbol">:</a> <a id="3099" href="FairCompliance.html#3090" class="Bound">x</a> <a id="3101" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3103" href="SessionType.html#2230" class="Function">dom</a> <a id="3107" href="FairCompliance.html#2998" class="Bound">f</a><a id="3108" class="Symbol">)</a> <a id="3110" class="Symbol">-&gt;</a> <a id="3113" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="3129" class="Symbol">(</a><a id="3130" href="FairCompliance.html#3058" class="Bound">g</a> <a id="3132" href="FairCompliance.html#3090" class="Bound">x</a> <a id="3134" class="Symbol">.</a><a id="3135" href="SessionType.html#1642" class="Field">force</a> <a id="3141" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="3143" href="FairCompliance.html#2998" class="Bound">f</a> <a id="3145" href="FairCompliance.html#3090" class="Bound">x</a> <a id="3147" class="Symbol">.</a><a id="3148" href="SessionType.html#1642" class="Field">force</a><a id="3153" class="Symbol">)))</a>
<a id="3157" href="FairCompliance.html#2982" class="Function">fc-output</a> <a id="3167" class="Symbol">{</a><a id="3168" href="SessionType.html#1766" class="InductiveConstructor">nil</a><a id="3171" class="Symbol">}</a> <a id="3173" href="FairCompliance.html#3173" class="Bound">spec</a> <a id="3178" class="Keyword">with</a> <a id="3183" href="FairCompliance.html#3173" class="Bound">spec</a> <a id="3188" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="3190" class="Symbol">...</a> <a id="3194" class="Symbol">|</a> <a id="3196" class="Symbol">_</a> <a id="3198" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3200" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="3202" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3204" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="3212" class="Symbol">()</a> <a id="3215" href="SessionType.html#1943" class="InductiveConstructor">out</a>
<a id="3219" class="Symbol">...</a> <a id="3223" class="Symbol">|</a> <a id="3225" class="Symbol">_</a> <a id="3227" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3229" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="3234" class="Symbol">()</a> <a id="3237" class="Symbol">_</a> <a id="3239" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="3241" class="Symbol">_</a> <a id="3243" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3245" class="Symbol">_</a>
<a id="3247" href="FairCompliance.html#2982" class="Function">fc-output</a> <a id="3257" class="Symbol">{</a><a id="3258" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="3262" href="FairCompliance.html#3262" class="Bound">g</a><a id="3263" class="Symbol">}</a> <a id="3265" class="Symbol">{</a><a id="3266" href="FairCompliance.html#3266" class="Bound">f</a><a id="3267" class="Symbol">}</a> <a id="3269" href="FairCompliance.html#3269" class="Bound">spec</a> <a id="3274" class="Keyword">with</a> <a id="3279" href="SessionType.html#2585" class="Function">Empty?</a> <a id="3286" href="FairCompliance.html#3266" class="Bound">f</a>
<a id="3288" class="Symbol">...</a> <a id="3292" class="Symbol">|</a> <a id="3294" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="3299" href="FairCompliance.html#3299" class="Bound">W</a> <a id="3301" class="Symbol">=</a> <a id="3303" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="3308" class="Symbol">(</a><a id="3309" class="Bound">g</a> <a id="3311" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3313" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3318" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3320" href="FairCompliance.html#3299" class="Bound">W</a> <a id="3322" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3324" class="Symbol">λ</a> <a id="3326" href="FairCompliance.html#3326" class="Bound">!x</a> <a id="3329" class="Symbol">-&gt;</a> <a id="3332" href="FairCompliance.html#1810" class="Function">fair-compliance-red*</a> <a id="3353" class="Bound">spec</a> <a id="3358" class="Symbol">(</a><a id="3359" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#3332" class="Function">return</a> <a id="3366" class="Symbol">(</a><a id="3367" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="3372" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="3376" class="Symbol">(</a><a id="3377" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="3381" href="FairCompliance.html#3326" class="Bound">!x</a><a id="3383" class="Symbol">))))</a>
<a id="3388" class="Symbol">...</a> <a id="3392" class="Symbol">|</a> <a id="3394" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="3399" href="FairCompliance.html#3399" class="Bound">U</a> <a id="3401" class="Keyword">with</a> <a id="3406" class="Bound">spec</a> <a id="3411" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="3413" class="Symbol">...</a> <a id="3417" class="Symbol">|</a> <a id="3419" class="Symbol">_</a> <a id="3421" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3423" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="3425" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3427" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="3435" class="Symbol">()</a> <a id="3438" class="Symbol">_</a>
<a id="3440" class="Symbol">...</a> <a id="3444" class="Symbol">|</a> <a id="3446" class="Symbol">_</a> <a id="3448" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3450" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="3455" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="3459" class="Symbol">(</a><a id="3460" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="3464" href="FairCompliance.html#3464" class="Bound">!x</a><a id="3466" class="Symbol">)</a> <a id="3468" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="3470" class="Symbol">_</a> <a id="3472" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3474" class="Symbol">_</a> <a id="3476" class="Symbol">=</a> <a id="3478" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="3485" class="Symbol">(</a><a id="3486" class="Bound">U</a> <a id="3488" class="Symbol">_</a> <a id="3490" href="FairCompliance.html#3464" class="Bound">!x</a><a id="3492" class="Symbol">)</a>
<a id="3494" href="FairCompliance.html#2982" class="Function">fc-output</a> <a id="3504" class="Symbol">{</a><a id="3505" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="3509" href="FairCompliance.html#3509" class="Bound">g</a><a id="3510" class="Symbol">}</a> <a id="3512" href="FairCompliance.html#3512" class="Bound">spec</a> <a id="3517" class="Keyword">with</a> <a id="3522" href="SessionType.html#2585" class="Function">Empty?</a> <a id="3529" href="FairCompliance.html#3509" class="Bound">g</a>
<a id="3531" class="Symbol">...</a> <a id="3535" class="Symbol">|</a> <a id="3537" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="3542" href="FairCompliance.html#3542" class="Bound">U</a> <a id="3544" class="Symbol">=</a> <a id="3546" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="3551" class="Symbol">(</a><a id="3552" href="SessionType.html#3012" class="InductiveConstructor">out</a> <a id="3556" href="FairCompliance.html#3542" class="Bound">U</a><a id="3557" class="Symbol">)</a>
<a id="3559" class="Symbol">...</a> <a id="3563" class="Symbol">|</a> <a id="3565" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="3570" class="Symbol">(_</a> <a id="3573" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3575" href="FairCompliance.html#3575" class="Bound">!x</a><a id="3577" class="Symbol">)</a> <a id="3579" class="Keyword">with</a> <a id="3584" class="Bound">spec</a> <a id="3589" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="3591" class="Symbol">...</a> <a id="3595" class="Symbol">|</a> <a id="3597" class="Symbol">_</a> <a id="3599" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3601" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="3603" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3605" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="3613" class="Symbol">(</a><a id="3614" href="SessionType.html#3012" class="InductiveConstructor">out</a> <a id="3618" href="FairCompliance.html#3618" class="Bound">U</a><a id="3619" class="Symbol">)</a> <a id="3621" href="SessionType.html#1943" class="InductiveConstructor">out</a> <a id="3625" class="Symbol">=</a> <a id="3627" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="3634" class="Symbol">(</a><a id="3635" href="FairCompliance.html#3618" class="Bound">U</a> <a id="3637" class="Symbol">_</a> <a id="3639" class="Bound">!x</a><a id="3641" class="Symbol">)</a>
<a id="3643" class="Symbol">...</a> <a id="3647" class="Symbol">|</a> <a id="3649" class="Symbol">_</a> <a id="3651" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3653" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="3658" class="Symbol">()</a> <a id="3661" class="Symbol">(</a><a id="3662" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="3666" class="Symbol">_)</a> <a id="3669" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="3671" class="Symbol">_</a> <a id="3673" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3675" class="Symbol">_</a>

<a id="fc-transitions"></a><a id="3678" href="FairCompliance.html#3678" class="Function">fc-transitions</a> <a id="3693" class="Symbol">:</a>
  <a id="3697" class="Symbol">∀{</a><a id="3699" href="FairCompliance.html#3699" class="Bound">R</a> <a id="3701" href="FairCompliance.html#3701" class="Bound">R&#39;</a> <a id="3704" href="FairCompliance.html#3704" class="Bound">T</a> <a id="3706" href="FairCompliance.html#3706" class="Bound">T&#39;</a> <a id="3709" href="FairCompliance.html#3709" class="Bound">φ</a><a id="3710" class="Symbol">}</a> <a id="3712" class="Symbol">-&gt;</a>
  <a id="3717" href="Transitions.html#1737" class="Datatype">Transitions</a> <a id="3729" href="FairCompliance.html#3699" class="Bound">R</a> <a id="3731" class="Symbol">(</a><a id="3732" href="Trace.html#1586" class="Function">co-trace</a> <a id="3741" href="FairCompliance.html#3709" class="Bound">φ</a><a id="3742" class="Symbol">)</a> <a id="3744" href="FairCompliance.html#3701" class="Bound">R&#39;</a> <a id="3747" class="Symbol">-&gt;</a>
  <a id="3752" href="Transitions.html#1737" class="Datatype">Transitions</a> <a id="3764" href="FairCompliance.html#3704" class="Bound">T</a> <a id="3766" href="FairCompliance.html#3709" class="Bound">φ</a> <a id="3768" href="FairCompliance.html#3706" class="Bound">T&#39;</a> <a id="3771" class="Symbol">-&gt;</a>
  <a id="3776" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="3792" class="Symbol">(</a><a id="3793" href="FairCompliance.html#3699" class="Bound">R</a> <a id="3795" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="3797" href="FairCompliance.html#3704" class="Bound">T</a><a id="3798" class="Symbol">)</a> <a id="3800" class="Symbol">-&gt;</a>
  <a id="3805" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="3821" class="Symbol">(</a><a id="3822" href="FairCompliance.html#3701" class="Bound">R&#39;</a> <a id="3825" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="3827" href="FairCompliance.html#3706" class="Bound">T&#39;</a><a id="3829" class="Symbol">)</a>
<a id="3831" href="FairCompliance.html#3678" class="Function">fc-transitions</a> <a id="3846" href="FairCompliance.html#3846" class="Bound">rr</a> <a id="3849" href="FairCompliance.html#3849" class="Bound">tr</a> <a id="3852" href="FairCompliance.html#3852" class="Bound">comp</a> <a id="3857" class="Symbol">=</a> <a id="3859" href="FairCompliance.html#1810" class="Function">fair-compliance-red*</a> <a id="3880" href="FairCompliance.html#3852" class="Bound">comp</a> <a id="3885" class="Symbol">(</a><a id="3886" href="Session.html#3160" class="Function">zip-red*</a> <a id="3895" href="FairCompliance.html#3846" class="Bound">rr</a> <a id="3898" href="FairCompliance.html#3849" class="Bound">tr</a><a id="3900" class="Symbol">)</a>

<a id="fc-trace"></a><a id="3903" href="FairCompliance.html#3903" class="Function">fc-trace</a> <a id="3912" class="Symbol">:</a>
  <a id="3916" class="Symbol">∀{</a><a id="3918" href="FairCompliance.html#3918" class="Bound">R</a> <a id="3920" href="FairCompliance.html#3920" class="Bound">T</a> <a id="3922" href="FairCompliance.html#3922" class="Bound">φ</a><a id="3923" class="Symbol">}</a> <a id="3925" class="Symbol">-&gt;</a>
  <a id="3930" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="3946" class="Symbol">(</a><a id="3947" href="FairCompliance.html#3918" class="Bound">R</a> <a id="3949" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="3951" href="FairCompliance.html#3920" class="Bound">T</a><a id="3952" class="Symbol">)</a> <a id="3954" class="Symbol">-&gt;</a>
  <a id="3959" class="Symbol">(</a><a id="3960" href="FairCompliance.html#3960" class="Bound">rφ</a> <a id="3963" class="Symbol">:</a> <a id="3965" href="FairCompliance.html#3918" class="Bound">R</a> <a id="3967" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="3976" class="Symbol">(</a><a id="3977" href="Trace.html#1586" class="Function">co-trace</a> <a id="3986" href="FairCompliance.html#3922" class="Bound">φ</a><a id="3987" class="Symbol">))</a>
  <a id="3992" class="Symbol">(</a><a id="3993" href="FairCompliance.html#3993" class="Bound">tφ</a> <a id="3996" class="Symbol">:</a> <a id="3998" href="FairCompliance.html#3920" class="Bound">T</a> <a id="4000" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="4009" href="FairCompliance.html#3922" class="Bound">φ</a><a id="4010" class="Symbol">)</a> <a id="4012" class="Symbol">-&gt;</a>
  <a id="4017" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="4033" class="Symbol">(</a><a id="4034" href="HasTrace.html#1664" class="Function">after</a> <a id="4040" href="FairCompliance.html#3960" class="Bound">rφ</a> <a id="4043" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="4045" href="HasTrace.html#1664" class="Function">after</a> <a id="4051" href="FairCompliance.html#3993" class="Bound">tφ</a><a id="4053" class="Symbol">)</a>
<a id="4055" href="FairCompliance.html#3903" class="Function">fc-trace</a> <a id="4064" href="FairCompliance.html#4064" class="Bound">comp</a> <a id="4069" class="Symbol">(_</a> <a id="4072" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4074" class="Symbol">_</a> <a id="4076" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4078" href="FairCompliance.html#4078" class="Bound">rr</a><a id="4080" class="Symbol">)</a> <a id="4082" class="Symbol">(_</a> <a id="4085" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4087" class="Symbol">_</a> <a id="4089" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4091" href="FairCompliance.html#4091" class="Bound">tr</a><a id="4093" class="Symbol">)</a> <a id="4095" class="Symbol">=</a> <a id="4097" href="FairCompliance.html#3678" class="Function">fc-transitions</a> <a id="4112" href="FairCompliance.html#4078" class="Bound">rr</a> <a id="4115" href="FairCompliance.html#4091" class="Bound">tr</a> <a id="4118" href="FairCompliance.html#4064" class="Bound">comp</a>

<a id="fc-output-trace"></a><a id="4124" href="FairCompliance.html#4124" class="Function">fc-output-trace</a> <a id="4140" class="Symbol">:</a>
  <a id="4144" class="Symbol">∀{</a><a id="4146" href="FairCompliance.html#4146" class="Bound">R</a> <a id="4148" href="FairCompliance.html#4148" class="Bound">T</a> <a id="4150" href="FairCompliance.html#4150" class="Bound">x</a><a id="4151" class="Symbol">}</a> <a id="4153" class="Symbol">-&gt;</a>
  <a id="4158" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="4174" class="Symbol">(</a><a id="4175" href="FairCompliance.html#4146" class="Bound">R</a> <a id="4177" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="4179" href="FairCompliance.html#4148" class="Bound">T</a><a id="4180" class="Symbol">)</a> <a id="4182" class="Symbol">-&gt;</a>
  <a id="4187" href="FairCompliance.html#4148" class="Bound">T</a> <a id="4189" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="4198" class="Symbol">(</a><a id="4199" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="4201" href="FairCompliance.html#4150" class="Bound">x</a> <a id="4203" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4205" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4207" class="Symbol">)</a> <a id="4209" class="Symbol">-&gt;</a>
  <a id="4214" href="SessionType.html#2979" class="Datatype">Win</a> <a id="4218" href="FairCompliance.html#4146" class="Bound">R</a> <a id="4220" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="4222" class="Symbol">(</a><a id="4223" href="FairCompliance.html#4146" class="Bound">R</a> <a id="4225" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="4234" class="Symbol">(</a><a id="4235" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4237" href="FairCompliance.html#4150" class="Bound">x</a> <a id="4239" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4241" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4243" class="Symbol">))</a>
<a id="4246" href="FairCompliance.html#4124" class="Function">fc-output-trace</a> <a id="4262" class="Symbol">{</a><a id="4263" href="SessionType.html#1766" class="InductiveConstructor">nil</a><a id="4266" class="Symbol">}</a> <a id="4268" href="FairCompliance.html#4268" class="Bound">comp</a> <a id="4273" href="FairCompliance.html#4273" class="Bound">tφ</a> <a id="4276" class="Keyword">with</a> <a id="4281" href="FairCompliance.html#4268" class="Bound">comp</a> <a id="4286" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="4288" class="Symbol">...</a> <a id="4292" class="Symbol">|</a> <a id="4294" class="Symbol">_</a> <a id="4296" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4298" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="4300" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4302" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="4310" class="Symbol">()</a> <a id="4313" class="Symbol">_</a>
<a id="4315" class="Symbol">...</a> <a id="4319" class="Symbol">|</a> <a id="4321" class="Symbol">_</a> <a id="4323" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4325" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="4330" class="Symbol">()</a> <a id="4333" class="Symbol">_</a> <a id="4335" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="4337" class="Symbol">_</a> <a id="4339" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4341" class="Symbol">_</a>
<a id="4343" href="FairCompliance.html#4124" class="Function">fc-output-trace</a> <a id="4359" class="Symbol">{</a><a id="4360" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="4364" href="FairCompliance.html#4364" class="Bound">f</a><a id="4365" class="Symbol">}</a> <a id="4367" class="Symbol">{_}</a> <a id="4371" class="Symbol">{</a><a id="4372" href="FairCompliance.html#4372" class="Bound">x</a><a id="4373" class="Symbol">}</a> <a id="4375" href="FairCompliance.html#4375" class="Bound">comp</a> <a id="4380" class="Symbol">(_</a> <a id="4383" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4385" class="Symbol">_</a> <a id="4387" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4389" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4394" class="Symbol">(</a><a id="4395" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="4399" href="FairCompliance.html#4399" class="Bound">gx</a><a id="4401" class="Symbol">)</a> <a id="4403" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4407" class="Symbol">)</a> <a id="4409" class="Keyword">with</a> <a id="4414" href="FairCompliance.html#4372" class="Bound">x</a> <a id="4416" href="SessionType.html#2302" class="Function Operator">∈?</a> <a id="4419" href="FairCompliance.html#4364" class="Bound">f</a>
<a id="4421" class="Symbol">...</a> <a id="4425" class="Symbol">|</a> <a id="4427" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="4431" href="FairCompliance.html#4431" class="Bound">fx</a> <a id="4434" class="Symbol">=</a> <a id="4436" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="4441" class="Symbol">(_</a> <a id="4444" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4446" href="FairCompliance.html#4431" class="Bound">fx</a> <a id="4449" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4451" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4456" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="4460" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4464" class="Symbol">)</a>
<a id="4466" class="Symbol">...</a> <a id="4470" class="Symbol">|</a> <a id="4472" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="4475" href="FairCompliance.html#4475" class="Bound">nfx</a> <a id="4479" class="Keyword">with</a> <a id="4484" class="Bound">comp</a> <a id="4489" class="Symbol">(</a><a id="4490" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#3332" class="Function">return</a> <a id="4497" class="Symbol">(</a><a id="4498" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="4503" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="4507" class="Symbol">(</a><a id="4508" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="4512" class="Bound">gx</a><a id="4514" class="Symbol">)))</a>
<a id="4518" class="Symbol">...</a> <a id="4522" class="Symbol">|</a> <a id="4524" class="Symbol">_</a> <a id="4526" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4528" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="4530" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4532" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="4540" href="FairCompliance.html#4540" class="Bound">w</a> <a id="4542" class="Symbol">_</a> <a id="4544" class="Symbol">=</a> <a id="4546" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="4553" class="Symbol">(</a><a id="4554" class="Bound">nfx</a> <a id="4558" class="Symbol">(</a><a id="4559" href="SessionType.html#3312" class="Function">win-&gt;defined</a> <a id="4572" href="FairCompliance.html#4540" class="Bound">w</a><a id="4573" class="Symbol">))</a>
<a id="4576" class="Symbol">...</a> <a id="4580" class="Symbol">|</a> <a id="4582" class="Symbol">_</a> <a id="4584" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4586" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="4591" href="FairCompliance.html#4591" class="Bound">r</a> <a id="4593" class="Symbol">_</a> <a id="4595" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="4597" class="Symbol">_</a> <a id="4599" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4601" class="Symbol">_</a> <a id="4603" class="Symbol">=</a> <a id="4605" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="4612" class="Symbol">(</a><a id="4613" href="Relation.Nullary.Negation.html#929" class="Function">contraposition</a> <a id="4628" href="Transitions.html#1943" class="Function">transition-&gt;defined</a> <a id="4648" class="Bound">nfx</a> <a id="4652" href="FairCompliance.html#4591" class="Bound">r</a><a id="4653" class="Symbol">)</a>
<a id="4655" href="FairCompliance.html#4124" class="Function">fc-output-trace</a> <a id="4671" class="Symbol">{</a><a id="4672" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="4676" href="FairCompliance.html#4676" class="Bound">f</a><a id="4677" class="Symbol">}</a> <a id="4679" href="FairCompliance.html#4679" class="Bound">comp</a> <a id="4684" class="Symbol">(_</a> <a id="4687" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4689" class="Symbol">_</a> <a id="4691" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4693" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4698" class="Symbol">(</a><a id="4699" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="4703" class="Symbol">_)</a> <a id="4706" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4710" class="Symbol">)</a> <a id="4712" class="Keyword">with</a> <a id="4717" href="FairCompliance.html#4679" class="Bound">comp</a> <a id="4722" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a>
<a id="4724" class="Symbol">...</a> <a id="4728" class="Symbol">|</a> <a id="4730" class="Symbol">_</a> <a id="4732" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4734" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#546" class="InductiveConstructor">ε</a> <a id="4736" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4738" href="Session.html#2048" class="InductiveConstructor">win#def</a> <a id="4746" href="FairCompliance.html#4746" class="Bound">w</a> <a id="4748" class="Symbol">_</a> <a id="4750" class="Symbol">=</a> <a id="4752" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="4757" href="FairCompliance.html#4746" class="Bound">w</a>
<a id="4759" class="Symbol">...</a> <a id="4763" class="Symbol">|</a> <a id="4765" class="Symbol">_</a> <a id="4767" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4769" href="Session.html#1766" class="InductiveConstructor">sync</a> <a id="4774" class="Symbol">()</a> <a id="4777" class="Symbol">(</a><a id="4778" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="4782" class="Symbol">_)</a> <a id="4785" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#573" class="InductiveConstructor Operator">◅</a> <a id="4787" class="Symbol">_</a> <a id="4789" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4791" class="Symbol">_</a>

<a id="has-trace-snoc"></a><a id="4794" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="4809" class="Symbol">:</a>
  <a id="4813" class="Symbol">∀{</a><a id="4815" href="FairCompliance.html#4815" class="Bound">T</a> <a id="4817" href="FairCompliance.html#4817" class="Bound">φ</a> <a id="4819" href="FairCompliance.html#4819" class="Bound">α</a><a id="4820" class="Symbol">}</a> <a id="4822" class="Symbol">-&gt;</a> <a id="4825" href="FairCompliance.html#4815" class="Bound">T</a> <a id="4827" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="4836" class="Symbol">(</a><a id="4837" href="FairCompliance.html#4817" class="Bound">φ</a> <a id="4839" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="4842" href="FairCompliance.html#4819" class="Bound">α</a><a id="4843" class="Symbol">)</a> <a id="4845" class="Symbol">-&gt;</a>
  <a id="4850" href="Data.Product.html#1369" class="Function">∃</a> <a id="4852" class="Symbol">λ</a> <a id="4854" class="Symbol">(</a><a id="4855" href="FairCompliance.html#4855" class="Bound">tφ</a> <a id="4858" class="Symbol">:</a> <a id="4860" href="FairCompliance.html#4815" class="Bound">T</a> <a id="4862" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="4871" href="FairCompliance.html#4817" class="Bound">φ</a><a id="4872" class="Symbol">)</a> <a id="4874" class="Symbol">-&gt;</a> <a id="4877" href="HasTrace.html#1664" class="Function">after</a> <a id="4883" href="FairCompliance.html#4855" class="Bound">tφ</a> <a id="4886" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="4895" class="Symbol">(</a><a id="4896" href="FairCompliance.html#4819" class="Bound">α</a> <a id="4898" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4900" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4902" class="Symbol">)</a>
<a id="4904" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="4919" class="Symbol">{_}</a> <a id="4923" class="Symbol">{</a><a id="4924" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4926" class="Symbol">}</a> <a id="4928" href="FairCompliance.html#4928" class="Bound">tα</a><a id="4930" class="Symbol">@(_</a> <a id="4934" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4936" class="Symbol">_</a> <a id="4938" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4940" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4945" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="4949" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4953" class="Symbol">)</a> <a id="4955" class="Symbol">=</a> <a id="4957" class="Symbol">(_</a> <a id="4960" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4962" href="SessionType.html#1911" class="InductiveConstructor">inp</a> <a id="4966" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4968" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4972" class="Symbol">)</a> <a id="4974" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4976" href="FairCompliance.html#4928" class="Bound">tα</a>
<a id="4979" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="4994" class="Symbol">{_}</a> <a id="4998" class="Symbol">{</a><a id="4999" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5001" class="Symbol">}</a> <a id="5003" href="FairCompliance.html#5003" class="Bound">tα</a><a id="5005" class="Symbol">@(_</a> <a id="5009" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5011" class="Symbol">_</a> <a id="5013" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5015" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5020" class="Symbol">(</a><a id="5021" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="5025" class="Symbol">_)</a> <a id="5028" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="5032" class="Symbol">)</a> <a id="5034" class="Symbol">=</a> <a id="5036" class="Symbol">(_</a> <a id="5039" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5041" href="SessionType.html#1943" class="InductiveConstructor">out</a> <a id="5045" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5047" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="5051" class="Symbol">)</a> <a id="5053" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5055" href="FairCompliance.html#5003" class="Bound">tα</a>
<a id="5058" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="5073" class="Symbol">{_}</a> <a id="5077" class="Symbol">{_</a> <a id="5080" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5082" href="FairCompliance.html#5082" class="Bound">φ</a><a id="5083" class="Symbol">}</a> <a id="5085" class="Symbol">(_</a> <a id="5088" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5090" href="FairCompliance.html#5090" class="Bound">def</a> <a id="5094" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5096" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5101" href="FairCompliance.html#5101" class="Bound">t</a> <a id="5103" href="FairCompliance.html#5103" class="Bound">tr</a><a id="5105" class="Symbol">)</a> <a id="5107" class="Symbol">=</a>
  <a id="5111" class="Keyword">let</a> <a id="5115" class="Symbol">(_</a> <a id="5118" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5120" href="FairCompliance.html#5120" class="Bound">tdef</a> <a id="5125" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5127" href="FairCompliance.html#5127" class="Bound">sr</a><a id="5129" class="Symbol">)</a> <a id="5131" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5133" href="FairCompliance.html#5133" class="Bound">tφ/α</a> <a id="5138" class="Symbol">=</a> <a id="5140" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="5155" class="Symbol">(_</a> <a id="5158" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5160" href="FairCompliance.html#5090" class="Bound">def</a> <a id="5164" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5166" href="FairCompliance.html#5103" class="Bound">tr</a><a id="5168" class="Symbol">)</a> <a id="5170" class="Keyword">in</a>
  <a id="5175" class="Symbol">(_</a> <a id="5178" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5180" href="FairCompliance.html#5120" class="Bound">tdef</a> <a id="5185" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5187" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5192" href="FairCompliance.html#5101" class="Bound">t</a> <a id="5194" href="FairCompliance.html#5127" class="Bound">sr</a><a id="5196" class="Symbol">)</a> <a id="5198" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5200" href="FairCompliance.html#5133" class="Bound">tφ/α</a>

<a id="client-wins-or-accepts-prefix"></a><a id="5206" href="FairCompliance.html#5206" class="Function">client-wins-or-accepts-prefix</a> <a id="5236" class="Symbol">:</a>
  <a id="5240" class="Symbol">∀{</a><a id="5242" href="FairCompliance.html#5242" class="Bound">R</a> <a id="5244" href="FairCompliance.html#5244" class="Bound">T</a> <a id="5246" href="FairCompliance.html#5246" class="Bound">φ</a> <a id="5248" href="FairCompliance.html#5248" class="Bound">x</a><a id="5249" class="Symbol">}</a>
  <a id="5253" class="Symbol">(</a><a id="5254" href="FairCompliance.html#5254" class="Bound">comp</a> <a id="5259" class="Symbol">:</a> <a id="5261" href="Session.html#2527" class="Function">FairComplianceS</a> <a id="5277" class="Symbol">(</a><a id="5278" href="FairCompliance.html#5242" class="Bound">R</a> <a id="5280" href="Session.html#1660" class="InductiveConstructor Operator">#</a> <a id="5282" href="FairCompliance.html#5244" class="Bound">T</a><a id="5283" class="Symbol">))</a>
  <a id="5288" class="Symbol">(</a><a id="5289" href="FairCompliance.html#5289" class="Bound">rφ</a> <a id="5292" class="Symbol">:</a> <a id="5294" href="FairCompliance.html#5242" class="Bound">R</a> <a id="5296" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="5305" class="Symbol">(</a><a id="5306" href="Trace.html#1586" class="Function">co-trace</a> <a id="5315" href="FairCompliance.html#5246" class="Bound">φ</a><a id="5316" class="Symbol">))</a>
  <a id="5321" class="Symbol">(</a><a id="5322" href="FairCompliance.html#5322" class="Bound">tφ</a> <a id="5325" class="Symbol">:</a> <a id="5327" href="FairCompliance.html#5244" class="Bound">T</a> <a id="5329" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="5338" class="Symbol">(</a><a id="5339" href="FairCompliance.html#5246" class="Bound">φ</a> <a id="5341" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="5344" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5346" href="FairCompliance.html#5248" class="Bound">x</a><a id="5347" class="Symbol">))</a> <a id="5350" class="Symbol">-&gt;</a>
  <a id="5355" href="SessionType.html#2979" class="Datatype">Win</a> <a id="5359" class="Symbol">(</a><a id="5360" href="HasTrace.html#1664" class="Function">after</a> <a id="5366" href="FairCompliance.html#5289" class="Bound">rφ</a><a id="5368" class="Symbol">)</a> <a id="5370" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="5372" href="FairCompliance.html#5242" class="Bound">R</a> <a id="5374" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="5383" class="Symbol">(</a><a id="5384" href="Trace.html#1586" class="Function">co-trace</a> <a id="5393" class="Symbol">(</a><a id="5394" href="FairCompliance.html#5246" class="Bound">φ</a> <a id="5396" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="5399" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5401" href="FairCompliance.html#5248" class="Bound">x</a><a id="5402" class="Symbol">))</a>
<a id="5405" href="FairCompliance.html#5206" class="Function">client-wins-or-accepts-prefix</a> <a id="5435" class="Symbol">{_}</a> <a id="5439" class="Symbol">{_}</a> <a id="5443" class="Symbol">{</a><a id="5444" href="FairCompliance.html#5444" class="Bound">φ</a><a id="5445" class="Symbol">}</a> <a id="5447" href="FairCompliance.html#5447" class="Bound">comp</a> <a id="5452" href="FairCompliance.html#5452" class="Bound">rφ</a> <a id="5455" href="FairCompliance.html#5455" class="Bound">tφα</a> <a id="5459" class="Keyword">with</a> <a id="5464" href="FairCompliance.html#4794" class="Function">has-trace-snoc</a> <a id="5479" href="FairCompliance.html#5455" class="Bound">tφα</a>
<a id="5483" class="Symbol">...</a> <a id="5487" class="Symbol">|</a> <a id="5489" href="FairCompliance.html#5489" class="Bound">tφ</a> <a id="5492" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5494" href="FairCompliance.html#5494" class="Bound">tφ/α</a> <a id="5499" class="Keyword">with</a> <a id="5504" href="FairCompliance.html#3903" class="Function">fc-trace</a> <a id="5513" class="Bound">comp</a> <a id="5518" class="Bound">rφ</a> <a id="5521" href="FairCompliance.html#5489" class="Bound">tφ</a>
<a id="5524" class="Symbol">...</a> <a id="5528" class="Symbol">|</a> <a id="5530" href="FairCompliance.html#5530" class="Bound">comp/φ</a> <a id="5537" class="Keyword">with</a> <a id="5542" href="FairCompliance.html#4124" class="Function">fc-output-trace</a> <a id="5558" href="FairCompliance.html#5530" class="Bound">comp/φ</a> <a id="5565" class="Bound">tφ/α</a>
<a id="5570" class="Symbol">...</a> <a id="5574" class="Symbol">|</a> <a id="5576" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="5581" href="FairCompliance.html#5581" class="Bound">w</a> <a id="5583" class="Symbol">=</a> <a id="5585" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="5590" href="FairCompliance.html#5581" class="Bound">w</a>
<a id="5592" class="Symbol">...</a> <a id="5596" class="Symbol">|</a> <a id="5598" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="5603" href="FairCompliance.html#5603" class="Bound">rφ/α</a> <a id="5608" class="Symbol">=</a>
  <a id="5612" class="Keyword">let</a> <a id="5616" href="FairCompliance.html#5616" class="Bound">rφα</a> <a id="5620" class="Symbol">=</a> <a id="5622" href="HasTrace.html#4465" class="Function">join-trace</a> <a id="5633" class="Bound">rφ</a> <a id="5636" href="FairCompliance.html#5603" class="Bound">rφ/α</a> <a id="5641" class="Keyword">in</a>
  <a id="5646" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="5651" class="Symbol">(</a><a id="5652" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="5658" class="Symbol">(_</a> <a id="5661" href="HasTrace.html#1566" class="Function Operator">HasTrace_</a><a id="5670" class="Symbol">)</a> <a id="5672" class="Symbol">(</a><a id="5673" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="5677" class="Symbol">(</a><a id="5678" href="Trace.html#1832" class="Function">co-trace-++</a> <a id="5690" class="Bound">φ</a> <a id="5692" class="Symbol">_))</a> <a id="5696" href="FairCompliance.html#5616" class="Bound">rφα</a><a id="5699" class="Symbol">)</a>
</pre></body></html>