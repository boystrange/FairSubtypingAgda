<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Semantics</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Keyword">import</a> <a id="1156" href="Level.html" class="Module">Level</a>

<a id="1163" class="Keyword">open</a> <a id="1168" class="Keyword">import</a> <a id="1175" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="1186" class="Keyword">open</a> <a id="1191" class="Keyword">import</a> <a id="1198" href="Data.Product.html" class="Module">Data.Product</a>
<a id="1211" class="Keyword">open</a> <a id="1216" class="Keyword">import</a> <a id="1223" href="Data.List.html" class="Module">Data.List</a> <a id="1233" class="Keyword">using</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1243" class="Symbol">;</a> <a id="1245" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="1247" class="Symbol">;</a> <a id="1249" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="1253" class="Symbol">)</a>
<a id="1255" class="Keyword">open</a> <a id="1260" class="Keyword">import</a> <a id="1267" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="1288" class="Keyword">using</a> <a id="1294" class="Symbol">(</a><a id="1295" href="Data.List.Properties.html#2232" class="Function">∷-injectiveʳ</a><a id="1307" class="Symbol">)</a>

<a id="1310" class="Keyword">open</a> <a id="1315" class="Keyword">import</a> <a id="1322" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1339" class="Keyword">open</a> <a id="1344" class="Keyword">import</a> <a id="1351" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="1366" class="Keyword">open</a> <a id="1371" class="Keyword">import</a> <a id="1378" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1416" class="Keyword">using</a> <a id="1422" class="Symbol">(</a><a id="1423" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1426" class="Symbol">;</a> <a id="1428" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1432" class="Symbol">;</a> <a id="1434" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="1437" class="Symbol">;</a> <a id="1439" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="1444" class="Symbol">)</a>

<a id="1447" class="Keyword">open</a> <a id="1452" class="Keyword">import</a> <a id="1459" href="Common.html" class="Module">Common</a>

<a id="1467" class="Keyword">module</a> <a id="1474" href="Semantics.html" class="Module">Semantics</a> <a id="1484" class="Symbol">{</a><a id="1485" href="Semantics.html#1485" class="Bound">ℙ</a> <a id="1487" class="Symbol">:</a> <a id="1489" class="PrimitiveType">Set</a><a id="1492" class="Symbol">}</a> <a id="1494" class="Symbol">(</a><a id="1495" href="Semantics.html#1495" class="Bound">message</a> <a id="1503" class="Symbol">:</a> <a id="1505" href="Common.html#1500" class="Record">Message</a> <a id="1513" href="Semantics.html#1485" class="Bound">ℙ</a><a id="1514" class="Symbol">)</a>
  <a id="1518" class="Keyword">where</a>

<a id="1525" class="Keyword">open</a> <a id="1530" class="Keyword">import</a> <a id="1537" href="Trace.html" class="Module">Trace</a> <a id="1543" href="Semantics.html#1495" class="Bound">message</a>
<a id="1551" class="Keyword">open</a> <a id="1556" class="Keyword">import</a> <a id="1563" href="HasTrace.html" class="Module">HasTrace</a> <a id="1572" href="Semantics.html#1495" class="Bound">message</a>
<a id="1580" class="Keyword">open</a> <a id="1585" class="Keyword">import</a> <a id="1592" href="TraceSet.html" class="Module">TraceSet</a> <a id="1601" href="Semantics.html#1495" class="Bound">message</a>
<a id="1609" class="Keyword">open</a> <a id="1614" class="Keyword">import</a> <a id="1621" href="SessionType.html" class="Module">SessionType</a> <a id="1633" href="Semantics.html#1495" class="Bound">message</a>
<a id="1641" class="Keyword">open</a> <a id="1646" class="Keyword">import</a> <a id="1653" href="Transitions.html" class="Module">Transitions</a> <a id="1665" href="Semantics.html#1495" class="Bound">message</a>

<a id="1674" class="Keyword">record</a> <a id="Semantics"></a><a id="1681" href="Semantics.html#1681" class="Record">Semantics</a> <a id="1691" class="Symbol">(</a><a id="1692" href="Semantics.html#1692" class="Bound">X</a> <a id="1694" class="Symbol">:</a> <a id="1696" href="TraceSet.html#1638" class="Function">TraceSet</a><a id="1704" class="Symbol">)</a> <a id="1706" class="Symbol">:</a> <a id="1708" class="PrimitiveType">Set</a> <a id="1712" class="Keyword">where</a>
  <a id="1720" class="Keyword">field</a>
    <a id="Semantics.closed"></a><a id="1730" href="Semantics.html#1730" class="Field">closed</a>   <a id="1739" class="Symbol">:</a> <a id="1741" href="TraceSet.html#1795" class="Function">PrefixClosed</a> <a id="1754" href="Semantics.html#1692" class="Bound">X</a>
    <a id="Semantics.coherent"></a><a id="1760" href="Semantics.html#1760" class="Field">coherent</a> <a id="1769" class="Symbol">:</a> <a id="1771" href="TraceSet.html#1874" class="Function">Coherent</a> <a id="1780" href="Semantics.html#1692" class="Bound">X</a>
<a id="1782" class="Keyword">open</a> <a id="1787" href="Semantics.html#1681" class="Module">Semantics</a> <a id="1797" class="Keyword">public</a>

<a id="1805" class="Keyword">data</a> <a id="Classification"></a><a id="1810" href="Semantics.html#1810" class="Datatype">Classification</a> <a id="1825" class="Symbol">:</a> <a id="1827" href="TraceSet.html#1638" class="Function">TraceSet</a> <a id="1836" class="Symbol">-&gt;</a> <a id="1839" class="PrimitiveType">Set</a> <a id="1843" class="Keyword">where</a>
  <a id="Classification.emp"></a><a id="1851" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="1855" class="Symbol">:</a> <a id="1857" class="Symbol">∀{</a><a id="1859" href="Semantics.html#1859" class="Bound">X</a><a id="1860" class="Symbol">}</a>   <a id="1864" class="Symbol">-&gt;</a> <a id="1867" href="Semantics.html#1859" class="Bound">X</a> <a id="1869" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="1871" href="Relation.Unary.html#1285" class="Function">∅</a>        <a id="1880" class="Symbol">-&gt;</a> <a id="1883" href="Semantics.html#1810" class="Datatype">Classification</a> <a id="1898" href="Semantics.html#1859" class="Bound">X</a>
  <a id="Classification.eps"></a><a id="1902" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="1906" class="Symbol">:</a> <a id="1908" class="Symbol">∀{</a><a id="1910" href="Semantics.html#1910" class="Bound">X</a><a id="1911" class="Symbol">}</a>   <a id="1915" class="Symbol">-&gt;</a> <a id="1918" href="Semantics.html#1910" class="Bound">X</a> <a id="1920" href="TraceSet.html#1736" class="Function Operator">⊆⊇</a> <a id="1923" href="Relation.Unary.html#1335" class="Function Operator">｛</a> <a id="1925" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1928" href="Relation.Unary.html#1335" class="Function Operator">｝</a> <a id="1930" class="Symbol">-&gt;</a> <a id="1933" href="Semantics.html#1810" class="Datatype">Classification</a> <a id="1948" href="Semantics.html#1910" class="Bound">X</a>
  <a id="Classification.inp"></a><a id="1952" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="1956" class="Symbol">:</a> <a id="1958" class="Symbol">∀{</a><a id="1960" href="Semantics.html#1960" class="Bound">X</a> <a id="1962" href="Semantics.html#1962" class="Bound">x</a><a id="1963" class="Symbol">}</a> <a id="1965" class="Symbol">-&gt;</a> <a id="1968" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1970" href="Semantics.html#1962" class="Bound">x</a> <a id="1972" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1974" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1977" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="1979" href="Semantics.html#1960" class="Bound">X</a> <a id="1981" class="Symbol">-&gt;</a> <a id="1984" href="Semantics.html#1810" class="Datatype">Classification</a> <a id="1999" href="Semantics.html#1960" class="Bound">X</a>
  <a id="Classification.out"></a><a id="2003" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="2007" class="Symbol">:</a> <a id="2009" class="Symbol">∀{</a><a id="2011" href="Semantics.html#2011" class="Bound">X</a> <a id="2013" href="Semantics.html#2013" class="Bound">x</a><a id="2014" class="Symbol">}</a> <a id="2016" class="Symbol">-&gt;</a> <a id="2019" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2021" href="Semantics.html#2013" class="Bound">x</a> <a id="2023" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2025" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2028" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2030" href="Semantics.html#2011" class="Bound">X</a> <a id="2032" class="Symbol">-&gt;</a> <a id="2035" href="Semantics.html#1810" class="Datatype">Classification</a> <a id="2050" href="Semantics.html#2011" class="Bound">X</a>

<a id="is-emp"></a><a id="2053" href="Semantics.html#2053" class="Function">is-emp</a> <a id="2060" class="Symbol">:</a> <a id="2062" class="Symbol">∀{</a><a id="2064" href="Semantics.html#2064" class="Bound">X</a><a id="2065" class="Symbol">}</a> <a id="2067" class="Symbol">-&gt;</a> <a id="2070" href="Semantics.html#1681" class="Record">Semantics</a> <a id="2080" href="Semantics.html#2064" class="Bound">X</a> <a id="2082" class="Symbol">-&gt;</a> <a id="2085" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2088" href="Relation.Unary.html#1563" class="Function Operator">∉</a> <a id="2090" href="Semantics.html#2064" class="Bound">X</a> <a id="2092" class="Symbol">-&gt;</a> <a id="2095" href="Semantics.html#2064" class="Bound">X</a> <a id="2097" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="2099" href="Relation.Unary.html#1285" class="Function">∅</a>
<a id="2101" href="Semantics.html#2053" class="Function">is-emp</a> <a id="2108" href="Semantics.html#2108" class="Bound">sem</a> <a id="2112" href="Semantics.html#2112" class="Bound">nxε</a> <a id="2116" href="Semantics.html#2116" class="Bound">xφ</a> <a id="2119" class="Keyword">with</a> <a id="2124" href="Semantics.html#1730" class="Field">closed</a> <a id="2131" href="Semantics.html#2108" class="Bound">sem</a> <a id="2135" href="Trace.html#2311" class="InductiveConstructor">none</a> <a id="2140" href="Semantics.html#2116" class="Bound">xφ</a>
<a id="2143" class="Symbol">...</a> <a id="2147" class="Symbol">|</a> <a id="2149" href="Semantics.html#2149" class="Bound">xε</a> <a id="2152" class="Symbol">=</a> <a id="2154" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2161" class="Symbol">(</a><a id="2162" class="Bound">nxε</a> <a id="2166" href="Semantics.html#2149" class="Bound">xε</a><a id="2168" class="Symbol">)</a>

<a id="is-eps"></a><a id="2171" href="Semantics.html#2171" class="Function">is-eps</a> <a id="2178" class="Symbol">:</a>
  <a id="2182" class="Symbol">∀{</a><a id="2184" href="Semantics.html#2184" class="Bound">X</a><a id="2185" class="Symbol">}</a> <a id="2187" class="Symbol">-&gt;</a>
  <a id="2192" href="Semantics.html#1681" class="Record">Semantics</a> <a id="2202" href="Semantics.html#2184" class="Bound">X</a> <a id="2204" class="Symbol">-&gt;</a>
  <a id="2209" class="Symbol">(</a><a id="2210" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2212" class="Symbol">(</a><a id="2213" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2216" href="Semantics.html#2216" class="Bound">x</a> <a id="2218" href="Data.Product.html#1788" class="Function">]</a> <a id="2220" class="Symbol">(</a><a id="2221" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2223" href="Semantics.html#2216" class="Bound">x</a> <a id="2225" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2227" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2230" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2232" href="Semantics.html#2184" class="Bound">X</a><a id="2233" class="Symbol">)))</a> <a id="2237" class="Symbol">-&gt;</a>
  <a id="2242" class="Symbol">(</a><a id="2243" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2245" class="Symbol">(</a><a id="2246" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2249" href="Semantics.html#2249" class="Bound">x</a> <a id="2251" href="Data.Product.html#1788" class="Function">]</a> <a id="2253" class="Symbol">(</a><a id="2254" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2256" href="Semantics.html#2249" class="Bound">x</a> <a id="2258" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2260" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2263" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2265" href="Semantics.html#2184" class="Bound">X</a><a id="2266" class="Symbol">)))</a> <a id="2270" class="Symbol">-&gt;</a>
  <a id="2275" href="Semantics.html#2184" class="Bound">X</a> <a id="2277" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="2279" href="Relation.Unary.html#1335" class="Function Operator">｛</a> <a id="2281" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2284" href="Relation.Unary.html#1335" class="Function Operator">｝</a>
<a id="2286" href="Semantics.html#2171" class="Function">is-eps</a> <a id="2293" href="Semantics.html#2293" class="Bound">sem</a> <a id="2297" href="Semantics.html#2297" class="Bound">nix</a> <a id="2301" href="Semantics.html#2301" class="Bound">nox</a> <a id="2305" class="Symbol">{</a><a id="2306" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2308" class="Symbol">}</a> <a id="2310" href="Semantics.html#2310" class="Bound">xφ</a> <a id="2313" class="Symbol">=</a> <a id="2315" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2320" href="Semantics.html#2171" class="Function">is-eps</a> <a id="2327" href="Semantics.html#2327" class="Bound">sem</a> <a id="2331" href="Semantics.html#2331" class="Bound">nix</a> <a id="2335" href="Semantics.html#2335" class="Bound">nox</a> <a id="2339" class="Symbol">{</a><a id="2340" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2342" href="Semantics.html#2342" class="Bound">x</a> <a id="2344" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2346" href="Semantics.html#2346" class="Bound">φ</a><a id="2347" class="Symbol">}</a> <a id="2349" href="Semantics.html#2349" class="Bound">xφ</a> <a id="2352" class="Keyword">with</a> <a id="2357" href="Semantics.html#1730" class="Field">closed</a> <a id="2364" href="Semantics.html#2327" class="Bound">sem</a> <a id="2368" class="Symbol">(</a><a id="2369" href="Trace.html#2339" class="InductiveConstructor">some</a> <a id="2374" href="Trace.html#2311" class="InductiveConstructor">none</a><a id="2378" class="Symbol">)</a> <a id="2380" href="Semantics.html#2349" class="Bound">xφ</a>
<a id="2383" class="Symbol">...</a> <a id="2387" class="Symbol">|</a> <a id="2389" href="Semantics.html#2389" class="Bound">ix</a> <a id="2392" class="Symbol">=</a> <a id="2394" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2401" class="Symbol">(</a><a id="2402" class="Bound">nix</a> <a id="2406" class="Symbol">(</a><a id="2407" class="Bound">x</a> <a id="2409" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2411" href="Semantics.html#2389" class="Bound">ix</a><a id="2413" class="Symbol">))</a>
<a id="2416" href="Semantics.html#2171" class="Function">is-eps</a> <a id="2423" href="Semantics.html#2423" class="Bound">sem</a> <a id="2427" href="Semantics.html#2427" class="Bound">nix</a> <a id="2431" href="Semantics.html#2431" class="Bound">nox</a> <a id="2435" class="Symbol">{</a><a id="2436" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2438" href="Semantics.html#2438" class="Bound">x</a> <a id="2440" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2442" href="Semantics.html#2442" class="Bound">φ</a><a id="2443" class="Symbol">}</a> <a id="2445" href="Semantics.html#2445" class="Bound">xφ</a> <a id="2448" class="Keyword">with</a> <a id="2453" href="Semantics.html#1730" class="Field">closed</a> <a id="2460" href="Semantics.html#2423" class="Bound">sem</a> <a id="2464" class="Symbol">(</a><a id="2465" href="Trace.html#2339" class="InductiveConstructor">some</a> <a id="2470" href="Trace.html#2311" class="InductiveConstructor">none</a><a id="2474" class="Symbol">)</a> <a id="2476" href="Semantics.html#2445" class="Bound">xφ</a>
<a id="2479" class="Symbol">...</a> <a id="2483" class="Symbol">|</a> <a id="2485" href="Semantics.html#2485" class="Bound">ox</a> <a id="2488" class="Symbol">=</a> <a id="2490" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2497" class="Symbol">(</a><a id="2498" class="Bound">nox</a> <a id="2502" class="Symbol">(</a><a id="2503" class="Bound">x</a> <a id="2505" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2507" href="Semantics.html#2485" class="Bound">ox</a><a id="2509" class="Symbol">))</a>

<a id="kind?"></a><a id="2513" href="Semantics.html#2513" class="Function">kind?</a> <a id="2519" class="Symbol">:</a> <a id="2521" class="Symbol">∀{</a><a id="2523" href="Semantics.html#2523" class="Bound">X</a><a id="2524" class="Symbol">}</a> <a id="2526" class="Symbol">-&gt;</a> <a id="2529" href="Semantics.html#1681" class="Record">Semantics</a> <a id="2539" href="Semantics.html#2523" class="Bound">X</a> <a id="2541" class="Symbol">-&gt;</a> <a id="2544" href="Semantics.html#1810" class="Datatype">Classification</a> <a id="2559" href="Semantics.html#2523" class="Bound">X</a>
<a id="2561" href="Semantics.html#2513" class="Function">kind?</a> <a id="2567" class="Symbol">{</a><a id="2568" href="Semantics.html#2568" class="Bound">X</a><a id="2569" class="Symbol">}</a> <a id="2571" href="Semantics.html#2571" class="Bound">sem</a> <a id="2575" class="Keyword">with</a> <a id="2580" href="Common.html#1380" class="Postulate">excluded-middle</a> <a id="2596" class="Symbol">{</a><a id="2597" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2600" href="Semantics.html#2600" class="Bound">x</a> <a id="2602" href="Data.Product.html#1788" class="Function">]</a> <a id="2604" class="Symbol">(</a><a id="2605" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2607" href="Semantics.html#2600" class="Bound">x</a> <a id="2609" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2611" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2614" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2616" href="Semantics.html#2568" class="Bound">X</a><a id="2617" class="Symbol">)}</a>
<a id="2620" class="Symbol">...</a> <a id="2624" class="Symbol">|</a> <a id="2626" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2630" class="Symbol">(_</a> <a id="2633" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2635" href="Semantics.html#2635" class="Bound">ix</a><a id="2637" class="Symbol">)</a> <a id="2639" class="Symbol">=</a> <a id="2641" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="2645" href="Semantics.html#2635" class="Bound">ix</a>
<a id="2648" class="Symbol">...</a> <a id="2652" class="Symbol">|</a> <a id="2654" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2657" href="Semantics.html#2657" class="Bound">nix</a> <a id="2661" class="Keyword">with</a> <a id="2666" href="Common.html#1380" class="Postulate">excluded-middle</a> <a id="2682" class="Symbol">{</a><a id="2683" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2686" href="Semantics.html#2686" class="Bound">x</a> <a id="2688" href="Data.Product.html#1788" class="Function">]</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2693" href="Semantics.html#2686" class="Bound">x</a> <a id="2695" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2697" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2700" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2702" class="Bound">X</a><a id="2703" class="Symbol">)}</a>
<a id="2706" class="Symbol">...</a> <a id="2710" class="Symbol">|</a> <a id="2712" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2716" class="Symbol">(_</a> <a id="2719" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2721" href="Semantics.html#2721" class="Bound">ox</a><a id="2723" class="Symbol">)</a> <a id="2725" class="Symbol">=</a> <a id="2727" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="2731" href="Semantics.html#2721" class="Bound">ox</a>
<a id="2734" class="Symbol">...</a> <a id="2738" class="Symbol">|</a> <a id="2740" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2743" href="Semantics.html#2743" class="Bound">nox</a> <a id="2747" class="Keyword">with</a> <a id="2752" href="Common.html#1380" class="Postulate">excluded-middle</a> <a id="2768" class="Symbol">{</a><a id="2769" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2772" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2774" class="Bound">X</a><a id="2775" class="Symbol">}</a>
<a id="2777" class="Symbol">...</a> <a id="2781" class="Symbol">|</a> <a id="2783" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2787" href="Semantics.html#2787" class="Bound">xε</a> <a id="2790" class="Symbol">=</a> <a id="2792" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="2796" class="Symbol">(</a><a id="2797" href="Semantics.html#2171" class="Function">is-eps</a> <a id="2804" class="Bound">sem</a> <a id="2808" class="Bound">nix</a> <a id="2812" class="Bound">nox</a> <a id="2816" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2818" class="Symbol">λ</a> <a id="2820" class="Symbol">{</a> <a id="2822" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2827" class="Symbol">-&gt;</a> <a id="2830" href="Semantics.html#2787" class="Bound">xε</a> <a id="2833" class="Symbol">})</a>
<a id="2836" class="Symbol">...</a> <a id="2840" class="Symbol">|</a> <a id="2842" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2845" href="Semantics.html#2845" class="Bound">nxε</a> <a id="2849" class="Symbol">=</a> <a id="2851" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="2855" class="Symbol">(</a><a id="2856" href="Semantics.html#2053" class="Function">is-emp</a> <a id="2863" class="Bound">sem</a> <a id="2867" href="Semantics.html#2845" class="Bound">nxε</a><a id="2870" class="Symbol">)</a>

<a id="sem-sound"></a><a id="2873" href="Semantics.html#2873" class="Function">sem-sound</a> <a id="2883" class="Symbol">:</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Semantics.html#2886" class="Bound">T</a> <a id="2888" class="Symbol">:</a> <a id="2890" href="SessionType.html#1551" class="Datatype">SessionType</a><a id="2901" class="Symbol">)</a> <a id="2903" class="Symbol">-&gt;</a> <a id="2906" href="Semantics.html#1681" class="Record">Semantics</a> <a id="2916" href="TraceSet.html#1688" class="Function Operator">⟦</a> <a id="2918" href="Semantics.html#2886" class="Bound">T</a> <a id="2920" href="TraceSet.html#1688" class="Function Operator">⟧</a>
<a id="2922" href="Semantics.html#1730" class="Field">closed</a> <a id="2929" class="Symbol">(</a><a id="2930" href="Semantics.html#2873" class="Function">sem-sound</a> <a id="2940" href="Semantics.html#2940" class="Bound">T</a><a id="2941" class="Symbol">)</a> <a id="2943" class="Symbol">=</a> <a id="2945" href="HasTrace.html#3835" class="Function">⊑-has-trace</a>
<a id="2957" href="Semantics.html#1760" class="Field">coherent</a> <a id="2966" class="Symbol">(</a><a id="2967" href="Semantics.html#2873" class="Function">sem-sound</a> <a id="2977" href="Semantics.html#2977" class="Bound">T</a><a id="2978" class="Symbol">)</a> <a id="2980" class="Symbol">=</a> <a id="2982" href="HasTrace.html#6187" class="Function">trace-coherence</a>

<a id="derive-semantics"></a><a id="2999" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="3016" class="Symbol">:</a> <a id="3018" class="Symbol">∀{</a><a id="3020" href="Semantics.html#3020" class="Bound">X</a><a id="3021" class="Symbol">}</a> <a id="3023" class="Symbol">-&gt;</a> <a id="3026" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3036" href="Semantics.html#3020" class="Bound">X</a> <a id="3038" class="Symbol">-&gt;</a> <a id="3041" class="Symbol">(</a><a id="3042" href="Semantics.html#3042" class="Bound">α</a> <a id="3044" class="Symbol">:</a> <a id="3046" href="Action.html#1349" class="Datatype">Action</a><a id="3052" class="Symbol">)</a> <a id="3054" class="Symbol">-&gt;</a> <a id="3057" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3067" class="Symbol">(</a><a id="3068" href="Semantics.html#3020" class="Bound">X</a> <a id="3070" href="TraceSet.html#1977" class="Function Operator">∂</a> <a id="3072" href="Semantics.html#3042" class="Bound">α</a><a id="3073" class="Symbol">)</a>
<a id="3075" href="Semantics.html#1730" class="Field">closed</a> <a id="3082" class="Symbol">(</a><a id="3083" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="3100" href="Semantics.html#3100" class="Bound">sem</a> <a id="3104" class="Symbol">_)</a> <a id="3107" href="Semantics.html#3107" class="Bound">pre</a> <a id="3111" href="Semantics.html#3111" class="Bound">hasφ</a> <a id="3116" class="Symbol">=</a> <a id="3118" href="Semantics.html#1730" class="Field">closed</a> <a id="3125" href="Semantics.html#3100" class="Bound">sem</a> <a id="3129" class="Symbol">(</a><a id="3130" href="Trace.html#2339" class="InductiveConstructor">some</a> <a id="3135" href="Semantics.html#3107" class="Bound">pre</a><a id="3138" class="Symbol">)</a> <a id="3140" href="Semantics.html#3111" class="Bound">hasφ</a>
<a id="3145" href="Semantics.html#1760" class="Field">coherent</a> <a id="3154" class="Symbol">(</a><a id="3155" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="3172" class="Symbol">{</a><a id="3173" href="Semantics.html#3173" class="Bound">X</a><a id="3174" class="Symbol">}</a> <a id="3176" href="Semantics.html#3176" class="Bound">sem</a> <a id="3180" href="Semantics.html#3180" class="Bound">γ</a><a id="3181" class="Symbol">)</a> <a id="3183" class="Symbol">{</a><a id="3184" href="Semantics.html#3184" class="Bound">φ</a><a id="3185" class="Symbol">}</a> <a id="3187" class="Symbol">{</a><a id="3188" href="Semantics.html#3188" class="Bound">α</a><a id="3189" class="Symbol">}</a> <a id="3191" class="Symbol">{</a><a id="3192" href="Semantics.html#3192" class="Bound">β</a><a id="3193" class="Symbol">}</a> <a id="3195" href="Semantics.html#3195" class="Bound">hasφα</a> <a id="3201" href="Semantics.html#3201" class="Bound">hasφβ</a> <a id="3207" class="Symbol">=</a> <a id="3209" href="Semantics.html#1760" class="Field">coherent</a> <a id="3218" class="Symbol">{</a><a id="3219" href="Semantics.html#3173" class="Bound">X</a><a id="3220" class="Symbol">}</a> <a id="3222" href="Semantics.html#3176" class="Bound">sem</a> <a id="3226" class="Symbol">{</a><a id="3227" href="Semantics.html#3180" class="Bound">γ</a> <a id="3229" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3231" href="Semantics.html#3184" class="Bound">φ</a><a id="3232" class="Symbol">}</a> <a id="3234" href="Semantics.html#3195" class="Bound">hasφα</a> <a id="3240" href="Semantics.html#3201" class="Bound">hasφβ</a>

<a id="co-semantics"></a><a id="3247" href="Semantics.html#3247" class="Function">co-semantics</a> <a id="3260" class="Symbol">:</a> <a id="3262" class="Symbol">∀{</a><a id="3264" href="Semantics.html#3264" class="Bound">X</a><a id="3265" class="Symbol">}</a> <a id="3267" class="Symbol">-&gt;</a> <a id="3270" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3280" href="Semantics.html#3264" class="Bound">X</a> <a id="3282" class="Symbol">-&gt;</a> <a id="3285" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3295" class="Symbol">(</a><a id="3296" href="TraceSet.html#2054" class="Function">CoSet</a> <a id="3302" href="Semantics.html#3264" class="Bound">X</a><a id="3303" class="Symbol">)</a>
<a id="3305" href="Semantics.html#1730" class="Field">closed</a> <a id="3312" class="Symbol">(</a><a id="3313" href="Semantics.html#3247" class="Function">co-semantics</a> <a id="3326" href="Semantics.html#3326" class="Bound">sem</a><a id="3329" class="Symbol">)</a> <a id="3331" href="Semantics.html#3331" class="Bound">le</a> <a id="3334" href="Semantics.html#3334" class="Bound">coφ</a> <a id="3338" class="Symbol">=</a> <a id="3340" href="Semantics.html#1730" class="Field">closed</a> <a id="3347" href="Semantics.html#3326" class="Bound">sem</a> <a id="3351" class="Symbol">(</a><a id="3352" href="Trace.html#2798" class="Function">⊑-co-trace</a> <a id="3363" href="Semantics.html#3331" class="Bound">le</a><a id="3365" class="Symbol">)</a> <a id="3367" href="Semantics.html#3334" class="Bound">coφ</a>
<a id="3371" href="Semantics.html#1760" class="Field">coherent</a> <a id="3380" class="Symbol">(</a><a id="3381" href="Semantics.html#3247" class="Function">co-semantics</a> <a id="3394" href="Semantics.html#3394" class="Bound">sem</a><a id="3397" class="Symbol">)</a> <a id="3399" class="Symbol">{</a><a id="3400" href="Semantics.html#3400" class="Bound">φ</a><a id="3401" class="Symbol">}</a> <a id="3403" class="Symbol">{</a><a id="3404" href="Semantics.html#3404" class="Bound">ψ₁</a><a id="3406" class="Symbol">}</a> <a id="3408" class="Symbol">{</a><a id="3409" href="Semantics.html#3409" class="Bound">ψ₂</a><a id="3411" class="Symbol">}</a> <a id="3413" class="Symbol">{</a><a id="3414" href="Semantics.html#3414" class="Bound">x</a><a id="3415" class="Symbol">}</a> <a id="3417" class="Symbol">{</a><a id="3418" href="Semantics.html#3418" class="Bound">y</a><a id="3419" class="Symbol">}</a> <a id="3421" href="Semantics.html#3421" class="Bound">iφx</a> <a id="3425" href="Semantics.html#3425" class="Bound">oφx</a>
  <a id="3431" class="Keyword">rewrite</a> <a id="3439" href="Trace.html#1832" class="Function">co-trace-++</a> <a id="3451" href="Semantics.html#3400" class="Bound">φ</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="3456" href="Semantics.html#3414" class="Bound">x</a> <a id="3458" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3460" href="Semantics.html#3404" class="Bound">ψ₁</a><a id="3462" class="Symbol">)</a> <a id="3464" class="Symbol">|</a> <a id="3466" href="Trace.html#1832" class="Function">co-trace-++</a> <a id="3478" href="Semantics.html#3400" class="Bound">φ</a> <a id="3480" class="Symbol">(</a><a id="3481" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="3483" href="Semantics.html#3418" class="Bound">y</a> <a id="3485" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3487" href="Semantics.html#3409" class="Bound">ψ₂</a><a id="3489" class="Symbol">)</a> <a id="3491" class="Symbol">=</a>
  <a id="3495" href="Semantics.html#1760" class="Field">coherent</a> <a id="3504" href="Semantics.html#3394" class="Bound">sem</a> <a id="3508" class="Symbol">{</a><a id="3509" href="Trace.html#1586" class="Function">co-trace</a> <a id="3518" href="Semantics.html#3400" class="Bound">φ</a><a id="3519" class="Symbol">}</a> <a id="3521" class="Symbol">{</a><a id="3522" href="Trace.html#1586" class="Function">co-trace</a> <a id="3531" href="Semantics.html#3409" class="Bound">ψ₂</a><a id="3533" class="Symbol">}</a> <a id="3535" class="Symbol">{</a><a id="3536" href="Trace.html#1586" class="Function">co-trace</a> <a id="3545" href="Semantics.html#3404" class="Bound">ψ₁</a><a id="3547" class="Symbol">}</a> <a id="3549" class="Symbol">{</a><a id="3550" href="Semantics.html#3418" class="Bound">y</a><a id="3551" class="Symbol">}</a> <a id="3553" class="Symbol">{</a><a id="3554" href="Semantics.html#3414" class="Bound">x</a><a id="3555" class="Symbol">}</a> <a id="3557" href="Semantics.html#3425" class="Bound">oφx</a> <a id="3561" href="Semantics.html#3421" class="Bound">iφx</a>

<a id="non-empty-semantics-contains-[]"></a><a id="3566" href="Semantics.html#3566" class="Function">non-empty-semantics-contains-[]</a> <a id="3598" class="Symbol">:</a> <a id="3600" class="Symbol">∀{</a><a id="3602" href="Semantics.html#3602" class="Bound">X</a> <a id="3604" class="Symbol">:</a> <a id="3606" href="TraceSet.html#1638" class="Function">TraceSet</a><a id="3614" class="Symbol">}{</a><a id="3616" href="Semantics.html#3616" class="Bound">φ</a><a id="3617" class="Symbol">}</a> <a id="3619" class="Symbol">-&gt;</a> <a id="3622" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3632" href="Semantics.html#3602" class="Bound">X</a> <a id="3634" class="Symbol">-&gt;</a> <a id="3637" href="Semantics.html#3616" class="Bound">φ</a> <a id="3639" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3641" href="Semantics.html#3602" class="Bound">X</a> <a id="3643" class="Symbol">-&gt;</a> <a id="3646" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3649" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3651" href="Semantics.html#3602" class="Bound">X</a>
<a id="3653" href="Semantics.html#3566" class="Function">non-empty-semantics-contains-[]</a> <a id="3685" href="Semantics.html#3685" class="Bound">sem</a> <a id="3689" href="Semantics.html#3689" class="Bound">w</a> <a id="3691" class="Symbol">=</a> <a id="3693" href="Semantics.html#1730" class="Field">closed</a> <a id="3700" href="Semantics.html#3685" class="Bound">sem</a> <a id="3704" href="Trace.html#2311" class="InductiveConstructor">none</a> <a id="3709" href="Semantics.html#3689" class="Bound">w</a>

<a id="decode"></a><a id="3712" href="Semantics.html#3712" class="Function">decode</a> <a id="3719" class="Symbol">:</a> <a id="3721" class="Symbol">∀{</a><a id="3723" href="Semantics.html#3723" class="Bound">X</a><a id="3724" class="Symbol">}</a> <a id="3726" class="Symbol">-&gt;</a> <a id="3729" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3739" href="Semantics.html#3723" class="Bound">X</a> <a id="3741" class="Symbol">-&gt;</a> <a id="3744" href="SessionType.html#1576" class="Record">∞SessionType</a>
<a id="3757" href="SessionType.html#1642" class="Field">force</a> <a id="3763" class="Symbol">(</a><a id="3764" href="Semantics.html#3712" class="Function">decode</a> <a id="3771" href="Semantics.html#3771" class="Bound">sem</a><a id="3774" class="Symbol">)</a> <a id="3776" class="Keyword">with</a> <a id="3781" href="Semantics.html#2513" class="Function">kind?</a> <a id="3787" href="Semantics.html#3771" class="Bound">sem</a>
<a id="3791" class="Symbol">...</a> <a id="3795" class="Symbol">|</a> <a id="3797" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="3801" class="Symbol">_</a> <a id="3803" class="Symbol">=</a> <a id="3805" href="SessionType.html#1766" class="InductiveConstructor">nil</a>
<a id="3809" class="Symbol">...</a> <a id="3813" class="Symbol">|</a> <a id="3815" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="3819" class="Symbol">_</a> <a id="3821" class="Symbol">=</a> <a id="3823" href="SessionType.html#3210" class="Function">win</a>
<a id="3827" class="Symbol">...</a> <a id="3831" class="Symbol">|</a> <a id="3833" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="3837" class="Symbol">_</a> <a id="3839" class="Symbol">=</a> <a id="3841" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="3845" class="Symbol">λ</a> <a id="3847" href="Semantics.html#3847" class="Bound">x</a> <a id="3849" class="Symbol">-&gt;</a> <a id="3852" href="Semantics.html#3712" class="Function">decode</a> <a id="3859" class="Symbol">(</a><a id="3860" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="3877" class="Bound">sem</a> <a id="3881" class="Symbol">(</a><a id="3882" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="3884" href="Semantics.html#3847" class="Bound">x</a><a id="3885" class="Symbol">))</a>
<a id="3888" class="Symbol">...</a> <a id="3892" class="Symbol">|</a> <a id="3894" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="3898" class="Symbol">_</a> <a id="3900" class="Symbol">=</a> <a id="3902" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="3906" class="Symbol">λ</a> <a id="3908" href="Semantics.html#3908" class="Bound">x</a> <a id="3910" class="Symbol">-&gt;</a> <a id="3913" href="Semantics.html#3712" class="Function">decode</a> <a id="3920" class="Symbol">(</a><a id="3921" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="3938" class="Bound">sem</a> <a id="3942" class="Symbol">(</a><a id="3943" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="3945" href="Semantics.html#3908" class="Bound">x</a><a id="3946" class="Symbol">))</a>

<a id="decode-sub"></a><a id="3950" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="3961" class="Symbol">:</a> <a id="3963" class="Symbol">∀{</a><a id="3965" href="Semantics.html#3965" class="Bound">X</a><a id="3966" class="Symbol">}</a> <a id="3968" class="Symbol">(</a><a id="3969" href="Semantics.html#3969" class="Bound">sem</a> <a id="3973" class="Symbol">:</a> <a id="3975" href="Semantics.html#1681" class="Record">Semantics</a> <a id="3985" href="Semantics.html#3965" class="Bound">X</a><a id="3986" class="Symbol">)</a> <a id="3988" class="Symbol">-&gt;</a> <a id="3991" href="TraceSet.html#1688" class="Function Operator">⟦</a> <a id="3993" href="Semantics.html#3712" class="Function">decode</a> <a id="4000" href="Semantics.html#3969" class="Bound">sem</a> <a id="4004" class="Symbol">.</a><a id="4005" href="SessionType.html#1642" class="Field">force</a> <a id="4011" href="TraceSet.html#1688" class="Function Operator">⟧</a> <a id="4013" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="4015" href="Semantics.html#3965" class="Bound">X</a>
<a id="4017" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4028" href="Semantics.html#4028" class="Bound">sem</a> <a id="4032" href="Semantics.html#4032" class="Bound">tφ</a> <a id="4035" class="Keyword">with</a> <a id="4040" href="Semantics.html#2513" class="Function">kind?</a> <a id="4046" href="Semantics.html#4028" class="Bound">sem</a>
<a id="4050" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4061" class="Symbol">_</a> <a id="4063" class="Symbol">(_</a> <a id="4066" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4068" class="Symbol">()</a> <a id="4071" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4073" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4077" class="Symbol">)</a> <a id="4079" class="Symbol">|</a> <a id="4081" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="4085" class="Symbol">_</a>
<a id="4087" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4098" class="Symbol">_</a> <a id="4100" class="Symbol">(_</a> <a id="4103" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4105" class="Symbol">_</a> <a id="4107" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4109" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4114" class="Symbol">()</a> <a id="4117" class="Symbol">_)</a> <a id="4120" class="Symbol">|</a> <a id="4122" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="4126" class="Symbol">_</a>
<a id="4128" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4139" class="Symbol">_</a> <a id="4141" class="Symbol">(_</a> <a id="4144" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4146" class="Symbol">_</a> <a id="4148" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4150" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4154" class="Symbol">)</a> <a id="4156" class="Symbol">|</a> <a id="4158" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="4162" class="Symbol">(_</a> <a id="4165" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4167" href="Semantics.html#4167" class="Bound">sup</a><a id="4170" class="Symbol">)</a> <a id="4172" class="Symbol">=</a> <a id="4174" href="Semantics.html#4167" class="Bound">sup</a> <a id="4178" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4183" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4194" class="Symbol">_</a> <a id="4196" class="Symbol">(_</a> <a id="4199" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4201" class="Symbol">_</a> <a id="4203" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4205" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4210" class="Symbol">(</a><a id="4211" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="4215" class="Symbol">())</a> <a id="4219" class="Symbol">_)</a> <a id="4222" class="Symbol">|</a> <a id="4224" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="4228" class="Symbol">_</a>
<a id="4230" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4241" href="Semantics.html#4241" class="Bound">sem</a> <a id="4245" class="Symbol">(_</a> <a id="4248" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4250" class="Symbol">_</a> <a id="4252" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4254" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4258" class="Symbol">)</a> <a id="4260" class="Symbol">|</a> <a id="4262" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="4266" href="Semantics.html#4266" class="Bound">w</a> <a id="4268" class="Symbol">=</a> <a id="4270" href="Semantics.html#3566" class="Function">non-empty-semantics-contains-[]</a> <a id="4302" href="Semantics.html#4241" class="Bound">sem</a> <a id="4306" href="Semantics.html#4266" class="Bound">w</a>
<a id="4308" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4319" href="Semantics.html#4319" class="Bound">sem</a> <a id="4323" class="Symbol">(_</a> <a id="4326" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4328" href="Semantics.html#4328" class="Bound">def</a> <a id="4332" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4334" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4339" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="4343" href="Semantics.html#4343" class="Bound">tr</a><a id="4345" class="Symbol">)</a> <a id="4347" class="Symbol">|</a> <a id="4349" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="4353" href="Semantics.html#4353" class="Bound">w</a> <a id="4355" class="Symbol">=</a>
  <a id="4359" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4370" class="Symbol">(</a><a id="4371" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="4388" href="Semantics.html#4319" class="Bound">sem</a> <a id="4392" class="Symbol">(</a><a id="4393" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4395" class="Symbol">_))</a> <a id="4399" class="Symbol">(_</a> <a id="4402" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4404" href="Semantics.html#4328" class="Bound">def</a> <a id="4408" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4410" href="Semantics.html#4343" class="Bound">tr</a><a id="4412" class="Symbol">)</a>
<a id="4414" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4425" href="Semantics.html#4425" class="Bound">sem</a> <a id="4429" class="Symbol">(_</a> <a id="4432" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4434" class="Symbol">_</a> <a id="4436" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4438" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="4442" class="Symbol">)</a> <a id="4444" class="Symbol">|</a> <a id="4446" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="4450" href="Semantics.html#4450" class="Bound">w</a> <a id="4452" class="Symbol">=</a> <a id="4454" href="Semantics.html#3566" class="Function">non-empty-semantics-contains-[]</a> <a id="4486" href="Semantics.html#4425" class="Bound">sem</a> <a id="4490" href="Semantics.html#4450" class="Bound">w</a>
<a id="4492" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4503" href="Semantics.html#4503" class="Bound">sem</a> <a id="4507" class="Symbol">(_</a> <a id="4510" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4512" href="Semantics.html#4512" class="Bound">def</a> <a id="4516" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4518" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4523" class="Symbol">(</a><a id="4524" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="4528" href="Semantics.html#4528" class="Bound">!x</a><a id="4530" class="Symbol">)</a> <a id="4532" href="Semantics.html#4532" class="Bound">tr</a><a id="4534" class="Symbol">)</a> <a id="4536" class="Symbol">|</a> <a id="4538" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="4542" href="Semantics.html#4542" class="Bound">w</a> <a id="4544" class="Symbol">=</a>
  <a id="4548" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="4559" class="Symbol">(</a><a id="4560" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="4577" href="Semantics.html#4503" class="Bound">sem</a> <a id="4581" class="Symbol">(</a><a id="4582" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="4584" class="Symbol">_))</a> <a id="4588" class="Symbol">(_</a> <a id="4591" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4593" href="Semantics.html#4512" class="Bound">def</a> <a id="4597" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4599" href="Semantics.html#4532" class="Bound">tr</a><a id="4601" class="Symbol">)</a>

<a id="decode-sup"></a><a id="4604" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="4615" class="Symbol">:</a> <a id="4617" class="Symbol">∀{</a><a id="4619" href="Semantics.html#4619" class="Bound">X</a><a id="4620" class="Symbol">}</a> <a id="4622" class="Symbol">(</a><a id="4623" href="Semantics.html#4623" class="Bound">sem</a> <a id="4627" class="Symbol">:</a> <a id="4629" href="Semantics.html#1681" class="Record">Semantics</a> <a id="4639" href="Semantics.html#4619" class="Bound">X</a><a id="4640" class="Symbol">)</a> <a id="4642" class="Symbol">-&gt;</a> <a id="4645" href="Semantics.html#4619" class="Bound">X</a> <a id="4647" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="4649" href="TraceSet.html#1688" class="Function Operator">⟦</a> <a id="4651" href="Semantics.html#3712" class="Function">decode</a> <a id="4658" href="Semantics.html#4623" class="Bound">sem</a> <a id="4662" class="Symbol">.</a><a id="4663" href="SessionType.html#1642" class="Field">force</a> <a id="4669" href="TraceSet.html#1688" class="Function Operator">⟧</a>
<a id="4671" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="4682" href="Semantics.html#4682" class="Bound">sem</a> <a id="4686" class="Symbol">{</a><a id="4687" href="Semantics.html#4687" class="Bound">φ</a><a id="4688" class="Symbol">}</a> <a id="4690" href="Semantics.html#4690" class="Bound">hasφ</a> <a id="4695" class="Keyword">with</a> <a id="4700" href="Semantics.html#2513" class="Function">kind?</a> <a id="4706" href="Semantics.html#4682" class="Bound">sem</a>
<a id="4710" class="Symbol">...</a> <a id="4714" class="Symbol">|</a> <a id="4716" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="4720" href="Semantics.html#4720" class="Bound">sub</a> <a id="4724" class="Symbol">=</a> <a id="4726" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="4733" class="Symbol">(</a><a id="4734" href="Semantics.html#4720" class="Bound">sub</a> <a id="4738" class="Bound">hasφ</a><a id="4742" class="Symbol">)</a>
<a id="4744" class="Symbol">...</a> <a id="4748" class="Symbol">|</a> <a id="4750" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="4754" class="Symbol">(</a><a id="4755" href="Semantics.html#4755" class="Bound">sub</a> <a id="4759" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4761" class="Symbol">_)</a> <a id="4764" class="Keyword">rewrite</a> <a id="4772" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="4776" class="Symbol">(</a><a id="4777" href="Semantics.html#4755" class="Bound">sub</a> <a id="4781" class="Bound">hasφ</a><a id="4785" class="Symbol">)</a> <a id="4787" class="Symbol">=</a> <a id="4789" class="Symbol">_</a> <a id="4791" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4793" href="SessionType.html#1943" class="InductiveConstructor">out</a> <a id="4797" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4799" href="Transitions.html#1802" class="InductiveConstructor">refl</a>
<a id="4804" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="4815" href="Semantics.html#4815" class="Bound">sem</a> <a id="4819" class="Symbol">{</a><a id="4820" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4822" class="Symbol">}</a> <a id="4824" href="Semantics.html#4824" class="Bound">hasφ</a> <a id="4829" class="Symbol">|</a> <a id="4831" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="4835" class="Symbol">_</a> <a id="4837" class="Symbol">=</a> <a id="4839" class="Symbol">_</a> <a id="4841" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4843" href="SessionType.html#1911" class="InductiveConstructor">inp</a> <a id="4847" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4849" href="Transitions.html#1802" class="InductiveConstructor">refl</a>
<a id="4854" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="4865" href="Semantics.html#4865" class="Bound">sem</a> <a id="4869" class="Symbol">{</a><a id="4870" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4872" class="Symbol">_</a> <a id="4874" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4876" class="Symbol">_}</a> <a id="4879" href="Semantics.html#4879" class="Bound">hasφ</a> <a id="4884" class="Symbol">|</a> <a id="4886" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="4890" class="Symbol">_</a> <a id="4892" class="Symbol">=</a>
  <a id="4896" class="Keyword">let</a> <a id="4900" class="Symbol">_</a> <a id="4902" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4904" href="Semantics.html#4904" class="Bound">def</a> <a id="4908" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4910" href="Semantics.html#4910" class="Bound">tr</a> <a id="4913" class="Symbol">=</a> <a id="4915" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="4926" class="Symbol">(</a><a id="4927" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="4944" href="Semantics.html#4865" class="Bound">sem</a> <a id="4948" class="Symbol">(</a><a id="4949" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4951" class="Symbol">_))</a> <a id="4955" href="Semantics.html#4879" class="Bound">hasφ</a> <a id="4960" class="Keyword">in</a>
  <a id="4965" class="Symbol">_</a> <a id="4967" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4969" href="Semantics.html#4904" class="Bound">def</a> <a id="4973" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4975" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="4980" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="4984" href="Semantics.html#4910" class="Bound">tr</a>
<a id="4987" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="4998" href="Semantics.html#4998" class="Bound">sem</a> <a id="5002" class="Symbol">{</a><a id="5003" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5005" class="Symbol">_</a> <a id="5007" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5009" class="Symbol">_}</a> <a id="5012" href="Semantics.html#5012" class="Bound">hasφ</a> <a id="5017" class="Symbol">|</a> <a id="5019" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="5023" href="Semantics.html#5023" class="Bound">w</a> <a id="5025" class="Symbol">=</a> <a id="5027" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5034" class="Symbol">(</a><a id="5035" href="Semantics.html#1760" class="Field">coherent</a> <a id="5044" href="Semantics.html#4998" class="Bound">sem</a> <a id="5048" class="Symbol">{</a><a id="5049" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5051" class="Symbol">}</a> <a id="5053" href="Semantics.html#5023" class="Bound">w</a> <a id="5055" href="Semantics.html#5012" class="Bound">hasφ</a><a id="5059" class="Symbol">)</a>
<a id="5061" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="5072" href="Semantics.html#5072" class="Bound">sem</a> <a id="5076" class="Symbol">{</a><a id="5077" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5079" class="Symbol">}</a> <a id="5081" href="Semantics.html#5081" class="Bound">hasφ</a> <a id="5086" class="Symbol">|</a> <a id="5088" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="5092" class="Symbol">_</a> <a id="5094" class="Symbol">=</a> <a id="5096" class="Symbol">_</a> <a id="5098" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5100" href="SessionType.html#1943" class="InductiveConstructor">out</a> <a id="5104" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5106" href="Transitions.html#1802" class="InductiveConstructor">refl</a>
<a id="5111" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="5122" href="Semantics.html#5122" class="Bound">sem</a> <a id="5126" class="Symbol">{</a><a id="5127" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="5129" class="Symbol">_</a> <a id="5131" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5133" class="Symbol">_}</a> <a id="5136" href="Semantics.html#5136" class="Bound">hasφ</a> <a id="5141" class="Symbol">|</a> <a id="5143" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="5147" href="Semantics.html#5147" class="Bound">w</a> <a id="5149" class="Symbol">=</a> <a id="5151" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5158" class="Symbol">(</a><a id="5159" href="Semantics.html#1760" class="Field">coherent</a> <a id="5168" href="Semantics.html#5122" class="Bound">sem</a> <a id="5172" class="Symbol">{</a><a id="5173" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5175" class="Symbol">}</a> <a id="5177" href="Semantics.html#5136" class="Bound">hasφ</a> <a id="5182" href="Semantics.html#5147" class="Bound">w</a><a id="5183" class="Symbol">)</a>
<a id="5185" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="5196" href="Semantics.html#5196" class="Bound">sem</a> <a id="5200" class="Symbol">{</a><a id="5201" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5203" class="Symbol">_</a> <a id="5205" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5207" class="Symbol">_}</a> <a id="5210" href="Semantics.html#5210" class="Bound">hasφ</a> <a id="5215" class="Symbol">|</a> <a id="5217" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="5221" class="Symbol">_</a> <a id="5223" class="Symbol">=</a>
  <a id="5227" class="Keyword">let</a> <a id="5231" class="Symbol">_</a> <a id="5233" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5235" href="Semantics.html#5235" class="Bound">def</a> <a id="5239" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5241" href="Semantics.html#5241" class="Bound">tr</a> <a id="5244" class="Symbol">=</a> <a id="5246" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="5257" class="Symbol">(</a><a id="5258" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="5275" href="Semantics.html#5196" class="Bound">sem</a> <a id="5279" class="Symbol">(</a><a id="5280" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5282" class="Symbol">_))</a> <a id="5286" href="Semantics.html#5210" class="Bound">hasφ</a> <a id="5291" class="Keyword">in</a>
  <a id="5296" class="Symbol">_</a> <a id="5298" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5300" href="Semantics.html#5235" class="Bound">def</a> <a id="5304" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5306" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5311" class="Symbol">(</a><a id="5312" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="5316" class="Symbol">(</a><a id="5317" href="Transitions.html#2700" class="Function">transitions+defined-&gt;defined</a> <a id="5346" href="Semantics.html#5241" class="Bound">tr</a> <a id="5349" href="Semantics.html#5235" class="Bound">def</a><a id="5352" class="Symbol">))</a> <a id="5355" href="Semantics.html#5241" class="Bound">tr</a>

<a id="decode+complete-&gt;win"></a><a id="5359" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5380" class="Symbol">:</a>
  <a id="5384" class="Symbol">∀{</a><a id="5386" href="Semantics.html#5386" class="Bound">X</a> <a id="5388" href="Semantics.html#5388" class="Bound">φ</a><a id="5389" class="Symbol">}</a>
  <a id="5393" class="Symbol">(</a><a id="5394" href="Semantics.html#5394" class="Bound">sem</a> <a id="5398" class="Symbol">:</a> <a id="5400" href="Semantics.html#1681" class="Record">Semantics</a> <a id="5410" href="Semantics.html#5386" class="Bound">X</a><a id="5411" class="Symbol">)</a>
  <a id="5415" class="Symbol">(</a><a id="5416" href="Semantics.html#5416" class="Bound">rφ</a> <a id="5419" class="Symbol">:</a> <a id="5421" href="Semantics.html#3712" class="Function">decode</a> <a id="5428" href="Semantics.html#5394" class="Bound">sem</a> <a id="5432" class="Symbol">.</a><a id="5433" href="SessionType.html#1642" class="Field">force</a> <a id="5439" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="5448" href="Semantics.html#5388" class="Bound">φ</a><a id="5449" class="Symbol">)</a> <a id="5451" class="Symbol">-&gt;</a>
  <a id="5456" href="Semantics.html#5388" class="Bound">φ</a> <a id="5458" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="5460" href="TraceSet.html#2790" class="Datatype">Complete</a> <a id="5469" href="Semantics.html#5386" class="Bound">X</a> <a id="5471" class="Symbol">-&gt;</a>
  <a id="5476" href="SessionType.html#2979" class="Datatype">Win</a> <a id="5480" class="Symbol">(</a><a id="5481" href="HasTrace.html#1664" class="Function">after</a> <a id="5487" href="Semantics.html#5416" class="Bound">rφ</a><a id="5489" class="Symbol">)</a>
<a id="5491" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5512" href="Semantics.html#5512" class="Bound">sem</a> <a id="5516" href="Semantics.html#5516" class="Bound">rφ</a> <a id="5519" href="Semantics.html#5519" class="Bound">comp</a> <a id="5524" class="Keyword">with</a> <a id="5529" href="Semantics.html#2513" class="Function">kind?</a> <a id="5535" href="Semantics.html#5512" class="Bound">sem</a>
<a id="5539" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5560" href="Semantics.html#5560" class="Bound">sem</a> <a id="5564" class="Symbol">(_</a> <a id="5567" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5569" class="Symbol">()</a> <a id="5572" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5574" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="5578" class="Symbol">)</a> <a id="5580" href="Semantics.html#5580" class="Bound">comp</a> <a id="5585" class="Symbol">|</a> <a id="5587" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="5591" href="Semantics.html#5591" class="Bound">sub</a>
<a id="5595" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5616" href="Semantics.html#5616" class="Bound">sem</a> <a id="5620" class="Symbol">(_</a> <a id="5623" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5625" class="Symbol">_</a> <a id="5627" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5629" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5634" class="Symbol">()</a> <a id="5637" class="Symbol">_)</a> <a id="5640" href="Semantics.html#5640" class="Bound">comp</a> <a id="5645" class="Symbol">|</a> <a id="5647" href="Semantics.html#1851" class="InductiveConstructor">emp</a> <a id="5651" href="Semantics.html#5651" class="Bound">sub</a>
<a id="5655" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5676" href="Semantics.html#5676" class="Bound">sem</a> <a id="5680" class="Symbol">(_</a> <a id="5683" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5685" class="Symbol">_</a> <a id="5687" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5689" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="5693" class="Symbol">)</a> <a id="5695" href="Semantics.html#5695" class="Bound">comp</a> <a id="5700" class="Symbol">|</a> <a id="5702" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="5706" class="Symbol">_</a> <a id="5708" class="Symbol">=</a> <a id="5710" href="SessionType.html#3268" class="Function">Win-win</a>
<a id="5718" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5739" href="Semantics.html#5739" class="Bound">sem</a> <a id="5743" class="Symbol">(_</a> <a id="5746" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5748" class="Symbol">_</a> <a id="5750" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5752" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5757" class="Symbol">(</a><a id="5758" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="5762" class="Symbol">())</a> <a id="5766" class="Symbol">_)</a> <a id="5769" href="Semantics.html#5769" class="Bound">comp</a> <a id="5774" class="Symbol">|</a> <a id="5776" href="Semantics.html#1902" class="InductiveConstructor">eps</a> <a id="5780" class="Symbol">_</a>
<a id="5782" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5803" href="Semantics.html#5803" class="Bound">sem</a> <a id="5807" class="Symbol">(_</a> <a id="5810" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5812" href="Semantics.html#5812" class="Bound">def</a> <a id="5816" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5818" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="5822" class="Symbol">)</a> <a id="5824" class="Symbol">(</a><a id="5825" href="TraceSet.html#2834" class="InductiveConstructor">complete</a> <a id="5834" class="Symbol">_</a> <a id="5836" href="Semantics.html#5836" class="Bound">F</a><a id="5837" class="Symbol">)</a> <a id="5839" class="Symbol">|</a> <a id="5841" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="5845" href="Semantics.html#5845" class="Bound">w</a> <a id="5847" class="Keyword">with</a> <a id="5852" href="Semantics.html#5836" class="Bound">F</a> <a id="5854" href="Trace.html#2311" class="InductiveConstructor">none</a> <a id="5859" href="Semantics.html#5845" class="Bound">w</a>
<a id="5861" class="Symbol">...</a> <a id="5865" class="Symbol">|</a> <a id="5867" class="Symbol">()</a>
<a id="5870" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5891" href="Semantics.html#5891" class="Bound">sem</a> <a id="5895" class="Symbol">(_</a> <a id="5898" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5900" href="Semantics.html#5900" class="Bound">def</a> <a id="5904" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5906" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="5911" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="5915" href="Semantics.html#5915" class="Bound">tr</a><a id="5917" class="Symbol">)</a> <a id="5919" href="Semantics.html#5919" class="Bound">comp</a> <a id="5924" class="Symbol">|</a> <a id="5926" href="Semantics.html#1952" class="InductiveConstructor">inp</a> <a id="5930" class="Symbol">_</a> <a id="5932" class="Symbol">=</a>
  <a id="5936" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="5957" class="Symbol">(</a><a id="5958" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="5975" href="Semantics.html#5891" class="Bound">sem</a> <a id="5979" class="Symbol">(</a><a id="5980" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="5982" class="Symbol">_))</a> <a id="5986" class="Symbol">(_</a> <a id="5989" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5991" href="Semantics.html#5900" class="Bound">def</a> <a id="5995" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5997" href="Semantics.html#5915" class="Bound">tr</a><a id="5999" class="Symbol">)</a> <a id="6001" class="Symbol">(</a><a id="6002" href="TraceSet.html#2992" class="Function">derive-complete</a> <a id="6018" href="Semantics.html#5919" class="Bound">comp</a><a id="6022" class="Symbol">)</a>
<a id="6024" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="6045" href="Semantics.html#6045" class="Bound">sem</a> <a id="6049" class="Symbol">(_</a> <a id="6052" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6054" href="Semantics.html#6054" class="Bound">def</a> <a id="6058" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6060" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="6064" class="Symbol">)</a> <a id="6066" class="Symbol">(</a><a id="6067" href="TraceSet.html#2834" class="InductiveConstructor">complete</a> <a id="6076" class="Symbol">_</a> <a id="6078" href="Semantics.html#6078" class="Bound">F</a><a id="6079" class="Symbol">)</a> <a id="6081" class="Symbol">|</a> <a id="6083" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="6087" href="Semantics.html#6087" class="Bound">w</a> <a id="6089" class="Keyword">with</a> <a id="6094" href="Semantics.html#6078" class="Bound">F</a> <a id="6096" href="Trace.html#2311" class="InductiveConstructor">none</a> <a id="6101" href="Semantics.html#6087" class="Bound">w</a>
<a id="6103" class="Symbol">...</a> <a id="6107" class="Symbol">|</a> <a id="6109" class="Symbol">()</a>
<a id="6112" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="6133" href="Semantics.html#6133" class="Bound">sem</a> <a id="6137" class="Symbol">(_</a> <a id="6140" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6142" href="Semantics.html#6142" class="Bound">def</a> <a id="6146" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6148" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="6153" class="Symbol">(</a><a id="6154" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="6158" href="Semantics.html#6158" class="Bound">!x</a><a id="6160" class="Symbol">)</a> <a id="6162" href="Semantics.html#6162" class="Bound">tr</a><a id="6164" class="Symbol">)</a> <a id="6166" href="Semantics.html#6166" class="Bound">comp</a> <a id="6171" class="Symbol">|</a> <a id="6173" href="Semantics.html#2003" class="InductiveConstructor">out</a> <a id="6177" href="Semantics.html#6177" class="Bound">w</a> <a id="6179" class="Symbol">=</a>
  <a id="6183" href="Semantics.html#5359" class="Function">decode+complete-&gt;win</a> <a id="6204" class="Symbol">(</a><a id="6205" href="Semantics.html#2999" class="Function">derive-semantics</a> <a id="6222" href="Semantics.html#6133" class="Bound">sem</a> <a id="6226" class="Symbol">(</a><a id="6227" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="6229" class="Symbol">_))</a> <a id="6233" class="Symbol">(_</a> <a id="6236" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6238" href="Semantics.html#6142" class="Bound">def</a> <a id="6242" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6244" href="Semantics.html#6162" class="Bound">tr</a><a id="6246" class="Symbol">)</a> <a id="6248" class="Symbol">(</a><a id="6249" href="TraceSet.html#2992" class="Function">derive-complete</a> <a id="6265" href="Semantics.html#6166" class="Bound">comp</a><a id="6269" class="Symbol">)</a>

<a id="win-&gt;complete"></a><a id="6272" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6286" class="Symbol">:</a>
  <a id="6290" class="Symbol">∀{</a><a id="6292" href="Semantics.html#6292" class="Bound">T</a> <a id="6294" href="Semantics.html#6294" class="Bound">φ</a> <a id="6296" href="Semantics.html#6296" class="Bound">ψ</a><a id="6297" class="Symbol">}</a> <a id="6299" class="Symbol">-&gt;</a>
  <a id="6304" href="Semantics.html#6294" class="Bound">φ</a> <a id="6306" href="Trace.html#2275" class="Datatype Operator">⊑</a> <a id="6308" href="Semantics.html#6296" class="Bound">ψ</a> <a id="6310" class="Symbol">-&gt;</a>
  <a id="6315" class="Symbol">(</a><a id="6316" href="Semantics.html#6316" class="Bound">tφ</a> <a id="6319" class="Symbol">:</a> <a id="6321" href="Semantics.html#6292" class="Bound">T</a> <a id="6323" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="6332" href="Semantics.html#6294" class="Bound">φ</a><a id="6333" class="Symbol">)</a> <a id="6335" class="Symbol">-&gt;</a>
  <a id="6340" href="Semantics.html#6292" class="Bound">T</a> <a id="6342" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="6351" href="Semantics.html#6296" class="Bound">ψ</a> <a id="6353" class="Symbol">-&gt;</a>
  <a id="6358" href="SessionType.html#2979" class="Datatype">Win</a> <a id="6362" class="Symbol">(</a><a id="6363" href="HasTrace.html#1664" class="Function">after</a> <a id="6369" href="Semantics.html#6316" class="Bound">tφ</a><a id="6371" class="Symbol">)</a> <a id="6373" class="Symbol">-&gt;</a>
  <a id="6378" href="Semantics.html#6294" class="Bound">φ</a> <a id="6380" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6382" href="Semantics.html#6296" class="Bound">ψ</a>
<a id="6384" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6398" href="Semantics.html#6398" class="Bound">le</a> <a id="6401" class="Symbol">(_</a> <a id="6404" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6406" href="Semantics.html#6406" class="Bound">tdef</a> <a id="6411" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6413" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="6417" class="Symbol">)</a> <a id="6419" class="Symbol">(_</a> <a id="6422" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6424" href="Semantics.html#6424" class="Bound">sdef</a> <a id="6429" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6431" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="6435" class="Symbol">)</a> <a id="6437" href="Semantics.html#6437" class="Bound">w</a> <a id="6439" class="Symbol">=</a> <a id="6441" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="6446" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6460" href="Semantics.html#6460" class="Bound">le</a> <a id="6463" class="Symbol">(_</a> <a id="6466" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6468" href="Semantics.html#6468" class="Bound">tdef</a> <a id="6473" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6475" href="Transitions.html#1802" class="InductiveConstructor">refl</a><a id="6479" class="Symbol">)</a> <a id="6481" class="Symbol">(_</a> <a id="6484" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6486" href="Semantics.html#6486" class="Bound">sdef</a> <a id="6491" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6493" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="6498" class="Symbol">(</a><a id="6499" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="6503" href="Semantics.html#6503" class="Bound">!x</a><a id="6505" class="Symbol">)</a> <a id="6507" href="Semantics.html#6507" class="Bound">sr</a><a id="6509" class="Symbol">)</a> <a id="6511" class="Symbol">(</a><a id="6512" href="SessionType.html#3012" class="InductiveConstructor">out</a> <a id="6516" href="Semantics.html#6516" class="Bound">U</a><a id="6517" class="Symbol">)</a> <a id="6519" class="Symbol">=</a> <a id="6521" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="6528" class="Symbol">(</a><a id="6529" href="Semantics.html#6516" class="Bound">U</a> <a id="6531" class="Symbol">_</a> <a id="6533" href="Semantics.html#6503" class="Bound">!x</a><a id="6535" class="Symbol">)</a>
<a id="6537" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6551" class="Symbol">(</a><a id="6552" href="Trace.html#2339" class="InductiveConstructor">some</a> <a id="6557" href="Semantics.html#6557" class="Bound">le</a><a id="6559" class="Symbol">)</a> <a id="6561" class="Symbol">(_</a> <a id="6564" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6566" href="Semantics.html#6566" class="Bound">tdef</a> <a id="6571" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6573" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="6578" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="6582" href="Semantics.html#6582" class="Bound">tr</a><a id="6584" class="Symbol">)</a> <a id="6586" class="Symbol">(_</a> <a id="6589" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6591" href="Semantics.html#6591" class="Bound">sdef</a> <a id="6596" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6598" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="6603" href="Transitions.html#1588" class="InductiveConstructor">inp</a> <a id="6607" href="Semantics.html#6607" class="Bound">sr</a><a id="6609" class="Symbol">)</a> <a id="6611" href="Semantics.html#6611" class="Bound">w</a>
  <a id="6615" class="Keyword">rewrite</a> <a id="6623" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6637" href="Semantics.html#6557" class="Bound">le</a> <a id="6640" class="Symbol">(_</a> <a id="6643" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6645" href="Semantics.html#6566" class="Bound">tdef</a> <a id="6650" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6652" href="Semantics.html#6582" class="Bound">tr</a><a id="6654" class="Symbol">)</a> <a id="6656" class="Symbol">(_</a> <a id="6659" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6661" href="Semantics.html#6591" class="Bound">sdef</a> <a id="6666" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6668" href="Semantics.html#6607" class="Bound">sr</a><a id="6670" class="Symbol">)</a> <a id="6672" href="Semantics.html#6611" class="Bound">w</a> <a id="6674" class="Symbol">=</a> <a id="6676" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="6681" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6695" class="Symbol">(</a><a id="6696" href="Trace.html#2339" class="InductiveConstructor">some</a> <a id="6701" href="Semantics.html#6701" class="Bound">le</a><a id="6703" class="Symbol">)</a> <a id="6705" class="Symbol">(_</a> <a id="6708" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6710" href="Semantics.html#6710" class="Bound">tdef</a> <a id="6715" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6717" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="6722" class="Symbol">(</a><a id="6723" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="6727" class="Symbol">_)</a> <a id="6730" href="Semantics.html#6730" class="Bound">tr</a><a id="6732" class="Symbol">)</a> <a id="6734" class="Symbol">(_</a> <a id="6737" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6739" href="Semantics.html#6739" class="Bound">sdef</a> <a id="6744" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6746" href="Transitions.html#1838" class="InductiveConstructor">step</a> <a id="6751" class="Symbol">(</a><a id="6752" href="Transitions.html#1660" class="InductiveConstructor">out</a> <a id="6756" class="Symbol">_)</a> <a id="6759" href="Semantics.html#6759" class="Bound">sr</a><a id="6761" class="Symbol">)</a> <a id="6763" href="Semantics.html#6763" class="Bound">w</a>
  <a id="6767" class="Keyword">rewrite</a> <a id="6775" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="6789" href="Semantics.html#6701" class="Bound">le</a> <a id="6792" class="Symbol">(_</a> <a id="6795" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6797" href="Semantics.html#6710" class="Bound">tdef</a> <a id="6802" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6804" href="Semantics.html#6730" class="Bound">tr</a><a id="6806" class="Symbol">)</a> <a id="6808" class="Symbol">(_</a> <a id="6811" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6813" href="Semantics.html#6739" class="Bound">sdef</a> <a id="6818" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6820" href="Semantics.html#6759" class="Bound">sr</a><a id="6822" class="Symbol">)</a> <a id="6824" href="Semantics.html#6763" class="Bound">w</a> <a id="6826" class="Symbol">=</a> <a id="6828" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="decode+win-&gt;complete"></a><a id="6834" href="Semantics.html#6834" class="Function">decode+win-&gt;complete</a> <a id="6855" class="Symbol">:</a>
  <a id="6859" class="Symbol">∀{</a><a id="6861" href="Semantics.html#6861" class="Bound">X</a> <a id="6863" href="Semantics.html#6863" class="Bound">φ</a><a id="6864" class="Symbol">}</a>
  <a id="6868" class="Symbol">(</a><a id="6869" href="Semantics.html#6869" class="Bound">sem</a> <a id="6873" class="Symbol">:</a> <a id="6875" href="Semantics.html#1681" class="Record">Semantics</a> <a id="6885" href="Semantics.html#6861" class="Bound">X</a><a id="6886" class="Symbol">)</a>
  <a id="6890" class="Symbol">(</a><a id="6891" href="Semantics.html#6891" class="Bound">rφ</a> <a id="6894" class="Symbol">:</a> <a id="6896" href="Semantics.html#3712" class="Function">decode</a> <a id="6903" href="Semantics.html#6869" class="Bound">sem</a> <a id="6907" class="Symbol">.</a><a id="6908" href="SessionType.html#1642" class="Field">force</a> <a id="6914" href="HasTrace.html#1566" class="Function Operator">HasTrace</a> <a id="6923" href="Semantics.html#6863" class="Bound">φ</a><a id="6924" class="Symbol">)</a> <a id="6926" class="Symbol">-&gt;</a>
  <a id="6931" href="SessionType.html#2979" class="Datatype">Win</a> <a id="6935" class="Symbol">(</a><a id="6936" href="HasTrace.html#1664" class="Function">after</a> <a id="6942" href="Semantics.html#6891" class="Bound">rφ</a><a id="6944" class="Symbol">)</a> <a id="6946" class="Symbol">-&gt;</a>
  <a id="6951" href="Semantics.html#6863" class="Bound">φ</a> <a id="6953" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="6955" href="TraceSet.html#2790" class="Datatype">Complete</a> <a id="6964" href="Semantics.html#6861" class="Bound">X</a>
<a id="6966" href="Semantics.html#6834" class="Function">decode+win-&gt;complete</a> <a id="6987" class="Symbol">{</a><a id="6988" href="Semantics.html#6988" class="Bound">X</a><a id="6989" class="Symbol">}</a> <a id="6991" class="Symbol">{</a><a id="6992" href="Semantics.html#6992" class="Bound">φ</a><a id="6993" class="Symbol">}</a> <a id="6995" href="Semantics.html#6995" class="Bound">sem</a> <a id="6999" href="Semantics.html#6999" class="Bound">rφ</a> <a id="7002" href="Semantics.html#7002" class="Bound">w</a> <a id="7004" class="Symbol">=</a>
  <a id="7008" href="TraceSet.html#2834" class="InductiveConstructor">complete</a> <a id="7017" class="Symbol">(</a><a id="7018" href="Semantics.html#3950" class="Function">decode-sub</a> <a id="7029" href="Semantics.html#6995" class="Bound">sem</a> <a id="7033" href="Semantics.html#6999" class="Bound">rφ</a><a id="7035" class="Symbol">)</a> <a id="7037" class="Symbol">λ</a> <a id="7039" href="Semantics.html#7039" class="Bound">le</a> <a id="7042" href="Semantics.html#7042" class="Bound">xψ</a> <a id="7045" class="Symbol">-&gt;</a> <a id="7048" class="Keyword">let</a> <a id="7052" href="Semantics.html#7052" class="Bound">rψ</a> <a id="7055" class="Symbol">=</a> <a id="7057" href="Semantics.html#4604" class="Function">decode-sup</a> <a id="7068" href="Semantics.html#6995" class="Bound">sem</a> <a id="7072" href="Semantics.html#7042" class="Bound">xψ</a> <a id="7075" class="Keyword">in</a>
                                          <a id="7120" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7124" class="Symbol">(</a><a id="7125" href="Semantics.html#6272" class="Function">win-&gt;complete</a> <a id="7139" href="Semantics.html#7039" class="Bound">le</a> <a id="7142" href="Semantics.html#6999" class="Bound">rφ</a> <a id="7145" href="Semantics.html#7052" class="Bound">rψ</a> <a id="7148" href="Semantics.html#7002" class="Bound">w</a><a id="7149" class="Symbol">)</a>
</pre></body></html>