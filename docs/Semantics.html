<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Semantics</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Symbol">{-#</a> <a id="1153" class="Keyword">OPTIONS</a> <a id="1161" class="Pragma">--guardedness</a> <a id="1175" class="Symbol">#-}</a>

<a id="1180" class="Keyword">import</a> <a id="1187" href="Level.html" class="Module">Level</a>

<a id="1194" class="Keyword">open</a> <a id="1199" class="Keyword">import</a> <a id="1206" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="1217" class="Keyword">open</a> <a id="1222" class="Keyword">import</a> <a id="1229" href="Data.Product.html" class="Module">Data.Product</a>
<a id="1242" class="Keyword">open</a> <a id="1247" class="Keyword">import</a> <a id="1254" href="Data.List.html" class="Module">Data.List</a> <a id="1264" class="Keyword">using</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1274" class="Symbol">;</a> <a id="1276" href="Data.List.Base.html#10383" class="InductiveConstructor">[]</a><a id="1278" class="Symbol">;</a> <a id="1280" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="1284" class="Symbol">)</a>
<a id="1286" class="Keyword">open</a> <a id="1291" class="Keyword">import</a> <a id="1298" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="1319" class="Keyword">using</a> <a id="1325" class="Symbol">(</a><a id="1326" href="Data.List.Properties.html#2291" class="Function">∷-injectiveʳ</a><a id="1338" class="Symbol">)</a>

<a id="1341" class="Keyword">open</a> <a id="1346" class="Keyword">import</a> <a id="1353" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1370" class="Keyword">open</a> <a id="1375" class="Keyword">import</a> <a id="1382" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="1397" class="Keyword">open</a> <a id="1402" class="Keyword">import</a> <a id="1409" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1447" class="Keyword">using</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1457" class="Symbol">;</a> <a id="1459" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1463" class="Symbol">;</a> <a id="1465" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="1468" class="Symbol">;</a> <a id="1470" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="1475" class="Symbol">)</a>

<a id="1478" class="Keyword">open</a> <a id="1483" class="Keyword">import</a> <a id="1490" href="Common.html" class="Module">Common</a>

<a id="1498" class="Keyword">module</a> <a id="1505" href="Semantics.html" class="Module">Semantics</a> <a id="1515" class="Symbol">{</a><a id="1516" href="Semantics.html#1516" class="Bound">ℙ</a> <a id="1518" class="Symbol">:</a> <a id="1520" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1523" class="Symbol">}</a> <a id="1525" class="Symbol">(</a><a id="1526" href="Semantics.html#1526" class="Bound">message</a> <a id="1534" class="Symbol">:</a> <a id="1536" href="Common.html#1500" class="Record">Message</a> <a id="1544" href="Semantics.html#1516" class="Bound">ℙ</a><a id="1545" class="Symbol">)</a>
  <a id="1549" class="Keyword">where</a>

<a id="1556" class="Keyword">open</a> <a id="1561" class="Keyword">import</a> <a id="1568" href="Trace.html" class="Module">Trace</a> <a id="1574" href="Semantics.html#1526" class="Bound">message</a>
<a id="1582" class="Keyword">open</a> <a id="1587" class="Keyword">import</a> <a id="1594" href="HasTrace.html" class="Module">HasTrace</a> <a id="1603" href="Semantics.html#1526" class="Bound">message</a>
<a id="1611" class="Keyword">open</a> <a id="1616" class="Keyword">import</a> <a id="1623" href="TraceSet.html" class="Module">TraceSet</a> <a id="1632" href="Semantics.html#1526" class="Bound">message</a>
<a id="1640" class="Keyword">open</a> <a id="1645" class="Keyword">import</a> <a id="1652" href="SessionType.html" class="Module">SessionType</a> <a id="1664" href="Semantics.html#1526" class="Bound">message</a>
<a id="1672" class="Keyword">open</a> <a id="1677" class="Keyword">import</a> <a id="1684" href="Transitions.html" class="Module">Transitions</a> <a id="1696" href="Semantics.html#1526" class="Bound">message</a>

<a id="1705" class="Keyword">record</a> <a id="Semantics"></a><a id="1712" href="Semantics.html#1712" class="Record">Semantics</a> <a id="1722" class="Symbol">(</a><a id="1723" href="Semantics.html#1723" class="Bound">X</a> <a id="1725" class="Symbol">:</a> <a id="1727" href="TraceSet.html#1669" class="Function">TraceSet</a><a id="1735" class="Symbol">)</a> <a id="1737" class="Symbol">:</a> <a id="1739" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1743" class="Keyword">where</a>
  <a id="1751" class="Keyword">field</a>
    <a id="Semantics.closed"></a><a id="1761" href="Semantics.html#1761" class="Field">closed</a>   <a id="1770" class="Symbol">:</a> <a id="1772" href="TraceSet.html#1826" class="Function">PrefixClosed</a> <a id="1785" href="Semantics.html#1723" class="Bound">X</a>
    <a id="Semantics.coherent"></a><a id="1791" href="Semantics.html#1791" class="Field">coherent</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="TraceSet.html#1905" class="Function">Coherent</a> <a id="1811" href="Semantics.html#1723" class="Bound">X</a>
<a id="1813" class="Keyword">open</a> <a id="1818" href="Semantics.html#1712" class="Module">Semantics</a> <a id="1828" class="Keyword">public</a>

<a id="1836" class="Keyword">data</a> <a id="Classification"></a><a id="1841" href="Semantics.html#1841" class="Datatype">Classification</a> <a id="1856" class="Symbol">:</a> <a id="1858" href="TraceSet.html#1669" class="Function">TraceSet</a> <a id="1867" class="Symbol">-&gt;</a> <a id="1870" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1874" class="Keyword">where</a>
  <a id="Classification.emp"></a><a id="1882" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="1886" class="Symbol">:</a> <a id="1888" class="Symbol">∀{</a><a id="1890" href="Semantics.html#1890" class="Bound">X</a><a id="1891" class="Symbol">}</a>   <a id="1895" class="Symbol">-&gt;</a> <a id="1898" href="Semantics.html#1890" class="Bound">X</a> <a id="1900" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="1902" href="Relation.Unary.html#1285" class="Function">∅</a>        <a id="1911" class="Symbol">-&gt;</a> <a id="1914" href="Semantics.html#1841" class="Datatype">Classification</a> <a id="1929" href="Semantics.html#1890" class="Bound">X</a>
  <a id="Classification.eps"></a><a id="1933" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="1937" class="Symbol">:</a> <a id="1939" class="Symbol">∀{</a><a id="1941" href="Semantics.html#1941" class="Bound">X</a><a id="1942" class="Symbol">}</a>   <a id="1946" class="Symbol">-&gt;</a> <a id="1949" href="Semantics.html#1941" class="Bound">X</a> <a id="1951" href="TraceSet.html#1767" class="Function Operator">⊆⊇</a> <a id="1954" href="Relation.Unary.html#1335" class="Function Operator">｛</a> <a id="1956" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1959" href="Relation.Unary.html#1335" class="Function Operator">｝</a> <a id="1961" class="Symbol">-&gt;</a> <a id="1964" href="Semantics.html#1841" class="Datatype">Classification</a> <a id="1979" href="Semantics.html#1941" class="Bound">X</a>
  <a id="Classification.inp"></a><a id="1983" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="1987" class="Symbol">:</a> <a id="1989" class="Symbol">∀{</a><a id="1991" href="Semantics.html#1991" class="Bound">X</a> <a id="1993" href="Semantics.html#1993" class="Bound">x</a><a id="1994" class="Symbol">}</a> <a id="1996" class="Symbol">-&gt;</a> <a id="1999" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2001" href="Semantics.html#1993" class="Bound">x</a> <a id="2003" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2005" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2008" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2010" href="Semantics.html#1991" class="Bound">X</a> <a id="2012" class="Symbol">-&gt;</a> <a id="2015" href="Semantics.html#1841" class="Datatype">Classification</a> <a id="2030" href="Semantics.html#1991" class="Bound">X</a>
  <a id="Classification.out"></a><a id="2034" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="2038" class="Symbol">:</a> <a id="2040" class="Symbol">∀{</a><a id="2042" href="Semantics.html#2042" class="Bound">X</a> <a id="2044" href="Semantics.html#2044" class="Bound">x</a><a id="2045" class="Symbol">}</a> <a id="2047" class="Symbol">-&gt;</a> <a id="2050" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2052" href="Semantics.html#2044" class="Bound">x</a> <a id="2054" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2056" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2059" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2061" href="Semantics.html#2042" class="Bound">X</a> <a id="2063" class="Symbol">-&gt;</a> <a id="2066" href="Semantics.html#1841" class="Datatype">Classification</a> <a id="2081" href="Semantics.html#2042" class="Bound">X</a>

<a id="is-emp"></a><a id="2084" href="Semantics.html#2084" class="Function">is-emp</a> <a id="2091" class="Symbol">:</a> <a id="2093" class="Symbol">∀{</a><a id="2095" href="Semantics.html#2095" class="Bound">X</a><a id="2096" class="Symbol">}</a> <a id="2098" class="Symbol">-&gt;</a> <a id="2101" href="Semantics.html#1712" class="Record">Semantics</a> <a id="2111" href="Semantics.html#2095" class="Bound">X</a> <a id="2113" class="Symbol">-&gt;</a> <a id="2116" class="InductiveConstructor">[]</a> <a id="2119" href="Relation.Unary.html#1563" class="Function Operator">∉</a> <a id="2121" href="Semantics.html#2095" class="Bound">X</a> <a id="2123" class="Symbol">-&gt;</a> <a id="2126" href="Semantics.html#2095" class="Bound">X</a> <a id="2128" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="2130" href="Relation.Unary.html#1285" class="Function">∅</a>
<a id="2132" href="Semantics.html#2084" class="Function">is-emp</a> <a id="2139" href="Semantics.html#2139" class="Bound">sem</a> <a id="2143" href="Semantics.html#2143" class="Bound">nxε</a> <a id="2147" href="Semantics.html#2147" class="Bound">xφ</a> <a id="2150" class="Keyword">with</a> <a id="2155" href="Semantics.html#1761" class="Field">closed</a> <a id="2162" href="Semantics.html#2139" class="Bound">sem</a> <a id="2166" href="Trace.html#2342" class="InductiveConstructor">none</a> <a id="2171" href="Semantics.html#2147" class="Bound">xφ</a>
<a id="2174" class="Symbol">...</a> <a id="2178" class="Symbol">|</a> <a id="2180" href="Semantics.html#2180" class="Bound">xε</a> <a id="2183" class="Symbol">=</a> <a id="2185" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2192" class="Symbol">(</a><a id="2193" class="Bound">nxε</a> <a id="2197" href="Semantics.html#2180" class="Bound">xε</a><a id="2199" class="Symbol">)</a>

<a id="is-eps"></a><a id="2202" href="Semantics.html#2202" class="Function">is-eps</a> <a id="2209" class="Symbol">:</a>
  <a id="2213" class="Symbol">∀{</a><a id="2215" href="Semantics.html#2215" class="Bound">X</a><a id="2216" class="Symbol">}</a> <a id="2218" class="Symbol">-&gt;</a>
  <a id="2223" href="Semantics.html#1712" class="Record">Semantics</a> <a id="2233" href="Semantics.html#2215" class="Bound">X</a> <a id="2235" class="Symbol">-&gt;</a>
  <a id="2240" class="Symbol">(</a><a id="2241" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2243" class="Symbol">(</a><a id="2244" href="Data.Product.html#1806" class="Function">∃[</a> <a id="2247" href="Semantics.html#2247" class="Bound">x</a> <a id="2249" href="Data.Product.html#1806" class="Function">]</a> <a id="2251" class="Symbol">(</a><a id="2252" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2254" href="Semantics.html#2247" class="Bound">x</a> <a id="2256" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2258" class="InductiveConstructor">[]</a> <a id="2261" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2263" href="Semantics.html#2215" class="Bound">X</a><a id="2264" class="Symbol">)))</a> <a id="2268" class="Symbol">-&gt;</a>
  <a id="2273" class="Symbol">(</a><a id="2274" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2276" class="Symbol">(</a><a id="2277" href="Data.Product.html#1806" class="Function">∃[</a> <a id="2280" href="Semantics.html#2280" class="Bound">x</a> <a id="2282" href="Data.Product.html#1806" class="Function">]</a> <a id="2284" class="Symbol">(</a><a id="2285" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2287" href="Semantics.html#2280" class="Bound">x</a> <a id="2289" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2291" class="InductiveConstructor">[]</a> <a id="2294" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2296" href="Semantics.html#2215" class="Bound">X</a><a id="2297" class="Symbol">)))</a> <a id="2301" class="Symbol">-&gt;</a>
  <a id="2306" href="Semantics.html#2215" class="Bound">X</a> <a id="2308" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="2310" href="Relation.Unary.html#1335" class="Function Operator">｛</a> <a id="2312" class="InductiveConstructor">[]</a> <a id="2315" href="Relation.Unary.html#1335" class="Function Operator">｝</a>
<a id="2317" href="Semantics.html#2202" class="Function">is-eps</a> <a id="2324" href="Semantics.html#2324" class="Bound">sem</a> <a id="2328" href="Semantics.html#2328" class="Bound">nix</a> <a id="2332" href="Semantics.html#2332" class="Bound">nox</a> <a id="2336" class="Symbol">{</a><a id="2337" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2339" class="Symbol">}</a> <a id="2341" href="Semantics.html#2341" class="Bound">xφ</a> <a id="2344" class="Symbol">=</a> <a id="2346" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2351" href="Semantics.html#2202" class="Function">is-eps</a> <a id="2358" href="Semantics.html#2358" class="Bound">sem</a> <a id="2362" href="Semantics.html#2362" class="Bound">nix</a> <a id="2366" href="Semantics.html#2366" class="Bound">nox</a> <a id="2370" class="Symbol">{</a><a id="2371" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2373" href="Semantics.html#2373" class="Bound">x</a> <a id="2375" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2377" href="Semantics.html#2377" class="Bound">φ</a><a id="2378" class="Symbol">}</a> <a id="2380" href="Semantics.html#2380" class="Bound">xφ</a> <a id="2383" class="Keyword">with</a> <a id="2388" href="Semantics.html#1761" class="Field">closed</a> <a id="2395" href="Semantics.html#2358" class="Bound">sem</a> <a id="2399" class="Symbol">(</a><a id="2400" href="Trace.html#2370" class="InductiveConstructor">some</a> <a id="2405" href="Trace.html#2342" class="InductiveConstructor">none</a><a id="2409" class="Symbol">)</a> <a id="2411" href="Semantics.html#2380" class="Bound">xφ</a>
<a id="2414" class="Symbol">...</a> <a id="2418" class="Symbol">|</a> <a id="2420" href="Semantics.html#2420" class="Bound">ix</a> <a id="2423" class="Symbol">=</a> <a id="2425" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2432" class="Symbol">(</a><a id="2433" class="Bound">nix</a> <a id="2437" class="Symbol">(</a><a id="2438" class="Bound">x</a> <a id="2440" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2442" href="Semantics.html#2420" class="Bound">ix</a><a id="2444" class="Symbol">))</a>
<a id="2447" href="Semantics.html#2202" class="Function">is-eps</a> <a id="2454" href="Semantics.html#2454" class="Bound">sem</a> <a id="2458" href="Semantics.html#2458" class="Bound">nix</a> <a id="2462" href="Semantics.html#2462" class="Bound">nox</a> <a id="2466" class="Symbol">{</a><a id="2467" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2469" href="Semantics.html#2469" class="Bound">x</a> <a id="2471" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2473" href="Semantics.html#2473" class="Bound">φ</a><a id="2474" class="Symbol">}</a> <a id="2476" href="Semantics.html#2476" class="Bound">xφ</a> <a id="2479" class="Keyword">with</a> <a id="2484" href="Semantics.html#1761" class="Field">closed</a> <a id="2491" href="Semantics.html#2454" class="Bound">sem</a> <a id="2495" class="Symbol">(</a><a id="2496" href="Trace.html#2370" class="InductiveConstructor">some</a> <a id="2501" href="Trace.html#2342" class="InductiveConstructor">none</a><a id="2505" class="Symbol">)</a> <a id="2507" href="Semantics.html#2476" class="Bound">xφ</a>
<a id="2510" class="Symbol">...</a> <a id="2514" class="Symbol">|</a> <a id="2516" href="Semantics.html#2516" class="Bound">ox</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2528" class="Symbol">(</a><a id="2529" class="Bound">nox</a> <a id="2533" class="Symbol">(</a><a id="2534" class="Bound">x</a> <a id="2536" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2538" href="Semantics.html#2516" class="Bound">ox</a><a id="2540" class="Symbol">))</a>

<a id="kind?"></a><a id="2544" href="Semantics.html#2544" class="Function">kind?</a> <a id="2550" class="Symbol">:</a> <a id="2552" class="Symbol">∀{</a><a id="2554" href="Semantics.html#2554" class="Bound">X</a><a id="2555" class="Symbol">}</a> <a id="2557" class="Symbol">-&gt;</a> <a id="2560" href="Semantics.html#1712" class="Record">Semantics</a> <a id="2570" href="Semantics.html#2554" class="Bound">X</a> <a id="2572" class="Symbol">-&gt;</a> <a id="2575" href="Semantics.html#1841" class="Datatype">Classification</a> <a id="2590" href="Semantics.html#2554" class="Bound">X</a>
<a id="2592" href="Semantics.html#2544" class="Function">kind?</a> <a id="2598" class="Symbol">{</a><a id="2599" href="Semantics.html#2599" class="Bound">X</a><a id="2600" class="Symbol">}</a> <a id="2602" href="Semantics.html#2602" class="Bound">sem</a> <a id="2606" class="Keyword">with</a> <a id="2611" href="Common.html#1380" class="Postulate">excluded-middle</a> <a id="2627" class="Symbol">{</a><a id="2628" href="Data.Product.html#1806" class="Function">∃[</a> <a id="2631" href="Semantics.html#2631" class="Bound">x</a> <a id="2633" href="Data.Product.html#1806" class="Function">]</a> <a id="2635" class="Symbol">(</a><a id="2636" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="2638" href="Semantics.html#2631" class="Bound">x</a> <a id="2640" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2642" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2645" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2647" href="Semantics.html#2599" class="Bound">X</a><a id="2648" class="Symbol">)}</a>
<a id="2651" class="Symbol">...</a> <a id="2655" class="Symbol">|</a> <a id="2657" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2661" class="Symbol">(_</a> <a id="2664" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2666" href="Semantics.html#2666" class="Bound">ix</a><a id="2668" class="Symbol">)</a> <a id="2670" class="Symbol">=</a> <a id="2672" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="2676" href="Semantics.html#2666" class="Bound">ix</a>
<a id="2679" class="Symbol">...</a> <a id="2683" class="Symbol">|</a> <a id="2685" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2688" href="Semantics.html#2688" class="Bound">nix</a> <a id="2692" class="Keyword">with</a> <a id="2697" href="Common.html#1380" class="Postulate">excluded-middle</a> <a id="2713" class="Symbol">{</a><a id="2714" href="Data.Product.html#1806" class="Function">∃[</a> <a id="2717" href="Semantics.html#2717" class="Bound">x</a> <a id="2719" href="Data.Product.html#1806" class="Function">]</a> <a id="2721" class="Symbol">(</a><a id="2722" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2724" href="Semantics.html#2717" class="Bound">x</a> <a id="2726" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2728" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2731" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2733" class="Bound">X</a><a id="2734" class="Symbol">)}</a>
<a id="2737" class="Symbol">...</a> <a id="2741" class="Symbol">|</a> <a id="2743" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2747" class="Symbol">(_</a> <a id="2750" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2752" href="Semantics.html#2752" class="Bound">ox</a><a id="2754" class="Symbol">)</a> <a id="2756" class="Symbol">=</a> <a id="2758" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="2762" href="Semantics.html#2752" class="Bound">ox</a>
<a id="2765" class="Symbol">...</a> <a id="2769" class="Symbol">|</a> <a id="2771" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2774" href="Semantics.html#2774" class="Bound">nox</a> <a id="2778" class="Keyword">with</a> <a id="2783" href="Common.html#1380" class="Postulate">excluded-middle</a> <a id="2799" class="Symbol">{</a><a id="2800" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2803" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="2805" class="Bound">X</a><a id="2806" class="Symbol">}</a>
<a id="2808" class="Symbol">...</a> <a id="2812" class="Symbol">|</a> <a id="2814" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2818" href="Semantics.html#2818" class="Bound">xε</a> <a id="2821" class="Symbol">=</a> <a id="2823" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="2827" class="Symbol">(</a><a id="2828" href="Semantics.html#2202" class="Function">is-eps</a> <a id="2835" class="Bound">sem</a> <a id="2839" class="Bound">nix</a> <a id="2843" class="Bound">nox</a> <a id="2847" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2849" class="Symbol">λ</a> <a id="2851" class="Symbol">{</a> <a id="2853" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2858" class="Symbol">-&gt;</a> <a id="2861" href="Semantics.html#2818" class="Bound">xε</a> <a id="2864" class="Symbol">})</a>
<a id="2867" class="Symbol">...</a> <a id="2871" class="Symbol">|</a> <a id="2873" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2876" href="Semantics.html#2876" class="Bound">nxε</a> <a id="2880" class="Symbol">=</a> <a id="2882" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Semantics.html#2084" class="Function">is-emp</a> <a id="2894" class="Bound">sem</a> <a id="2898" href="Semantics.html#2876" class="Bound">nxε</a><a id="2901" class="Symbol">)</a>

<a id="sem-sound"></a><a id="2904" href="Semantics.html#2904" class="Function">sem-sound</a> <a id="2914" class="Symbol">:</a> <a id="2916" class="Symbol">(</a><a id="2917" href="Semantics.html#2917" class="Bound">T</a> <a id="2919" class="Symbol">:</a> <a id="2921" href="SessionType.html#1658" class="Datatype">SessionType</a><a id="2932" class="Symbol">)</a> <a id="2934" class="Symbol">-&gt;</a> <a id="2937" href="Semantics.html#1712" class="Record">Semantics</a> <a id="2947" href="TraceSet.html#1719" class="Function Operator">⟦</a> <a id="2949" href="Semantics.html#2917" class="Bound">T</a> <a id="2951" href="TraceSet.html#1719" class="Function Operator">⟧</a>
<a id="2953" href="Semantics.html#1761" class="Field">closed</a> <a id="2960" class="Symbol">(</a><a id="2961" href="Semantics.html#2904" class="Function">sem-sound</a> <a id="2971" href="Semantics.html#2971" class="Bound">T</a><a id="2972" class="Symbol">)</a> <a id="2974" class="Symbol">=</a> <a id="2976" href="HasTrace.html#3914" class="Function">⊑-has-trace</a>
<a id="2988" href="Semantics.html#1791" class="Field">coherent</a> <a id="2997" class="Symbol">(</a><a id="2998" href="Semantics.html#2904" class="Function">sem-sound</a> <a id="3008" href="Semantics.html#3008" class="Bound">T</a><a id="3009" class="Symbol">)</a> <a id="3011" class="Symbol">=</a> <a id="3013" href="HasTrace.html#6266" class="Function">trace-coherence</a>

<a id="derive-semantics"></a><a id="3030" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="3047" class="Symbol">:</a> <a id="3049" class="Symbol">∀{</a><a id="3051" href="Semantics.html#3051" class="Bound">X</a><a id="3052" class="Symbol">}</a> <a id="3054" class="Symbol">-&gt;</a> <a id="3057" href="Semantics.html#1712" class="Record">Semantics</a> <a id="3067" href="Semantics.html#3051" class="Bound">X</a> <a id="3069" class="Symbol">-&gt;</a> <a id="3072" class="Symbol">(</a><a id="3073" href="Semantics.html#3073" class="Bound">α</a> <a id="3075" class="Symbol">:</a> <a id="3077" href="Action.html#1349" class="Datatype">Action</a><a id="3083" class="Symbol">)</a> <a id="3085" class="Symbol">-&gt;</a> <a id="3088" href="Semantics.html#1712" class="Record">Semantics</a> <a id="3098" class="Symbol">(</a><a id="3099" href="Semantics.html#3051" class="Bound">X</a> <a id="3101" href="TraceSet.html#2008" class="Function Operator">∂</a> <a id="3103" href="Semantics.html#3073" class="Bound">α</a><a id="3104" class="Symbol">)</a>
<a id="3106" href="Semantics.html#1761" class="Field">closed</a> <a id="3113" class="Symbol">(</a><a id="3114" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="3131" href="Semantics.html#3131" class="Bound">sem</a> <a id="3135" class="Symbol">_)</a> <a id="3138" href="Semantics.html#3138" class="Bound">pre</a> <a id="3142" href="Semantics.html#3142" class="Bound">hasφ</a> <a id="3147" class="Symbol">=</a> <a id="3149" href="Semantics.html#1761" class="Field">closed</a> <a id="3156" href="Semantics.html#3131" class="Bound">sem</a> <a id="3160" class="Symbol">(</a><a id="3161" href="Trace.html#2370" class="InductiveConstructor">some</a> <a id="3166" href="Semantics.html#3138" class="Bound">pre</a><a id="3169" class="Symbol">)</a> <a id="3171" href="Semantics.html#3142" class="Bound">hasφ</a>
<a id="3176" href="Semantics.html#1791" class="Field">coherent</a> <a id="3185" class="Symbol">(</a><a id="3186" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="3203" class="Symbol">{</a><a id="3204" href="Semantics.html#3204" class="Bound">X</a><a id="3205" class="Symbol">}</a> <a id="3207" href="Semantics.html#3207" class="Bound">sem</a> <a id="3211" href="Semantics.html#3211" class="Bound">γ</a><a id="3212" class="Symbol">)</a> <a id="3214" class="Symbol">{</a><a id="3215" href="Semantics.html#3215" class="Bound">φ</a><a id="3216" class="Symbol">}</a> <a id="3218" class="Symbol">{</a><a id="3219" href="Semantics.html#3219" class="Bound">α</a><a id="3220" class="Symbol">}</a> <a id="3222" class="Symbol">{</a><a id="3223" href="Semantics.html#3223" class="Bound">β</a><a id="3224" class="Symbol">}</a> <a id="3226" href="Semantics.html#3226" class="Bound">hasφα</a> <a id="3232" href="Semantics.html#3232" class="Bound">hasφβ</a> <a id="3238" class="Symbol">=</a> <a id="3240" href="Semantics.html#1791" class="Field">coherent</a> <a id="3249" class="Symbol">{</a><a id="3250" href="Semantics.html#3204" class="Bound">X</a><a id="3251" class="Symbol">}</a> <a id="3253" href="Semantics.html#3207" class="Bound">sem</a> <a id="3257" class="Symbol">{</a><a id="3258" href="Semantics.html#3211" class="Bound">γ</a> <a id="3260" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3262" href="Semantics.html#3215" class="Bound">φ</a><a id="3263" class="Symbol">}</a> <a id="3265" href="Semantics.html#3226" class="Bound">hasφα</a> <a id="3271" href="Semantics.html#3232" class="Bound">hasφβ</a>

<a id="co-semantics"></a><a id="3278" href="Semantics.html#3278" class="Function">co-semantics</a> <a id="3291" class="Symbol">:</a> <a id="3293" class="Symbol">∀{</a><a id="3295" href="Semantics.html#3295" class="Bound">X</a><a id="3296" class="Symbol">}</a> <a id="3298" class="Symbol">-&gt;</a> <a id="3301" href="Semantics.html#1712" class="Record">Semantics</a> <a id="3311" href="Semantics.html#3295" class="Bound">X</a> <a id="3313" class="Symbol">-&gt;</a> <a id="3316" href="Semantics.html#1712" class="Record">Semantics</a> <a id="3326" class="Symbol">(</a><a id="3327" href="TraceSet.html#2085" class="Function">CoSet</a> <a id="3333" href="Semantics.html#3295" class="Bound">X</a><a id="3334" class="Symbol">)</a>
<a id="3336" href="Semantics.html#1761" class="Field">closed</a> <a id="3343" class="Symbol">(</a><a id="3344" href="Semantics.html#3278" class="Function">co-semantics</a> <a id="3357" href="Semantics.html#3357" class="Bound">sem</a><a id="3360" class="Symbol">)</a> <a id="3362" href="Semantics.html#3362" class="Bound">le</a> <a id="3365" href="Semantics.html#3365" class="Bound">coφ</a> <a id="3369" class="Symbol">=</a> <a id="3371" href="Semantics.html#1761" class="Field">closed</a> <a id="3378" href="Semantics.html#3357" class="Bound">sem</a> <a id="3382" class="Symbol">(</a><a id="3383" href="Trace.html#2829" class="Function">⊑-co-trace</a> <a id="3394" href="Semantics.html#3362" class="Bound">le</a><a id="3396" class="Symbol">)</a> <a id="3398" href="Semantics.html#3365" class="Bound">coφ</a>
<a id="3402" href="Semantics.html#1791" class="Field">coherent</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Semantics.html#3278" class="Function">co-semantics</a> <a id="3425" href="Semantics.html#3425" class="Bound">sem</a><a id="3428" class="Symbol">)</a> <a id="3430" class="Symbol">{</a><a id="3431" href="Semantics.html#3431" class="Bound">φ</a><a id="3432" class="Symbol">}</a> <a id="3434" class="Symbol">{</a><a id="3435" href="Semantics.html#3435" class="Bound">ψ₁</a><a id="3437" class="Symbol">}</a> <a id="3439" class="Symbol">{</a><a id="3440" href="Semantics.html#3440" class="Bound">ψ₂</a><a id="3442" class="Symbol">}</a> <a id="3444" class="Symbol">{</a><a id="3445" href="Semantics.html#3445" class="Bound">x</a><a id="3446" class="Symbol">}</a> <a id="3448" class="Symbol">{</a><a id="3449" href="Semantics.html#3449" class="Bound">y</a><a id="3450" class="Symbol">}</a> <a id="3452" href="Semantics.html#3452" class="Bound">iφx</a> <a id="3456" href="Semantics.html#3456" class="Bound">oφx</a>
  <a id="3462" class="Keyword">rewrite</a> <a id="3470" href="Trace.html#1863" class="Function">co-trace-++</a> <a id="3482" href="Semantics.html#3431" class="Bound">φ</a> <a id="3484" class="Symbol">(</a><a id="3485" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="3487" href="Semantics.html#3445" class="Bound">x</a> <a id="3489" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3491" href="Semantics.html#3435" class="Bound">ψ₁</a><a id="3493" class="Symbol">)</a> <a id="3495" class="Symbol">|</a> <a id="3497" href="Trace.html#1863" class="Function">co-trace-++</a> <a id="3509" href="Semantics.html#3431" class="Bound">φ</a> <a id="3511" class="Symbol">(</a><a id="3512" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="3514" href="Semantics.html#3449" class="Bound">y</a> <a id="3516" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3518" href="Semantics.html#3440" class="Bound">ψ₂</a><a id="3520" class="Symbol">)</a> <a id="3522" class="Symbol">=</a>
  <a id="3526" href="Semantics.html#1791" class="Field">coherent</a> <a id="3535" href="Semantics.html#3425" class="Bound">sem</a> <a id="3539" class="Symbol">{</a><a id="3540" href="Trace.html#1617" class="Function">co-trace</a> <a id="3549" href="Semantics.html#3431" class="Bound">φ</a><a id="3550" class="Symbol">}</a> <a id="3552" class="Symbol">{</a><a id="3553" href="Trace.html#1617" class="Function">co-trace</a> <a id="3562" href="Semantics.html#3440" class="Bound">ψ₂</a><a id="3564" class="Symbol">}</a> <a id="3566" class="Symbol">{</a><a id="3567" href="Trace.html#1617" class="Function">co-trace</a> <a id="3576" href="Semantics.html#3435" class="Bound">ψ₁</a><a id="3578" class="Symbol">}</a> <a id="3580" class="Symbol">{</a><a id="3581" href="Semantics.html#3449" class="Bound">y</a><a id="3582" class="Symbol">}</a> <a id="3584" class="Symbol">{</a><a id="3585" href="Semantics.html#3445" class="Bound">x</a><a id="3586" class="Symbol">}</a> <a id="3588" href="Semantics.html#3456" class="Bound">oφx</a> <a id="3592" href="Semantics.html#3452" class="Bound">iφx</a>

<a id="non-empty-semantics-contains-[]"></a><a id="3597" href="Semantics.html#3597" class="Function">non-empty-semantics-contains-[]</a> <a id="3629" class="Symbol">:</a> <a id="3631" class="Symbol">∀{</a><a id="3633" href="Semantics.html#3633" class="Bound">X</a> <a id="3635" class="Symbol">:</a> <a id="3637" href="TraceSet.html#1669" class="Function">TraceSet</a><a id="3645" class="Symbol">}{</a><a id="3647" href="Semantics.html#3647" class="Bound">φ</a><a id="3648" class="Symbol">}</a> <a id="3650" class="Symbol">-&gt;</a> <a id="3653" href="Semantics.html#1712" class="Record">Semantics</a> <a id="3663" href="Semantics.html#3633" class="Bound">X</a> <a id="3665" class="Symbol">-&gt;</a> <a id="3668" href="Semantics.html#3647" class="Bound">φ</a> <a id="3670" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3672" href="Semantics.html#3633" class="Bound">X</a> <a id="3674" class="Symbol">-&gt;</a> <a id="3677" class="InductiveConstructor">[]</a> <a id="3680" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="3682" href="Semantics.html#3633" class="Bound">X</a>
<a id="3684" href="Semantics.html#3597" class="Function">non-empty-semantics-contains-[]</a> <a id="3716" href="Semantics.html#3716" class="Bound">sem</a> <a id="3720" href="Semantics.html#3720" class="Bound">w</a> <a id="3722" class="Symbol">=</a> <a id="3724" href="Semantics.html#1761" class="Field">closed</a> <a id="3731" href="Semantics.html#3716" class="Bound">sem</a> <a id="3735" href="Trace.html#2342" class="InductiveConstructor">none</a> <a id="3740" href="Semantics.html#3720" class="Bound">w</a>

<a id="decode"></a><a id="3743" href="Semantics.html#3743" class="Function">decode</a> <a id="3750" class="Symbol">:</a> <a id="3752" class="Symbol">∀{</a><a id="3754" href="Semantics.html#3754" class="Bound">X</a><a id="3755" class="Symbol">}</a> <a id="3757" class="Symbol">-&gt;</a> <a id="3760" href="Semantics.html#1712" class="Record">Semantics</a> <a id="3770" href="Semantics.html#3754" class="Bound">X</a> <a id="3772" class="Symbol">-&gt;</a> <a id="3775" href="SessionType.html#1683" class="Record">∞SessionType</a>
<a id="3788" href="SessionType.html#1749" class="Field">force</a> <a id="3794" class="Symbol">(</a><a id="3795" href="Semantics.html#3743" class="Function">decode</a> <a id="3802" href="Semantics.html#3802" class="Bound">sem</a><a id="3805" class="Symbol">)</a> <a id="3807" class="Keyword">with</a> <a id="3812" href="Semantics.html#2544" class="Function">kind?</a> <a id="3818" href="Semantics.html#3802" class="Bound">sem</a>
<a id="3822" class="Symbol">...</a> <a id="3826" class="Symbol">|</a> <a id="3828" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="3832" class="Symbol">_</a> <a id="3834" class="Symbol">=</a> <a id="3836" href="SessionType.html#1873" class="InductiveConstructor">nil</a>
<a id="3840" class="Symbol">...</a> <a id="3844" class="Symbol">|</a> <a id="3846" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="3850" class="Symbol">_</a> <a id="3852" class="Symbol">=</a> <a id="3854" href="SessionType.html#3317" class="Function">win</a>
<a id="3858" class="Symbol">...</a> <a id="3862" class="Symbol">|</a> <a id="3864" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="3868" class="Symbol">_</a> <a id="3870" class="Symbol">=</a> <a id="3872" href="SessionType.html#1893" class="InductiveConstructor">inp</a> <a id="3876" class="Symbol">λ</a> <a id="3878" href="Semantics.html#3878" class="Bound">x</a> <a id="3880" class="Symbol">-&gt;</a> <a id="3883" href="Semantics.html#3743" class="Function">decode</a> <a id="3890" class="Symbol">(</a><a id="3891" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="3908" class="Bound">sem</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="3915" href="Semantics.html#3878" class="Bound">x</a><a id="3916" class="Symbol">))</a>
<a id="3919" class="Symbol">...</a> <a id="3923" class="Symbol">|</a> <a id="3925" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="3929" class="Symbol">_</a> <a id="3931" class="Symbol">=</a> <a id="3933" href="SessionType.html#1935" class="InductiveConstructor">out</a> <a id="3937" class="Symbol">λ</a> <a id="3939" href="Semantics.html#3939" class="Bound">x</a> <a id="3941" class="Symbol">-&gt;</a> <a id="3944" href="Semantics.html#3743" class="Function">decode</a> <a id="3951" class="Symbol">(</a><a id="3952" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="3969" class="Bound">sem</a> <a id="3973" class="Symbol">(</a><a id="3974" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="3976" href="Semantics.html#3939" class="Bound">x</a><a id="3977" class="Symbol">))</a>

<a id="decode-sub"></a><a id="3981" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="3992" class="Symbol">:</a> <a id="3994" class="Symbol">∀{</a><a id="3996" href="Semantics.html#3996" class="Bound">X</a><a id="3997" class="Symbol">}</a> <a id="3999" class="Symbol">(</a><a id="4000" href="Semantics.html#4000" class="Bound">sem</a> <a id="4004" class="Symbol">:</a> <a id="4006" href="Semantics.html#1712" class="Record">Semantics</a> <a id="4016" href="Semantics.html#3996" class="Bound">X</a><a id="4017" class="Symbol">)</a> <a id="4019" class="Symbol">-&gt;</a> <a id="4022" href="TraceSet.html#1719" class="Function Operator">⟦</a> <a id="4024" href="Semantics.html#3743" class="Function">decode</a> <a id="4031" href="Semantics.html#4000" class="Bound">sem</a> <a id="4035" class="Symbol">.</a><a id="4036" href="SessionType.html#1749" class="Field">force</a> <a id="4042" href="TraceSet.html#1719" class="Function Operator">⟧</a> <a id="4044" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="4046" href="Semantics.html#3996" class="Bound">X</a>
<a id="4048" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4059" href="Semantics.html#4059" class="Bound">sem</a> <a id="4063" href="Semantics.html#4063" class="Bound">tφ</a> <a id="4066" class="Keyword">with</a> <a id="4071" href="Semantics.html#2544" class="Function">kind?</a> <a id="4077" href="Semantics.html#4059" class="Bound">sem</a>
<a id="4081" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4092" class="Symbol">_</a> <a id="4094" class="Symbol">(_</a> <a id="4097" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4099" class="Symbol">()</a> <a id="4102" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4104" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="4108" class="Symbol">)</a> <a id="4110" class="Symbol">|</a> <a id="4112" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="4116" class="Symbol">_</a>
<a id="4118" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4129" class="Symbol">_</a> <a id="4131" class="Symbol">(_</a> <a id="4134" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4136" class="Symbol">_</a> <a id="4138" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4140" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="4145" class="Symbol">()</a> <a id="4148" class="Symbol">_)</a> <a id="4151" class="Symbol">|</a> <a id="4153" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="4157" class="Symbol">_</a>
<a id="4159" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4170" class="Symbol">_</a> <a id="4172" class="Symbol">(_</a> <a id="4175" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4177" class="Symbol">_</a> <a id="4179" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4181" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="4185" class="Symbol">)</a> <a id="4187" class="Symbol">|</a> <a id="4189" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="4193" class="Symbol">(_</a> <a id="4196" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4198" href="Semantics.html#4198" class="Bound">sup</a><a id="4201" class="Symbol">)</a> <a id="4203" class="Symbol">=</a> <a id="4205" href="Semantics.html#4198" class="Bound">sup</a> <a id="4209" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4214" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4225" class="Symbol">_</a> <a id="4227" class="Symbol">(_</a> <a id="4230" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4232" class="Symbol">_</a> <a id="4234" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4236" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="4241" class="Symbol">(</a><a id="4242" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="4246" class="Symbol">())</a> <a id="4250" class="Symbol">_)</a> <a id="4253" class="Symbol">|</a> <a id="4255" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="4259" class="Symbol">_</a>
<a id="4261" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4272" href="Semantics.html#4272" class="Bound">sem</a> <a id="4276" class="Symbol">(_</a> <a id="4279" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4281" class="Symbol">_</a> <a id="4283" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4285" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="4289" class="Symbol">)</a> <a id="4291" class="Symbol">|</a> <a id="4293" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="4297" href="Semantics.html#4297" class="Bound">w</a> <a id="4299" class="Symbol">=</a> <a id="4301" href="Semantics.html#3597" class="Function">non-empty-semantics-contains-[]</a> <a id="4333" href="Semantics.html#4272" class="Bound">sem</a> <a id="4337" href="Semantics.html#4297" class="Bound">w</a>
<a id="4339" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4350" href="Semantics.html#4350" class="Bound">sem</a> <a id="4354" class="Symbol">(_</a> <a id="4357" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4359" href="Semantics.html#4359" class="Bound">def</a> <a id="4363" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4365" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="4370" href="Transitions.html#1642" class="InductiveConstructor">inp</a> <a id="4374" href="Semantics.html#4374" class="Bound">tr</a><a id="4376" class="Symbol">)</a> <a id="4378" class="Symbol">|</a> <a id="4380" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="4384" href="Semantics.html#4384" class="Bound">w</a> <a id="4386" class="Symbol">=</a>
  <a id="4390" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4401" class="Symbol">(</a><a id="4402" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="4419" href="Semantics.html#4350" class="Bound">sem</a> <a id="4423" class="Symbol">(</a><a id="4424" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4426" class="Symbol">_))</a> <a id="4430" class="Symbol">(_</a> <a id="4433" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4435" href="Semantics.html#4359" class="Bound">def</a> <a id="4439" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4441" href="Semantics.html#4374" class="Bound">tr</a><a id="4443" class="Symbol">)</a>
<a id="4445" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4456" href="Semantics.html#4456" class="Bound">sem</a> <a id="4460" class="Symbol">(_</a> <a id="4463" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4465" class="Symbol">_</a> <a id="4467" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4469" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="4473" class="Symbol">)</a> <a id="4475" class="Symbol">|</a> <a id="4477" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="4481" href="Semantics.html#4481" class="Bound">w</a> <a id="4483" class="Symbol">=</a> <a id="4485" href="Semantics.html#3597" class="Function">non-empty-semantics-contains-[]</a> <a id="4517" href="Semantics.html#4456" class="Bound">sem</a> <a id="4521" href="Semantics.html#4481" class="Bound">w</a>
<a id="4523" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4534" href="Semantics.html#4534" class="Bound">sem</a> <a id="4538" class="Symbol">(_</a> <a id="4541" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4543" href="Semantics.html#4543" class="Bound">def</a> <a id="4547" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4549" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="4559" href="Semantics.html#4559" class="Bound">!x</a><a id="4561" class="Symbol">)</a> <a id="4563" href="Semantics.html#4563" class="Bound">tr</a><a id="4565" class="Symbol">)</a> <a id="4567" class="Symbol">|</a> <a id="4569" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="4573" href="Semantics.html#4573" class="Bound">w</a> <a id="4575" class="Symbol">=</a>
  <a id="4579" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="4590" class="Symbol">(</a><a id="4591" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="4608" href="Semantics.html#4534" class="Bound">sem</a> <a id="4612" class="Symbol">(</a><a id="4613" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="4615" class="Symbol">_))</a> <a id="4619" class="Symbol">(_</a> <a id="4622" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4624" href="Semantics.html#4543" class="Bound">def</a> <a id="4628" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4630" href="Semantics.html#4563" class="Bound">tr</a><a id="4632" class="Symbol">)</a>

<a id="decode-sup"></a><a id="4635" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="4646" class="Symbol">:</a> <a id="4648" class="Symbol">∀{</a><a id="4650" href="Semantics.html#4650" class="Bound">X</a><a id="4651" class="Symbol">}</a> <a id="4653" class="Symbol">(</a><a id="4654" href="Semantics.html#4654" class="Bound">sem</a> <a id="4658" class="Symbol">:</a> <a id="4660" href="Semantics.html#1712" class="Record">Semantics</a> <a id="4670" href="Semantics.html#4650" class="Bound">X</a><a id="4671" class="Symbol">)</a> <a id="4673" class="Symbol">-&gt;</a> <a id="4676" href="Semantics.html#4650" class="Bound">X</a> <a id="4678" href="Relation.Unary.html#1742" class="Function Operator">⊆</a> <a id="4680" href="TraceSet.html#1719" class="Function Operator">⟦</a> <a id="4682" href="Semantics.html#3743" class="Function">decode</a> <a id="4689" href="Semantics.html#4654" class="Bound">sem</a> <a id="4693" class="Symbol">.</a><a id="4694" href="SessionType.html#1749" class="Field">force</a> <a id="4700" href="TraceSet.html#1719" class="Function Operator">⟧</a>
<a id="4702" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="4713" href="Semantics.html#4713" class="Bound">sem</a> <a id="4717" class="Symbol">{</a><a id="4718" href="Semantics.html#4718" class="Bound">φ</a><a id="4719" class="Symbol">}</a> <a id="4721" href="Semantics.html#4721" class="Bound">hasφ</a> <a id="4726" class="Keyword">with</a> <a id="4731" href="Semantics.html#2544" class="Function">kind?</a> <a id="4737" href="Semantics.html#4713" class="Bound">sem</a>
<a id="4741" class="Symbol">...</a> <a id="4745" class="Symbol">|</a> <a id="4747" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="4751" href="Semantics.html#4751" class="Bound">sub</a> <a id="4755" class="Symbol">=</a> <a id="4757" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="4764" class="Symbol">(</a><a id="4765" href="Semantics.html#4751" class="Bound">sub</a> <a id="4769" class="Bound">hasφ</a><a id="4773" class="Symbol">)</a>
<a id="4775" class="Symbol">...</a> <a id="4779" class="Symbol">|</a> <a id="4781" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="4785" class="Symbol">(</a><a id="4786" href="Semantics.html#4786" class="Bound">sub</a> <a id="4790" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4792" class="Symbol">_)</a> <a id="4795" class="Keyword">rewrite</a> <a id="4803" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Semantics.html#4786" class="Bound">sub</a> <a id="4812" class="Bound">hasφ</a><a id="4816" class="Symbol">)</a> <a id="4818" class="Symbol">=</a> <a id="4820" class="Symbol">_</a> <a id="4822" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4824" href="SessionType.html#2050" class="InductiveConstructor">out</a> <a id="4828" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4830" href="Transitions.html#1856" class="InductiveConstructor">refl</a>
<a id="4835" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="4846" href="Semantics.html#4846" class="Bound">sem</a> <a id="4850" class="Symbol">{</a><a id="4851" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4853" class="Symbol">}</a> <a id="4855" href="Semantics.html#4855" class="Bound">hasφ</a> <a id="4860" class="Symbol">|</a> <a id="4862" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="4866" class="Symbol">_</a> <a id="4868" class="Symbol">=</a> <a id="4870" class="Symbol">_</a> <a id="4872" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4874" href="SessionType.html#2018" class="InductiveConstructor">inp</a> <a id="4878" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4880" href="Transitions.html#1856" class="InductiveConstructor">refl</a>
<a id="4885" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="4896" href="Semantics.html#4896" class="Bound">sem</a> <a id="4900" class="Symbol">{</a><a id="4901" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4903" class="Symbol">_</a> <a id="4905" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4907" class="Symbol">_}</a> <a id="4910" href="Semantics.html#4910" class="Bound">hasφ</a> <a id="4915" class="Symbol">|</a> <a id="4917" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="4921" class="Symbol">_</a> <a id="4923" class="Symbol">=</a>
  <a id="4927" class="Keyword">let</a> <a id="4931" class="Symbol">_</a> <a id="4933" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4935" href="Semantics.html#4935" class="Bound">def</a> <a id="4939" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4941" href="Semantics.html#4941" class="Bound">tr</a> <a id="4944" class="Symbol">=</a> <a id="4946" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="4957" class="Symbol">(</a><a id="4958" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="4975" href="Semantics.html#4896" class="Bound">sem</a> <a id="4979" class="Symbol">(</a><a id="4980" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="4982" class="Symbol">_))</a> <a id="4986" href="Semantics.html#4910" class="Bound">hasφ</a> <a id="4991" class="Keyword">in</a>
  <a id="4996" class="Symbol">_</a> <a id="4998" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5000" href="Semantics.html#4935" class="Bound">def</a> <a id="5004" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5006" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="5011" href="Transitions.html#1642" class="InductiveConstructor">inp</a> <a id="5015" href="Semantics.html#4941" class="Bound">tr</a>
<a id="5018" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="5029" href="Semantics.html#5029" class="Bound">sem</a> <a id="5033" class="Symbol">{</a><a id="5034" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5036" class="Symbol">_</a> <a id="5038" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5040" class="Symbol">_}</a> <a id="5043" href="Semantics.html#5043" class="Bound">hasφ</a> <a id="5048" class="Symbol">|</a> <a id="5050" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="5054" href="Semantics.html#5054" class="Bound">w</a> <a id="5056" class="Symbol">=</a> <a id="5058" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5065" class="Symbol">(</a><a id="5066" href="Semantics.html#1791" class="Field">coherent</a> <a id="5075" href="Semantics.html#5029" class="Bound">sem</a> <a id="5079" class="Symbol">{</a><a id="5080" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5082" class="Symbol">}</a> <a id="5084" href="Semantics.html#5054" class="Bound">w</a> <a id="5086" href="Semantics.html#5043" class="Bound">hasφ</a><a id="5090" class="Symbol">)</a>
<a id="5092" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="5103" href="Semantics.html#5103" class="Bound">sem</a> <a id="5107" class="Symbol">{</a><a id="5108" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5110" class="Symbol">}</a> <a id="5112" href="Semantics.html#5112" class="Bound">hasφ</a> <a id="5117" class="Symbol">|</a> <a id="5119" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="5123" class="Symbol">_</a> <a id="5125" class="Symbol">=</a> <a id="5127" class="Symbol">_</a> <a id="5129" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5131" href="SessionType.html#2050" class="InductiveConstructor">out</a> <a id="5135" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5137" href="Transitions.html#1856" class="InductiveConstructor">refl</a>
<a id="5142" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="5153" href="Semantics.html#5153" class="Bound">sem</a> <a id="5157" class="Symbol">{</a><a id="5158" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="5160" class="Symbol">_</a> <a id="5162" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5164" class="Symbol">_}</a> <a id="5167" href="Semantics.html#5167" class="Bound">hasφ</a> <a id="5172" class="Symbol">|</a> <a id="5174" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="5178" href="Semantics.html#5178" class="Bound">w</a> <a id="5180" class="Symbol">=</a> <a id="5182" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5189" class="Symbol">(</a><a id="5190" href="Semantics.html#1791" class="Field">coherent</a> <a id="5199" href="Semantics.html#5153" class="Bound">sem</a> <a id="5203" class="Symbol">{</a><a id="5204" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5206" class="Symbol">}</a> <a id="5208" href="Semantics.html#5167" class="Bound">hasφ</a> <a id="5213" href="Semantics.html#5178" class="Bound">w</a><a id="5214" class="Symbol">)</a>
<a id="5216" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="5227" href="Semantics.html#5227" class="Bound">sem</a> <a id="5231" class="Symbol">{</a><a id="5232" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5234" class="Symbol">_</a> <a id="5236" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5238" class="Symbol">_}</a> <a id="5241" href="Semantics.html#5241" class="Bound">hasφ</a> <a id="5246" class="Symbol">|</a> <a id="5248" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="5252" class="Symbol">_</a> <a id="5254" class="Symbol">=</a>
  <a id="5258" class="Keyword">let</a> <a id="5262" class="Symbol">_</a> <a id="5264" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5266" href="Semantics.html#5266" class="Bound">def</a> <a id="5270" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5272" href="Semantics.html#5272" class="Bound">tr</a> <a id="5275" class="Symbol">=</a> <a id="5277" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="5288" class="Symbol">(</a><a id="5289" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="5306" href="Semantics.html#5227" class="Bound">sem</a> <a id="5310" class="Symbol">(</a><a id="5311" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="5313" class="Symbol">_))</a> <a id="5317" href="Semantics.html#5241" class="Bound">hasφ</a> <a id="5322" class="Keyword">in</a>
  <a id="5327" class="Symbol">_</a> <a id="5329" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5331" href="Semantics.html#5266" class="Bound">def</a> <a id="5335" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5337" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="5342" class="Symbol">(</a><a id="5343" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="5347" class="Symbol">(</a><a id="5348" href="Transitions.html#2754" class="Function">transitions+defined-&gt;defined</a> <a id="5377" href="Semantics.html#5272" class="Bound">tr</a> <a id="5380" href="Semantics.html#5266" class="Bound">def</a><a id="5383" class="Symbol">))</a> <a id="5386" href="Semantics.html#5272" class="Bound">tr</a>

<a id="decode+maximal-&gt;win"></a><a id="5390" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5410" class="Symbol">:</a>
  <a id="5414" class="Symbol">∀{</a><a id="5416" href="Semantics.html#5416" class="Bound">X</a> <a id="5418" href="Semantics.html#5418" class="Bound">φ</a><a id="5419" class="Symbol">}</a>
  <a id="5423" class="Symbol">(</a><a id="5424" href="Semantics.html#5424" class="Bound">sem</a> <a id="5428" class="Symbol">:</a> <a id="5430" href="Semantics.html#1712" class="Record">Semantics</a> <a id="5440" href="Semantics.html#5416" class="Bound">X</a><a id="5441" class="Symbol">)</a>
  <a id="5445" class="Symbol">(</a><a id="5446" href="Semantics.html#5446" class="Bound">rφ</a> <a id="5449" class="Symbol">:</a> <a id="5451" href="Semantics.html#3743" class="Function">decode</a> <a id="5458" href="Semantics.html#5424" class="Bound">sem</a> <a id="5462" class="Symbol">.</a><a id="5463" href="SessionType.html#1749" class="Field">force</a> <a id="5469" href="HasTrace.html#1645" class="Function Operator">HasTrace</a> <a id="5478" href="Semantics.html#5418" class="Bound">φ</a><a id="5479" class="Symbol">)</a> <a id="5481" class="Symbol">-&gt;</a>
  <a id="5486" href="Semantics.html#5418" class="Bound">φ</a> <a id="5488" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="5490" href="TraceSet.html#2820" class="Datatype">Maximal</a> <a id="5498" href="Semantics.html#5416" class="Bound">X</a> <a id="5500" class="Symbol">-&gt;</a>
  <a id="5505" href="SessionType.html#3086" class="Datatype">Win</a> <a id="5509" class="Symbol">(</a><a id="5510" href="HasTrace.html#1743" class="Function">after</a> <a id="5516" href="Semantics.html#5446" class="Bound">rφ</a><a id="5518" class="Symbol">)</a>
<a id="5520" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5540" href="Semantics.html#5540" class="Bound">sem</a> <a id="5544" href="Semantics.html#5544" class="Bound">rφ</a> <a id="5547" href="Semantics.html#5547" class="Bound">comp</a> <a id="5552" class="Keyword">with</a> <a id="5557" href="Semantics.html#2544" class="Function">kind?</a> <a id="5563" href="Semantics.html#5540" class="Bound">sem</a>
<a id="5567" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5587" href="Semantics.html#5587" class="Bound">sem</a> <a id="5591" class="Symbol">(_</a> <a id="5594" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5596" class="Symbol">()</a> <a id="5599" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5601" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="5605" class="Symbol">)</a> <a id="5607" href="Semantics.html#5607" class="Bound">comp</a> <a id="5612" class="Symbol">|</a> <a id="5614" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="5618" href="Semantics.html#5618" class="Bound">sub</a>
<a id="5622" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5642" href="Semantics.html#5642" class="Bound">sem</a> <a id="5646" class="Symbol">(_</a> <a id="5649" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5651" class="Symbol">_</a> <a id="5653" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5655" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="5660" class="Symbol">()</a> <a id="5663" class="Symbol">_)</a> <a id="5666" href="Semantics.html#5666" class="Bound">comp</a> <a id="5671" class="Symbol">|</a> <a id="5673" href="Semantics.html#1882" class="InductiveConstructor">emp</a> <a id="5677" href="Semantics.html#5677" class="Bound">sub</a>
<a id="5681" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5701" href="Semantics.html#5701" class="Bound">sem</a> <a id="5705" class="Symbol">(_</a> <a id="5708" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5710" class="Symbol">_</a> <a id="5712" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5714" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="5718" class="Symbol">)</a> <a id="5720" href="Semantics.html#5720" class="Bound">comp</a> <a id="5725" class="Symbol">|</a> <a id="5727" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="5731" class="Symbol">_</a> <a id="5733" class="Symbol">=</a> <a id="5735" href="SessionType.html#3375" class="Function">Win-win</a>
<a id="5743" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5763" href="Semantics.html#5763" class="Bound">sem</a> <a id="5767" class="Symbol">(_</a> <a id="5770" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5772" class="Symbol">_</a> <a id="5774" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5776" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="5781" class="Symbol">(</a><a id="5782" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="5786" class="Symbol">())</a> <a id="5790" class="Symbol">_)</a> <a id="5793" href="Semantics.html#5793" class="Bound">comp</a> <a id="5798" class="Symbol">|</a> <a id="5800" href="Semantics.html#1933" class="InductiveConstructor">eps</a> <a id="5804" class="Symbol">_</a>
<a id="5806" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5826" href="Semantics.html#5826" class="Bound">sem</a> <a id="5830" class="Symbol">(_</a> <a id="5833" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5835" href="Semantics.html#5835" class="Bound">def</a> <a id="5839" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5841" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="5845" class="Symbol">)</a> <a id="5847" class="Symbol">(</a><a id="5848" href="TraceSet.html#2863" class="InductiveConstructor">maximal</a> <a id="5856" class="Symbol">_</a> <a id="5858" href="Semantics.html#5858" class="Bound">F</a><a id="5859" class="Symbol">)</a> <a id="5861" class="Symbol">|</a> <a id="5863" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="5867" href="Semantics.html#5867" class="Bound">w</a> <a id="5869" class="Keyword">with</a> <a id="5874" href="Semantics.html#5858" class="Bound">F</a> <a id="5876" href="Trace.html#2342" class="InductiveConstructor">none</a> <a id="5881" href="Semantics.html#5867" class="Bound">w</a>
<a id="5883" class="Symbol">...</a> <a id="5887" class="Symbol">|</a> <a id="5889" class="Symbol">()</a>
<a id="5892" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5912" href="Semantics.html#5912" class="Bound">sem</a> <a id="5916" class="Symbol">(_</a> <a id="5919" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5921" href="Semantics.html#5921" class="Bound">def</a> <a id="5925" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5927" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="5932" href="Transitions.html#1642" class="InductiveConstructor">inp</a> <a id="5936" href="Semantics.html#5936" class="Bound">tr</a><a id="5938" class="Symbol">)</a> <a id="5940" href="Semantics.html#5940" class="Bound">comp</a> <a id="5945" class="Symbol">|</a> <a id="5947" href="Semantics.html#1983" class="InductiveConstructor">inp</a> <a id="5951" class="Symbol">_</a> <a id="5953" class="Symbol">=</a>
  <a id="5957" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="5977" class="Symbol">(</a><a id="5978" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="5995" href="Semantics.html#5912" class="Bound">sem</a> <a id="5999" class="Symbol">(</a><a id="6000" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="6002" class="Symbol">_))</a> <a id="6006" class="Symbol">(_</a> <a id="6009" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6011" href="Semantics.html#5921" class="Bound">def</a> <a id="6015" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6017" href="Semantics.html#5936" class="Bound">tr</a><a id="6019" class="Symbol">)</a> <a id="6021" class="Symbol">(</a><a id="6022" href="TraceSet.html#3015" class="Function">derive-maximal</a> <a id="6037" href="Semantics.html#5940" class="Bound">comp</a><a id="6041" class="Symbol">)</a>
<a id="6043" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="6063" href="Semantics.html#6063" class="Bound">sem</a> <a id="6067" class="Symbol">(_</a> <a id="6070" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6072" href="Semantics.html#6072" class="Bound">def</a> <a id="6076" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6078" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="6082" class="Symbol">)</a> <a id="6084" class="Symbol">(</a><a id="6085" href="TraceSet.html#2863" class="InductiveConstructor">maximal</a> <a id="6093" class="Symbol">_</a> <a id="6095" href="Semantics.html#6095" class="Bound">F</a><a id="6096" class="Symbol">)</a> <a id="6098" class="Symbol">|</a> <a id="6100" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="6104" href="Semantics.html#6104" class="Bound">w</a> <a id="6106" class="Keyword">with</a> <a id="6111" href="Semantics.html#6095" class="Bound">F</a> <a id="6113" href="Trace.html#2342" class="InductiveConstructor">none</a> <a id="6118" href="Semantics.html#6104" class="Bound">w</a>
<a id="6120" class="Symbol">...</a> <a id="6124" class="Symbol">|</a> <a id="6126" class="Symbol">()</a>
<a id="6129" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="6149" href="Semantics.html#6149" class="Bound">sem</a> <a id="6153" class="Symbol">(_</a> <a id="6156" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6158" href="Semantics.html#6158" class="Bound">def</a> <a id="6162" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6164" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="6174" href="Semantics.html#6174" class="Bound">!x</a><a id="6176" class="Symbol">)</a> <a id="6178" href="Semantics.html#6178" class="Bound">tr</a><a id="6180" class="Symbol">)</a> <a id="6182" href="Semantics.html#6182" class="Bound">comp</a> <a id="6187" class="Symbol">|</a> <a id="6189" href="Semantics.html#2034" class="InductiveConstructor">out</a> <a id="6193" href="Semantics.html#6193" class="Bound">w</a> <a id="6195" class="Symbol">=</a>
  <a id="6199" href="Semantics.html#5390" class="Function">decode+maximal-&gt;win</a> <a id="6219" class="Symbol">(</a><a id="6220" href="Semantics.html#3030" class="Function">derive-semantics</a> <a id="6237" href="Semantics.html#6149" class="Bound">sem</a> <a id="6241" class="Symbol">(</a><a id="6242" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="6244" class="Symbol">_))</a> <a id="6248" class="Symbol">(_</a> <a id="6251" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6253" href="Semantics.html#6158" class="Bound">def</a> <a id="6257" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6259" href="Semantics.html#6178" class="Bound">tr</a><a id="6261" class="Symbol">)</a> <a id="6263" class="Symbol">(</a><a id="6264" href="TraceSet.html#3015" class="Function">derive-maximal</a> <a id="6279" href="Semantics.html#6182" class="Bound">comp</a><a id="6283" class="Symbol">)</a>

<a id="win-&gt;maximal"></a><a id="6286" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6299" class="Symbol">:</a>
  <a id="6303" class="Symbol">∀{</a><a id="6305" href="Semantics.html#6305" class="Bound">T</a> <a id="6307" href="Semantics.html#6307" class="Bound">φ</a> <a id="6309" href="Semantics.html#6309" class="Bound">ψ</a><a id="6310" class="Symbol">}</a> <a id="6312" class="Symbol">-&gt;</a>
  <a id="6317" href="Semantics.html#6307" class="Bound">φ</a> <a id="6319" href="Trace.html#2306" class="Datatype Operator">⊑</a> <a id="6321" href="Semantics.html#6309" class="Bound">ψ</a> <a id="6323" class="Symbol">-&gt;</a>
  <a id="6328" class="Symbol">(</a><a id="6329" href="Semantics.html#6329" class="Bound">tφ</a> <a id="6332" class="Symbol">:</a> <a id="6334" href="Semantics.html#6305" class="Bound">T</a> <a id="6336" href="HasTrace.html#1645" class="Function Operator">HasTrace</a> <a id="6345" href="Semantics.html#6307" class="Bound">φ</a><a id="6346" class="Symbol">)</a> <a id="6348" class="Symbol">-&gt;</a>
  <a id="6353" href="Semantics.html#6305" class="Bound">T</a> <a id="6355" href="HasTrace.html#1645" class="Function Operator">HasTrace</a> <a id="6364" href="Semantics.html#6309" class="Bound">ψ</a> <a id="6366" class="Symbol">-&gt;</a>
  <a id="6371" href="SessionType.html#3086" class="Datatype">Win</a> <a id="6375" class="Symbol">(</a><a id="6376" href="HasTrace.html#1743" class="Function">after</a> <a id="6382" href="Semantics.html#6329" class="Bound">tφ</a><a id="6384" class="Symbol">)</a> <a id="6386" class="Symbol">-&gt;</a>
  <a id="6391" href="Semantics.html#6307" class="Bound">φ</a> <a id="6393" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6395" href="Semantics.html#6309" class="Bound">ψ</a>
<a id="6397" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6410" href="Semantics.html#6410" class="Bound">le</a> <a id="6413" class="Symbol">(_</a> <a id="6416" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6418" href="Semantics.html#6418" class="Bound">tdef</a> <a id="6423" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6425" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="6429" class="Symbol">)</a> <a id="6431" class="Symbol">(_</a> <a id="6434" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6436" href="Semantics.html#6436" class="Bound">sdef</a> <a id="6441" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6443" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="6447" class="Symbol">)</a> <a id="6449" href="Semantics.html#6449" class="Bound">w</a> <a id="6451" class="Symbol">=</a> <a id="6453" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="6458" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6471" href="Semantics.html#6471" class="Bound">le</a> <a id="6474" class="Symbol">(_</a> <a id="6477" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6479" href="Semantics.html#6479" class="Bound">tdef</a> <a id="6484" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6486" href="Transitions.html#1856" class="InductiveConstructor">refl</a><a id="6490" class="Symbol">)</a> <a id="6492" class="Symbol">(_</a> <a id="6495" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6497" href="Semantics.html#6497" class="Bound">sdef</a> <a id="6502" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6504" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="6509" class="Symbol">(</a><a id="6510" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="6514" href="Semantics.html#6514" class="Bound">!x</a><a id="6516" class="Symbol">)</a> <a id="6518" href="Semantics.html#6518" class="Bound">sr</a><a id="6520" class="Symbol">)</a> <a id="6522" class="Symbol">(</a><a id="6523" href="SessionType.html#3119" class="InductiveConstructor">out</a> <a id="6527" href="Semantics.html#6527" class="Bound">U</a><a id="6528" class="Symbol">)</a> <a id="6530" class="Symbol">=</a> <a id="6532" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="6539" class="Symbol">(</a><a id="6540" href="Semantics.html#6527" class="Bound">U</a> <a id="6542" class="Symbol">_</a> <a id="6544" href="Semantics.html#6514" class="Bound">!x</a><a id="6546" class="Symbol">)</a>
<a id="6548" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6561" class="Symbol">(</a><a id="6562" href="Trace.html#2370" class="InductiveConstructor">some</a> <a id="6567" href="Semantics.html#6567" class="Bound">le</a><a id="6569" class="Symbol">)</a> <a id="6571" class="Symbol">(_</a> <a id="6574" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6576" href="Semantics.html#6576" class="Bound">tdef</a> <a id="6581" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6583" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="6588" href="Transitions.html#1642" class="InductiveConstructor">inp</a> <a id="6592" href="Semantics.html#6592" class="Bound">tr</a><a id="6594" class="Symbol">)</a> <a id="6596" class="Symbol">(_</a> <a id="6599" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6601" href="Semantics.html#6601" class="Bound">sdef</a> <a id="6606" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6608" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="6613" href="Transitions.html#1642" class="InductiveConstructor">inp</a> <a id="6617" href="Semantics.html#6617" class="Bound">sr</a><a id="6619" class="Symbol">)</a> <a id="6621" href="Semantics.html#6621" class="Bound">w</a>
  <a id="6625" class="Keyword">rewrite</a> <a id="6633" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6646" href="Semantics.html#6567" class="Bound">le</a> <a id="6649" class="Symbol">(_</a> <a id="6652" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6654" href="Semantics.html#6576" class="Bound">tdef</a> <a id="6659" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6661" href="Semantics.html#6592" class="Bound">tr</a><a id="6663" class="Symbol">)</a> <a id="6665" class="Symbol">(_</a> <a id="6668" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6670" href="Semantics.html#6601" class="Bound">sdef</a> <a id="6675" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6677" href="Semantics.html#6617" class="Bound">sr</a><a id="6679" class="Symbol">)</a> <a id="6681" href="Semantics.html#6621" class="Bound">w</a> <a id="6683" class="Symbol">=</a> <a id="6685" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="6690" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6703" class="Symbol">(</a><a id="6704" href="Trace.html#2370" class="InductiveConstructor">some</a> <a id="6709" href="Semantics.html#6709" class="Bound">le</a><a id="6711" class="Symbol">)</a> <a id="6713" class="Symbol">(_</a> <a id="6716" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6718" href="Semantics.html#6718" class="Bound">tdef</a> <a id="6723" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6725" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="6730" class="Symbol">(</a><a id="6731" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="6735" class="Symbol">_)</a> <a id="6738" href="Semantics.html#6738" class="Bound">tr</a><a id="6740" class="Symbol">)</a> <a id="6742" class="Symbol">(_</a> <a id="6745" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6747" href="Semantics.html#6747" class="Bound">sdef</a> <a id="6752" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6754" href="Transitions.html#1892" class="InductiveConstructor">step</a> <a id="6759" class="Symbol">(</a><a id="6760" href="Transitions.html#1714" class="InductiveConstructor">out</a> <a id="6764" class="Symbol">_)</a> <a id="6767" href="Semantics.html#6767" class="Bound">sr</a><a id="6769" class="Symbol">)</a> <a id="6771" href="Semantics.html#6771" class="Bound">w</a>
  <a id="6775" class="Keyword">rewrite</a> <a id="6783" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="6796" href="Semantics.html#6709" class="Bound">le</a> <a id="6799" class="Symbol">(_</a> <a id="6802" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6804" href="Semantics.html#6718" class="Bound">tdef</a> <a id="6809" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6811" href="Semantics.html#6738" class="Bound">tr</a><a id="6813" class="Symbol">)</a> <a id="6815" class="Symbol">(_</a> <a id="6818" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6820" href="Semantics.html#6747" class="Bound">sdef</a> <a id="6825" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6827" href="Semantics.html#6767" class="Bound">sr</a><a id="6829" class="Symbol">)</a> <a id="6831" href="Semantics.html#6771" class="Bound">w</a> <a id="6833" class="Symbol">=</a> <a id="6835" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="decode+win-&gt;maximal"></a><a id="6841" href="Semantics.html#6841" class="Function">decode+win-&gt;maximal</a> <a id="6861" class="Symbol">:</a>
  <a id="6865" class="Symbol">∀{</a><a id="6867" href="Semantics.html#6867" class="Bound">X</a> <a id="6869" href="Semantics.html#6869" class="Bound">φ</a><a id="6870" class="Symbol">}</a>
  <a id="6874" class="Symbol">(</a><a id="6875" href="Semantics.html#6875" class="Bound">sem</a> <a id="6879" class="Symbol">:</a> <a id="6881" href="Semantics.html#1712" class="Record">Semantics</a> <a id="6891" href="Semantics.html#6867" class="Bound">X</a><a id="6892" class="Symbol">)</a>
  <a id="6896" class="Symbol">(</a><a id="6897" href="Semantics.html#6897" class="Bound">rφ</a> <a id="6900" class="Symbol">:</a> <a id="6902" href="Semantics.html#3743" class="Function">decode</a> <a id="6909" href="Semantics.html#6875" class="Bound">sem</a> <a id="6913" class="Symbol">.</a><a id="6914" href="SessionType.html#1749" class="Field">force</a> <a id="6920" href="HasTrace.html#1645" class="Function Operator">HasTrace</a> <a id="6929" href="Semantics.html#6869" class="Bound">φ</a><a id="6930" class="Symbol">)</a> <a id="6932" class="Symbol">-&gt;</a>
  <a id="6937" href="SessionType.html#3086" class="Datatype">Win</a> <a id="6941" class="Symbol">(</a><a id="6942" href="HasTrace.html#1743" class="Function">after</a> <a id="6948" href="Semantics.html#6897" class="Bound">rφ</a><a id="6950" class="Symbol">)</a> <a id="6952" class="Symbol">-&gt;</a>
  <a id="6957" href="Semantics.html#6869" class="Bound">φ</a> <a id="6959" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="6961" href="TraceSet.html#2820" class="Datatype">Maximal</a> <a id="6969" href="Semantics.html#6867" class="Bound">X</a>
<a id="6971" href="Semantics.html#6841" class="Function">decode+win-&gt;maximal</a> <a id="6991" class="Symbol">{</a><a id="6992" href="Semantics.html#6992" class="Bound">X</a><a id="6993" class="Symbol">}</a> <a id="6995" class="Symbol">{</a><a id="6996" href="Semantics.html#6996" class="Bound">φ</a><a id="6997" class="Symbol">}</a> <a id="6999" href="Semantics.html#6999" class="Bound">sem</a> <a id="7003" href="Semantics.html#7003" class="Bound">rφ</a> <a id="7006" href="Semantics.html#7006" class="Bound">w</a> <a id="7008" class="Symbol">=</a>
  <a id="7012" href="TraceSet.html#2863" class="InductiveConstructor">maximal</a> <a id="7020" class="Symbol">(</a><a id="7021" href="Semantics.html#3981" class="Function">decode-sub</a> <a id="7032" href="Semantics.html#6999" class="Bound">sem</a> <a id="7036" href="Semantics.html#7003" class="Bound">rφ</a><a id="7038" class="Symbol">)</a> <a id="7040" class="Symbol">λ</a> <a id="7042" href="Semantics.html#7042" class="Bound">le</a> <a id="7045" href="Semantics.html#7045" class="Bound">xψ</a> <a id="7048" class="Symbol">-&gt;</a> <a id="7051" class="Keyword">let</a> <a id="7055" href="Semantics.html#7055" class="Bound">rψ</a> <a id="7058" class="Symbol">=</a> <a id="7060" href="Semantics.html#4635" class="Function">decode-sup</a> <a id="7071" href="Semantics.html#6999" class="Bound">sem</a> <a id="7075" href="Semantics.html#7045" class="Bound">xψ</a> <a id="7078" class="Keyword">in</a>
                                          <a id="7123" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7127" class="Symbol">(</a><a id="7128" href="Semantics.html#6286" class="Function">win-&gt;maximal</a> <a id="7141" href="Semantics.html#7042" class="Bound">le</a> <a id="7144" href="Semantics.html#7003" class="Bound">rφ</a> <a id="7147" href="Semantics.html#7055" class="Bound">rψ</a> <a id="7150" href="Semantics.html#7006" class="Bound">w</a><a id="7151" class="Symbol">)</a>
</pre></body></html>