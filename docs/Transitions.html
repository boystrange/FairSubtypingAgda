<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Transitions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- MIT License</a>

<a id="17" class="Comment">-- Copyright (c) 2021 Luca Ciccone and Luca Padovani</a>

<a id="71" class="Comment">-- Permission is hereby granted, free of charge, to any person</a>
<a id="134" class="Comment">-- obtaining a copy of this software and associated documentation</a>
<a id="200" class="Comment">-- files (the &quot;Software&quot;), to deal in the Software without</a>
<a id="259" class="Comment">-- restriction, including without limitation the rights to use,</a>
<a id="323" class="Comment">-- copy, modify, merge, publish, distribute, sublicense, and/or sell</a>
<a id="392" class="Comment">-- copies of the Software, and to permit persons to whom the</a>
<a id="453" class="Comment">-- Software is furnished to do so, subject to the following</a>
<a id="513" class="Comment">-- conditions:</a>

<a id="529" class="Comment">-- The above copyright notice and this permission notice shall be</a>
<a id="595" class="Comment">-- included in all copies or substantial portions of the Software.</a>

<a id="663" class="Comment">-- THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</a>
<a id="730" class="Comment">-- EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</a>
<a id="797" class="Comment">-- OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</a>
<a id="857" class="Comment">-- NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</a>
<a id="920" class="Comment">-- HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</a>
<a id="984" class="Comment">-- WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</a>
<a id="1048" class="Comment">-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</a>
<a id="1113" class="Comment">-- OTHER DEALINGS IN THE SOFTWARE.</a>

<a id="1149" class="Keyword">open</a> <a id="1154" class="Keyword">import</a> <a id="1161" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="1172" class="Keyword">open</a> <a id="1177" class="Keyword">import</a> <a id="1184" href="Data.Product.html" class="Module">Data.Product</a>
<a id="1197" class="Keyword">open</a> <a id="1202" class="Keyword">import</a> <a id="1209" href="Data.List.html" class="Module">Data.List</a> <a id="1219" class="Keyword">using</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="1228" class="Symbol">;</a> <a id="1230" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1233" class="Symbol">;</a> <a id="1235" href="Data.List.Base.html#9641" class="Function Operator">_∷ʳ_</a><a id="1239" class="Symbol">)</a>

<a id="1242" class="Keyword">open</a> <a id="1247" class="Keyword">import</a> <a id="1254" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1269" class="Keyword">using</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Relation.Unary.html#1523" class="Function Operator">_∈_</a><a id="1279" class="Symbol">)</a>
<a id="1281" class="Keyword">open</a> <a id="1286" class="Keyword">import</a> <a id="1293" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1331" class="Keyword">using</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1341" class="Symbol">;</a> <a id="1343" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1347" class="Symbol">)</a>
<a id="1349" class="Keyword">import</a> <a id="1356" href="Relation.Binary.HeterogeneousEquality.html" class="Module">Relation.Binary.HeterogeneousEquality</a> <a id="1394" class="Symbol">as</a> <a id="1397" class="Module">Het</a>

<a id="1402" class="Keyword">open</a> <a id="1407" class="Keyword">import</a> <a id="1414" href="Common.html" class="Module">Common</a>

<a id="1422" class="Keyword">module</a> <a id="1429" href="Transitions.html" class="Module">Transitions</a> <a id="1441" class="Symbol">{</a><a id="1442" href="Transitions.html#1442" class="Bound">ℙ</a> <a id="1444" class="Symbol">:</a> <a id="1446" class="PrimitiveType">Set</a><a id="1449" class="Symbol">}</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Transitions.html#1452" class="Bound">message</a> <a id="1460" class="Symbol">:</a> <a id="1462" href="Common.html#1500" class="Record">Message</a> <a id="1470" href="Transitions.html#1442" class="Bound">ℙ</a><a id="1471" class="Symbol">)</a>
  <a id="1475" class="Keyword">where</a>

<a id="1482" class="Keyword">open</a> <a id="1487" class="Keyword">import</a> <a id="1494" href="SessionType.html" class="Module">SessionType</a> <a id="1506" href="Transitions.html#1452" class="Bound">message</a>
<a id="1514" class="Keyword">open</a> <a id="1519" class="Keyword">import</a> <a id="1526" href="Trace.html" class="Module">Trace</a> <a id="1532" href="Transitions.html#1452" class="Bound">message</a>

<a id="1541" class="Keyword">data</a> <a id="Transition"></a><a id="1546" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="1557" class="Symbol">:</a> <a id="1559" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1571" class="Symbol">-&gt;</a> <a id="1574" href="Action.html#1349" class="Datatype">Action</a> <a id="1581" class="Symbol">-&gt;</a> <a id="1584" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1596" class="Symbol">-&gt;</a> <a id="1599" class="PrimitiveType">Set</a> <a id="1603" class="Keyword">where</a>
  <a id="Transition.inp"></a><a id="1611" href="Transitions.html#1611" class="InductiveConstructor">inp</a> <a id="1615" class="Symbol">:</a> <a id="1617" class="Symbol">∀{</a><a id="1619" href="Transitions.html#1619" class="Bound">f</a> <a id="1621" href="Transitions.html#1621" class="Bound">x</a><a id="1622" class="Symbol">}</a>                 <a id="1640" class="Symbol">-&gt;</a> <a id="1643" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="1654" class="Symbol">(</a><a id="1655" href="SessionType.html#1786" class="InductiveConstructor">inp</a> <a id="1659" href="Transitions.html#1619" class="Bound">f</a><a id="1660" class="Symbol">)</a> <a id="1662" class="Symbol">(</a><a id="1663" href="Action.html#1370" class="InductiveConstructor">I</a> <a id="1665" href="Transitions.html#1621" class="Bound">x</a><a id="1666" class="Symbol">)</a> <a id="1668" class="Symbol">(</a><a id="1669" href="Transitions.html#1619" class="Bound">f</a> <a id="1671" href="Transitions.html#1621" class="Bound">x</a> <a id="1673" class="Symbol">.</a><a id="1674" href="SessionType.html#1642" class="Field">force</a><a id="1679" class="Symbol">)</a>
  <a id="Transition.out"></a><a id="1683" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="1687" class="Symbol">:</a> <a id="1689" class="Symbol">∀{</a><a id="1691" href="Transitions.html#1691" class="Bound">f</a> <a id="1693" href="Transitions.html#1693" class="Bound">x</a><a id="1694" class="Symbol">}</a> <a id="1696" class="Symbol">(</a><a id="1697" href="Transitions.html#1697" class="Bound">!x</a> <a id="1700" class="Symbol">:</a> <a id="1702" href="Transitions.html#1693" class="Bound">x</a> <a id="1704" href="Relation.Unary.html#1523" class="Function Operator">∈</a> <a id="1706" href="SessionType.html#2230" class="Function">dom</a> <a id="1710" href="Transitions.html#1691" class="Bound">f</a><a id="1711" class="Symbol">)</a> <a id="1713" class="Symbol">-&gt;</a> <a id="1716" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="1727" class="Symbol">(</a><a id="1728" href="SessionType.html#1828" class="InductiveConstructor">out</a> <a id="1732" href="Transitions.html#1691" class="Bound">f</a><a id="1733" class="Symbol">)</a> <a id="1735" class="Symbol">(</a><a id="1736" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="1738" href="Transitions.html#1693" class="Bound">x</a><a id="1739" class="Symbol">)</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Transitions.html#1691" class="Bound">f</a> <a id="1744" href="Transitions.html#1693" class="Bound">x</a> <a id="1746" class="Symbol">.</a><a id="1747" href="SessionType.html#1642" class="Field">force</a><a id="1752" class="Symbol">)</a>

<a id="1755" class="Keyword">data</a> <a id="Transitions"></a><a id="1760" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="1772" class="Symbol">:</a> <a id="1774" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1786" class="Symbol">-&gt;</a> <a id="1789" href="Trace.html#1534" class="Function">Trace</a> <a id="1795" class="Symbol">-&gt;</a> <a id="1798" href="SessionType.html#1551" class="Datatype">SessionType</a> <a id="1810" class="Symbol">-&gt;</a> <a id="1813" class="PrimitiveType">Set</a> <a id="1817" class="Keyword">where</a>
  <a id="Transitions.refl"></a><a id="1825" href="Transitions.html#1825" class="InductiveConstructor">refl</a> <a id="1830" class="Symbol">:</a> <a id="1832" class="Symbol">∀{</a><a id="1834" href="Transitions.html#1834" class="Bound">T</a><a id="1835" class="Symbol">}</a> <a id="1837" class="Symbol">-&gt;</a> <a id="1840" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="1852" href="Transitions.html#1834" class="Bound">T</a> <a id="1854" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1857" href="Transitions.html#1834" class="Bound">T</a>
  <a id="Transitions.step"></a><a id="1861" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="1866" class="Symbol">:</a> <a id="1868" class="Symbol">∀{</a><a id="1870" href="Transitions.html#1870" class="Bound">T</a> <a id="1872" href="Transitions.html#1872" class="Bound">α</a> <a id="1874" href="Transitions.html#1874" class="Bound">T&#39;</a> <a id="1877" href="Transitions.html#1877" class="Bound">φ</a> <a id="1879" href="Transitions.html#1879" class="Bound">T&#39;&#39;</a><a id="1882" class="Symbol">}</a> <a id="1884" class="Symbol">(</a><a id="1885" href="Transitions.html#1885" class="Bound">t</a> <a id="1887" class="Symbol">:</a> <a id="1889" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="1900" href="Transitions.html#1870" class="Bound">T</a> <a id="1902" href="Transitions.html#1872" class="Bound">α</a> <a id="1904" href="Transitions.html#1874" class="Bound">T&#39;</a><a id="1906" class="Symbol">)</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Transitions.html#1909" class="Bound">tr</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="1926" href="Transitions.html#1874" class="Bound">T&#39;</a> <a id="1929" href="Transitions.html#1877" class="Bound">φ</a> <a id="1931" href="Transitions.html#1879" class="Bound">T&#39;&#39;</a><a id="1934" class="Symbol">)</a> <a id="1936" class="Symbol">-&gt;</a> <a id="1939" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="1951" href="Transitions.html#1870" class="Bound">T</a> <a id="1953" class="Symbol">(</a><a id="1954" href="Transitions.html#1872" class="Bound">α</a> <a id="1956" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1958" href="Transitions.html#1877" class="Bound">φ</a><a id="1959" class="Symbol">)</a> <a id="1961" href="Transitions.html#1879" class="Bound">T&#39;&#39;</a>

<a id="transition-&gt;defined"></a><a id="1966" href="Transitions.html#1966" class="Function">transition-&gt;defined</a> <a id="1986" class="Symbol">:</a> <a id="1988" class="Symbol">∀{</a><a id="1990" href="Transitions.html#1990" class="Bound">T</a> <a id="1992" href="Transitions.html#1992" class="Bound">a</a> <a id="1994" href="Transitions.html#1994" class="Bound">S</a><a id="1995" class="Symbol">}</a> <a id="1997" class="Symbol">-&gt;</a> <a id="2000" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="2011" href="Transitions.html#1990" class="Bound">T</a> <a id="2013" href="Transitions.html#1992" class="Bound">a</a> <a id="2015" href="Transitions.html#1994" class="Bound">S</a> <a id="2017" class="Symbol">-&gt;</a> <a id="2020" href="SessionType.html#1874" class="Datatype">Defined</a> <a id="2028" href="Transitions.html#1990" class="Bound">T</a>
<a id="2030" href="Transitions.html#1966" class="Function">transition-&gt;defined</a> <a id="2050" href="Transitions.html#1611" class="InductiveConstructor">inp</a>     <a id="2058" class="Symbol">=</a> <a id="2060" href="SessionType.html#1911" class="InductiveConstructor">inp</a>
<a id="2064" href="Transitions.html#1966" class="Function">transition-&gt;defined</a> <a id="2084" class="Symbol">(</a><a id="2085" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="2089" class="Symbol">_)</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="SessionType.html#1943" class="InductiveConstructor">out</a>

<a id="output-transition-&gt;defined"></a><a id="2099" href="Transitions.html#2099" class="Function">output-transition-&gt;defined</a> <a id="2126" class="Symbol">:</a> <a id="2128" class="Symbol">∀{</a><a id="2130" href="Transitions.html#2130" class="Bound">T</a> <a id="2132" href="Transitions.html#2132" class="Bound">x</a> <a id="2134" href="Transitions.html#2134" class="Bound">S</a><a id="2135" class="Symbol">}</a> <a id="2137" class="Symbol">-&gt;</a> <a id="2140" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="2151" href="Transitions.html#2130" class="Bound">T</a> <a id="2153" class="Symbol">(</a><a id="2154" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2156" href="Transitions.html#2132" class="Bound">x</a><a id="2157" class="Symbol">)</a> <a id="2159" href="Transitions.html#2134" class="Bound">S</a> <a id="2161" class="Symbol">-&gt;</a> <a id="2164" href="SessionType.html#1874" class="Datatype">Defined</a> <a id="2172" href="Transitions.html#2134" class="Bound">S</a>
<a id="2174" href="Transitions.html#2099" class="Function">output-transition-&gt;defined</a> <a id="2201" class="Symbol">(</a><a id="2202" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="2206" href="Transitions.html#2206" class="Bound">!x</a><a id="2208" class="Symbol">)</a> <a id="2210" class="Symbol">=</a> <a id="2212" href="Transitions.html#2206" class="Bound">!x</a>

<a id="output-transitions-&gt;defined"></a><a id="2216" href="Transitions.html#2216" class="Function">output-transitions-&gt;defined</a> <a id="2244" class="Symbol">:</a> <a id="2246" class="Symbol">∀{</a><a id="2248" href="Transitions.html#2248" class="Bound">T</a> <a id="2250" href="Transitions.html#2250" class="Bound">φ</a> <a id="2252" href="Transitions.html#2252" class="Bound">x</a> <a id="2254" href="Transitions.html#2254" class="Bound">S</a><a id="2255" class="Symbol">}</a> <a id="2257" class="Symbol">-&gt;</a> <a id="2260" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="2272" href="Transitions.html#2248" class="Bound">T</a> <a id="2274" class="Symbol">(</a><a id="2275" href="Transitions.html#2250" class="Bound">φ</a> <a id="2277" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="2280" href="Action.html#1372" class="InductiveConstructor">O</a> <a id="2282" href="Transitions.html#2252" class="Bound">x</a><a id="2283" class="Symbol">)</a> <a id="2285" href="Transitions.html#2254" class="Bound">S</a> <a id="2287" class="Symbol">-&gt;</a> <a id="2290" href="SessionType.html#1874" class="Datatype">Defined</a> <a id="2298" href="Transitions.html#2254" class="Bound">S</a>
<a id="2300" href="Transitions.html#2216" class="Function">output-transitions-&gt;defined</a> <a id="2328" class="Symbol">{_}</a> <a id="2332" class="Symbol">{</a><a id="2333" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2335" class="Symbol">}</a> <a id="2337" class="Symbol">(</a><a id="2338" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="2343" class="Symbol">(</a><a id="2344" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="2348" href="Transitions.html#2348" class="Bound">fx</a><a id="2350" class="Symbol">)</a> <a id="2352" href="Transitions.html#1825" class="InductiveConstructor">refl</a><a id="2356" class="Symbol">)</a> <a id="2358" class="Symbol">=</a> <a id="2360" href="Transitions.html#2348" class="Bound">fx</a>
<a id="2363" href="Transitions.html#2216" class="Function">output-transitions-&gt;defined</a> <a id="2391" class="Symbol">{_}</a> <a id="2395" class="Symbol">{_</a> <a id="2398" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2400" class="Symbol">_}</a> <a id="2403" class="Symbol">(</a><a id="2404" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="2409" class="Symbol">_</a> <a id="2411" href="Transitions.html#2411" class="Bound">tr</a><a id="2413" class="Symbol">)</a> <a id="2415" class="Symbol">=</a> <a id="2417" href="Transitions.html#2216" class="Function">output-transitions-&gt;defined</a> <a id="2445" href="Transitions.html#2411" class="Bound">tr</a>

<a id="unsnoc-transitions"></a><a id="2449" href="Transitions.html#2449" class="Function">unsnoc-transitions</a> <a id="2468" class="Symbol">:</a> <a id="2470" class="Symbol">∀{</a><a id="2472" href="Transitions.html#2472" class="Bound">T</a> <a id="2474" href="Transitions.html#2474" class="Bound">φ</a> <a id="2476" href="Transitions.html#2476" class="Bound">α</a> <a id="2478" href="Transitions.html#2478" class="Bound">S</a><a id="2479" class="Symbol">}</a> <a id="2481" class="Symbol">-&gt;</a> <a id="2484" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="2496" href="Transitions.html#2472" class="Bound">T</a> <a id="2498" class="Symbol">(</a><a id="2499" href="Transitions.html#2474" class="Bound">φ</a> <a id="2501" href="Data.List.Base.html#9641" class="Function Operator">∷ʳ</a> <a id="2504" href="Transitions.html#2476" class="Bound">α</a><a id="2505" class="Symbol">)</a> <a id="2507" href="Transitions.html#2478" class="Bound">S</a> <a id="2509" class="Symbol">-&gt;</a> <a id="2512" href="Data.Product.html#1788" class="Function">∃[</a> <a id="2515" href="Transitions.html#2515" class="Bound">R</a> <a id="2517" href="Data.Product.html#1788" class="Function">]</a> <a id="2519" class="Symbol">(</a><a id="2520" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="2532" href="Transitions.html#2472" class="Bound">T</a> <a id="2534" href="Transitions.html#2474" class="Bound">φ</a> <a id="2536" href="Transitions.html#2515" class="Bound">R</a> <a id="2538" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2540" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="2551" href="Transitions.html#2515" class="Bound">R</a> <a id="2553" href="Transitions.html#2476" class="Bound">α</a> <a id="2555" href="Transitions.html#2478" class="Bound">S</a><a id="2556" class="Symbol">)</a>
<a id="2558" href="Transitions.html#2449" class="Function">unsnoc-transitions</a> <a id="2577" class="Symbol">{_}</a> <a id="2581" class="Symbol">{</a><a id="2582" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2584" class="Symbol">}</a> <a id="2586" class="Symbol">(</a><a id="2587" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="2592" href="Transitions.html#2592" class="Bound">t</a> <a id="2594" href="Transitions.html#1825" class="InductiveConstructor">refl</a><a id="2598" class="Symbol">)</a> <a id="2600" class="Symbol">=</a> <a id="2602" class="Symbol">_</a> <a id="2604" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2606" href="Transitions.html#1825" class="InductiveConstructor">refl</a> <a id="2611" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2613" href="Transitions.html#2592" class="Bound">t</a>
<a id="2615" href="Transitions.html#2449" class="Function">unsnoc-transitions</a> <a id="2634" class="Symbol">{_}</a> <a id="2638" class="Symbol">{</a><a id="2639" href="Transitions.html#2639" class="Bound">x</a> <a id="2641" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2643" href="Transitions.html#2643" class="Bound">φ</a><a id="2644" class="Symbol">}</a> <a id="2646" class="Symbol">(</a><a id="2647" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="2652" href="Transitions.html#2652" class="Bound">t</a> <a id="2654" href="Transitions.html#2654" class="Bound">tr</a><a id="2656" class="Symbol">)</a> <a id="2658" class="Keyword">with</a> <a id="2663" href="Transitions.html#2449" class="Function">unsnoc-transitions</a> <a id="2682" href="Transitions.html#2654" class="Bound">tr</a>
<a id="2685" class="Symbol">...</a> <a id="2689" class="Symbol">|</a> <a id="2691" class="Symbol">_</a> <a id="2693" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2695" href="Transitions.html#2695" class="Bound">sr</a> <a id="2698" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2700" href="Transitions.html#2700" class="Bound">s</a> <a id="2702" class="Symbol">=</a> <a id="2704" class="Symbol">_</a> <a id="2706" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2708" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="2713" class="Bound">t</a> <a id="2715" href="Transitions.html#2695" class="Bound">sr</a> <a id="2718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2720" href="Transitions.html#2700" class="Bound">s</a>

<a id="transitions+defined-&gt;defined"></a><a id="2723" href="Transitions.html#2723" class="Function">transitions+defined-&gt;defined</a> <a id="2752" class="Symbol">:</a> <a id="2754" class="Symbol">∀{</a><a id="2756" href="Transitions.html#2756" class="Bound">T</a> <a id="2758" href="Transitions.html#2758" class="Bound">as</a> <a id="2761" href="Transitions.html#2761" class="Bound">S</a><a id="2762" class="Symbol">}</a> <a id="2764" class="Symbol">-&gt;</a> <a id="2767" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="2779" href="Transitions.html#2756" class="Bound">T</a> <a id="2781" href="Transitions.html#2758" class="Bound">as</a> <a id="2784" href="Transitions.html#2761" class="Bound">S</a> <a id="2786" class="Symbol">-&gt;</a> <a id="2789" href="SessionType.html#1874" class="Datatype">Defined</a> <a id="2797" href="Transitions.html#2761" class="Bound">S</a> <a id="2799" class="Symbol">-&gt;</a> <a id="2802" href="SessionType.html#1874" class="Datatype">Defined</a> <a id="2810" href="Transitions.html#2756" class="Bound">T</a>
<a id="2812" href="Transitions.html#2723" class="Function">transitions+defined-&gt;defined</a> <a id="2841" href="Transitions.html#1825" class="InductiveConstructor">refl</a> <a id="2846" href="Transitions.html#2846" class="Bound">def</a> <a id="2850" class="Symbol">=</a> <a id="2852" href="Transitions.html#2846" class="Bound">def</a>
<a id="2856" href="Transitions.html#2723" class="Function">transitions+defined-&gt;defined</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="2891" href="Transitions.html#2891" class="Bound">t</a> <a id="2893" class="Symbol">_)</a> <a id="2896" class="Symbol">_</a> <a id="2898" class="Symbol">=</a> <a id="2900" href="Transitions.html#1966" class="Function">transition-&gt;defined</a> <a id="2920" href="Transitions.html#2891" class="Bound">t</a>

<a id="transitions-eq"></a><a id="2923" href="Transitions.html#2923" class="Function">transitions-eq</a> <a id="2938" class="Symbol">:</a> <a id="2940" class="Symbol">∀{</a><a id="2942" href="Transitions.html#2942" class="Bound">T</a> <a id="2944" href="Transitions.html#2944" class="Bound">T&#39;</a> <a id="2947" href="Transitions.html#2947" class="Bound">T&#39;&#39;</a> <a id="2951" href="Transitions.html#2951" class="Bound">φ</a><a id="2952" class="Symbol">}</a> <a id="2954" class="Symbol">(</a><a id="2955" href="Transitions.html#2955" class="Bound">tr</a> <a id="2958" class="Symbol">:</a> <a id="2960" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="2972" href="Transitions.html#2942" class="Bound">T</a> <a id="2974" href="Transitions.html#2951" class="Bound">φ</a> <a id="2976" href="Transitions.html#2944" class="Bound">T&#39;</a><a id="2978" class="Symbol">)</a> <a id="2980" class="Symbol">(</a><a id="2981" href="Transitions.html#2981" class="Bound">sr</a> <a id="2984" class="Symbol">:</a> <a id="2986" href="Transitions.html#1760" class="Datatype">Transitions</a> <a id="2998" href="Transitions.html#2942" class="Bound">T</a> <a id="3000" href="Transitions.html#2951" class="Bound">φ</a> <a id="3002" href="Transitions.html#2947" class="Bound">T&#39;&#39;</a><a id="3005" class="Symbol">)</a> <a id="3007" class="Symbol">-&gt;</a>
  <a id="3012" href="Transitions.html#2944" class="Bound">T&#39;</a> <a id="3015" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3017" href="Transitions.html#2947" class="Bound">T&#39;&#39;</a> <a id="3021" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3023" href="Transitions.html#2955" class="Bound">tr</a> <a id="3026" href="Relation.Binary.HeterogeneousEquality.Core.html#681" class="Datatype Operator">Het.≅</a> <a id="3032" href="Transitions.html#2981" class="Bound">sr</a>
<a id="3035" href="Transitions.html#2923" class="Function">transitions-eq</a> <a id="3050" href="Transitions.html#1825" class="InductiveConstructor">refl</a> <a id="3055" href="Transitions.html#1825" class="InductiveConstructor">refl</a> <a id="3060" class="Symbol">=</a> <a id="3062" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3067" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3069" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">Het.refl</a>
<a id="3078" href="Transitions.html#2923" class="Function">transitions-eq</a> <a id="3093" class="Symbol">(</a><a id="3094" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="3099" href="Transitions.html#1611" class="InductiveConstructor">inp</a> <a id="3103" href="Transitions.html#3103" class="Bound">tr</a><a id="3105" class="Symbol">)</a> <a id="3107" class="Symbol">(</a><a id="3108" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="3113" href="Transitions.html#1611" class="InductiveConstructor">inp</a> <a id="3117" href="Transitions.html#3117" class="Bound">sr</a><a id="3119" class="Symbol">)</a> <a id="3121" class="Keyword">with</a> <a id="3126" href="Transitions.html#2923" class="Function">transitions-eq</a> <a id="3141" href="Transitions.html#3103" class="Bound">tr</a> <a id="3144" href="Transitions.html#3117" class="Bound">sr</a>
<a id="3147" class="Symbol">...</a> <a id="3151" class="Symbol">|</a> <a id="3153" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3158" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3160" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">Het.refl</a> <a id="3169" class="Symbol">=</a> <a id="3171" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3176" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3178" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">Het.refl</a>
<a id="3187" href="Transitions.html#2923" class="Function">transitions-eq</a> <a id="3202" class="Symbol">(</a><a id="3203" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="3208" class="Symbol">(</a><a id="3209" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="3213" href="Transitions.html#3213" class="Bound">fx</a><a id="3215" class="Symbol">)</a> <a id="3217" href="Transitions.html#3217" class="Bound">tr</a><a id="3219" class="Symbol">)</a> <a id="3221" class="Symbol">(</a><a id="3222" href="Transitions.html#1861" class="InductiveConstructor">step</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="3232" href="Transitions.html#3232" class="Bound">gx</a><a id="3234" class="Symbol">)</a> <a id="3236" href="Transitions.html#3236" class="Bound">sr</a><a id="3238" class="Symbol">)</a> <a id="3240" class="Keyword">with</a> <a id="3245" href="SessionType.html#2104" class="Function">Defined-eq</a> <a id="3256" href="Transitions.html#3213" class="Bound">fx</a> <a id="3259" href="Transitions.html#3232" class="Bound">gx</a> <a id="3262" class="Symbol">|</a> <a id="3264" href="Transitions.html#2923" class="Function">transitions-eq</a> <a id="3279" href="Transitions.html#3217" class="Bound">tr</a> <a id="3282" href="Transitions.html#3236" class="Bound">sr</a>
<a id="3285" class="Symbol">...</a> <a id="3289" class="Symbol">|</a> <a id="3291" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3296" class="Symbol">|</a> <a id="3298" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3303" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3305" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">Het.refl</a> <a id="3314" class="Symbol">=</a> <a id="3316" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3321" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3323" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">Het.refl</a>

<a id="win-reduces-⊥"></a><a id="3333" href="Transitions.html#3333" class="Function">win-reduces-⊥</a> <a id="3347" class="Symbol">:</a> <a id="3349" class="Symbol">∀{</a><a id="3351" href="Transitions.html#3351" class="Bound">S</a> <a id="3353" href="Transitions.html#3353" class="Bound">S&#39;</a> <a id="3356" href="Transitions.html#3356" class="Bound">α</a><a id="3357" class="Symbol">}</a> <a id="3359" class="Symbol">→</a> <a id="3361" href="SessionType.html#2979" class="Datatype">Win</a> <a id="3365" href="Transitions.html#3351" class="Bound">S</a> <a id="3367" class="Symbol">→</a> <a id="3369" href="Transitions.html#1546" class="Datatype">Transition</a> <a id="3380" href="Transitions.html#3351" class="Bound">S</a> <a id="3382" href="Transitions.html#3356" class="Bound">α</a> <a id="3384" href="Transitions.html#3353" class="Bound">S&#39;</a> <a id="3387" class="Symbol">→</a> <a id="3389" href="Data.Empty.html#526" class="Datatype">⊥</a>
<a id="3391" href="Transitions.html#3333" class="Function">win-reduces-⊥</a> <a id="3405" class="Symbol">(</a><a id="3406" href="SessionType.html#3012" class="InductiveConstructor">out</a> <a id="3410" href="Transitions.html#3410" class="Bound">e</a><a id="3411" class="Symbol">)</a> <a id="3413" class="Symbol">(</a><a id="3414" href="Transitions.html#1683" class="InductiveConstructor">out</a> <a id="3418" href="Transitions.html#3418" class="Bound">!x</a><a id="3420" class="Symbol">)</a> <a id="3422" class="Symbol">=</a> <a id="3424" href="Transitions.html#3410" class="Bound">e</a> <a id="3426" class="Symbol">_</a> <a id="3428" href="Transitions.html#3418" class="Bound">!x</a>
</pre></body></html>